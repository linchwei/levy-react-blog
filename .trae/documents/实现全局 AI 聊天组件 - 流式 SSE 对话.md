## 实现目标

创建一个炫酷的全局 AI 聊天组件，所有页面都能使用，支持流式 SSE 对话。

## 功能需求

### 1. **位置与交互**
- 固定在左下角
- 点击展开/收起聊天抽屉
- 抽屉从右下角展开（类似抽屉效果）
- 支持拖拽调整大小

### 2. **AI 集成**
- 使用已配置的 DeepSeek API
- 支持 SSE 流式响应
- 使用现有的 `aiService.ts` 中的 `chatStream` 函数
- 自动降级策略（DeepSeek -> 智谱GLM -> 通义千问）

### 3. **炫酷 UI 设计**
- 玻璃拟态风格（参考 TimelinePage/AboutPage）
- 霓虹发光效果
- 消息气泡动画
- 打字机效果显示 AI 回复
- 加载动画

### 4. **功能特性**
- 消息历史记录
- 清空对话
- 快捷问题按钮
- 复制消息
- 代码块高亮

## 技术实现

### 1. **创建组件**
- `GlobalAIChat.tsx` - 全局 AI 聊天组件
- 放置在 `src/components/common/` 目录

### 2. **集成到 App**
- 在 `App.tsx` 中添加全局组件
- 所有页面共享同一个聊天实例

### 3. **状态管理**
- 使用 React Context 或 Zustand 管理聊天状态
- 持久化消息历史到 localStorage

### 4. **UI 细节**
- 展开按钮：左下角悬浮球，带脉冲动画
- 聊天窗口：右下角抽屉，宽度 400px，高度自适应
- 消息列表：滚动区域，支持代码高亮
- 输入框：多行文本，支持 Enter 发送
- 主题适配：支持深色/浅色模式

## 文件修改

1. **创建组件**
   - `src/components/common/GlobalAIChat.tsx` - 主组件
   - `src/components/common/ChatMessage.tsx` - 消息气泡组件
   - `src/components/common/ChatInput.tsx` - 输入框组件

2. **更新 App.tsx**
   - 添加 `<GlobalAIChat />` 到根元素

3. **更新 aiService.ts（如有需要）**
   - 确保 SSE 流式响应正常工作

## 动画效果

1. **展开按钮**
   - 脉冲发光动画
   - 悬停放大效果
   - 消息提醒红点

2. **抽屉展开**
   - 从右下角滑入
   - 背景模糊效果
   - 玻璃拟态边框

3. **消息动画**
   - 新消息淡入
   - AI 回复打字机效果
   - 代码块展开动画

4. **加载状态**
   - 跳跃点动画
   - 渐变流光效果

请确认这个实现计划后，我将开始编写具体的代码。