## 增强目标

将当前的 AI 动画生成器从本地预设匹配升级为真正的 DeepSeek AI 驱动，实现智能动画代码生成。

## 当前问题

1. 目前只是本地关键词匹配预设动画
2. 无法生成自定义动画代码
3. 没有真正利用 AI 能力

## 增强方案

### 1. **接入 DeepSeek API**
- 使用现有的 `chatStream` 函数
- 构建专门的动画生成 Prompt
- 实现流式响应显示

### 2. **AI 动画生成流程**
```
用户输入描述 → DeepSeek 生成动画代码 → 实时预览 → 参数微调
```

### 3. **Prompt 工程**
- 系统 Prompt：定义动画专家角色
- 输出格式：严格的 JSON 格式
- 包含：动画名称、描述、Framer Motion 代码、CSS 代码、默认参数

### 4. **代码安全执行**
- 使用 `new Function()` 或 `eval` 执行生成的代码
- 添加错误边界处理
- 沙箱环境执行

### 5. **UI 增强**
- 流式生成状态显示
- 代码编辑器风格展示
- 一键应用到预览
- 历史记录保存

### 6. **错误处理**
- AI 生成失败重试
- 代码执行错误捕获
- 用户友好错误提示

## 技术实现

### 修改文件
1. `src/pages/AIAnimationPage.tsx` - 完全重构
2. 新增动画代码解析器
3. 新增安全执行器

### AI Prompt 设计
```
你是一位专业的动画开发专家，精通 Framer Motion 和 CSS 动画。
请根据用户的描述生成动画代码，输出 JSON 格式：
{
  "name": "动画名称",
  "description": "动画描述",
  "framerCode": "Framer Motion 代码",
  "cssCode": "CSS 代码",
  "defaultConfig": { duration, delay, ease, ... }
}
```

### 功能特性
1. **真正 AI 生成**：基于 DeepSeek 大模型
2. **流式响应**：实时显示生成进度
3. **代码预览**：即时渲染生成的动画
4. **参数微调**：调整 duration/delay/ease 等
5. **历史记录**：保存生成的动画
6. **一键复制**：复制 Framer/CSS 代码

## 页面结构

1. **Hero 区域**：标题 + 描述输入框
2. **生成按钮**：带加载状态
3. **流式输出区域**：显示 AI 生成过程
4. **预览区域**：实时渲染动画
5. **代码区域**：Framer Motion + CSS 双标签
6. **参数面板**：duration/delay/ease 滑块
7. **历史记录**：之前生成的动画

请确认这个增强计划后，我将开始实施具体的代码重构。