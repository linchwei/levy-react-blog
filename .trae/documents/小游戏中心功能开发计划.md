## 🎮 小游戏中心功能开发计划

### 📋 项目概述
在 DevFolio Pro 中添加5个经典小游戏，通过导航栏下拉菜单进入。

### 🎯 5个游戏选择
1. **贪吃蛇 (Snake)** - 经典街机游戏
2. **俄罗斯方块 (Tetris)** - 经典益智游戏
3. **2048** - 数字合并游戏
4. **记忆翻牌 (Memory Card)** - 记忆挑战游戏
5. **打砖块 (Breakout)** - 经典弹球游戏

---

## 📅 实施阶段

### 阶段1：产品原型文档更新
**任务**：在现有产品原型文档中添加小游戏中心章节

**内容**：
- 3.9 功能9: 小游戏中心（整体架构）
- 3.9.1 贪吃蛇游戏（玩法、数据模型、组件设计）
- 3.9.2 俄罗斯方块（玩法、数据模型、组件设计）
- 3.9.3 2048（玩法、数据模型、组件设计）
- 3.9.4 记忆翻牌（玩法、数据模型、组件设计）
- 3.9.5 打砖块（玩法、数据模型、组件设计）
- 导航栏下拉菜单设计

---

### 阶段2：逐个实现游戏

#### 游戏1：贪吃蛇 🐍
**功能**：
- 蛇身移动、吃食物增长
- 键盘方向键控制
- 碰撞检测（墙壁/自身）
- 计分系统
- 游戏暂停/重新开始

**文件**：
- `src/components/games/snake/SnakeGame.tsx`
- `src/components/games/snake/snakeLogic.ts`
- `src/components/games/snake/snake.test.ts`
- `src/pages/SnakePage.tsx`

**测试**：
- 单元测试游戏逻辑
- 测试键盘控制
- 测试计分系统

---

#### 游戏2：俄罗斯方块 🧱
**功能**：
- 7种方块形状
- 旋转和移动控制
- 行消除逻辑
- 计分系统（消除行数）
- 游戏结束判定

**文件**：
- `src/components/games/tetris/TetrisGame.tsx`
- `src/components/games/tetris/tetrisLogic.ts`
- `src/components/games/tetris/tetris.test.ts`
- `src/pages/TetrisPage.tsx`

**测试**：
- 测试方块旋转逻辑
- 测试行消除
- 测试碰撞检测

---

#### 游戏3：2048 🔢
**功能**：
- 4x4 游戏棋盘
- 数字滑动合并
- 新数字生成
- 胜利（2048）/失败判定
- 计分系统

**文件**：
- `src/components/games/game2048/Game2048.tsx`
- `src/components/games/game2048/game2048Logic.ts`
- `src/components/games/game2048/game2048.test.ts`
- `src/pages/Game2048Page.tsx`

**测试**：
- 测试数字合并逻辑
- 测试滑动算法
- 测试胜负判定

---

#### 游戏4：记忆翻牌 🃏
**功能**：
- 4x4 或 6x6 卡片网格
- 卡片翻转动画
- 匹配逻辑
- 计时系统
- 步数统计

**文件**：
- `src/components/games/memory/MemoryGame.tsx`
- `src/components/games/memory/memoryLogic.ts`
- `src/components/games/memory/memory.test.ts`
- `src/pages/MemoryPage.tsx`

**测试**：
- 测试卡片匹配逻辑
- 测试游戏完成判定
- 测试计时功能

---

#### 游戏5：打砖块 🏓
**功能**：
- 球拍控制（鼠标/键盘）
- 球的物理反弹
- 砖块布局
- 碰撞检测
- 生命系统

**文件**：
- `src/components/games/breakout/BreakoutGame.tsx`
- `src/components/games/breakout/breakoutLogic.ts`
- `src/components/games/breakout/breakout.test.ts`
- `src/pages/BreakoutPage.tsx`

**测试**：
- 测试球的运动轨迹
- 测试碰撞反弹
- 测试砖块消除

---

### 阶段3：导航栏集成

**任务**：
1. 更新 `Navigation` 组件添加"游戏"下拉菜单
2. 鼠标悬停显示下拉列表
3. 下拉菜单包含：
   - 游戏中心首页
   - 贪吃蛇
   - 俄罗斯方块
   - 2048
   - 记忆翻牌
   - 打砖块
4. 更新 `App.tsx` 路由配置
5. 创建 `GamesPage` 游戏中心首页

**文件**：
- `src/components/home/Navigation.tsx`（更新）
- `src/pages/GamesPage.tsx`（新建）
- `src/App.tsx`（更新路由）

---

## 🧪 测试策略

### 每个游戏的测试要求
1. **单元测试**（使用 Vitest）
   - 游戏逻辑函数测试
   - 状态管理测试
   - 工具函数测试

2. **组件测试**（使用 React Testing Library）
   - 组件渲染测试
   - 用户交互测试
   -  props 传递测试

3. **集成测试**
   - 游戏流程测试
   - 键盘事件测试

### 测试命令
```bash
npm run test        # 运行所有测试
npm run test:ui     # UI模式运行测试
npm run coverage    # 生成覆盖率报告
```

---

## 📁 文件结构

```
src/
├── components/
│   ├── games/
│   │   ├── snake/
│   │   │   ├── SnakeGame.tsx
│   │   │   ├── snakeLogic.ts
│   │   │   └── snake.test.ts
│   │   ├── tetris/
│   │   │   ├── TetrisGame.tsx
│   │   │   ├── tetrisLogic.ts
│   │   │   └── tetris.test.ts
│   │   ├── game2048/
│   │   │   ├── Game2048.tsx
│   │   │   ├── game2048Logic.ts
│   │   │   └── game2048.test.ts
│   │   ├── memory/
│   │   │   ├── MemoryGame.tsx
│   │   │   ├── memoryLogic.ts
│   │   │   └── memory.test.ts
│   │   ├── breakout/
│   │   │   ├── BreakoutGame.tsx
│   │   │   ├── breakoutLogic.ts
│   │   │   └── breakout.test.ts
│   │   ├── GameLayout.tsx      # 游戏通用布局
│   │   └── GameCard.tsx        # 游戏卡片组件
│   └── home/
│       └── Navigation.tsx      # 更新添加下拉菜单
├── pages/
│   ├── GamesPage.tsx           # 游戏中心首页
│   ├── SnakePage.tsx
│   ├── TetrisPage.tsx
│   ├── Game2048Page.tsx
│   ├── MemoryPage.tsx
│   └── BreakoutPage.tsx
└── App.tsx                     # 更新路由
```

---

## 🎨 技术栈

- **React 19** + **TypeScript** - 核心框架
- **Canvas API** - 游戏渲染
- **Framer Motion** - 动画效果
- **Zustand** - 游戏状态管理
- **Vitest** + **React Testing Library** - 单元测试
- **Tailwind CSS** - 样式

---

## ✅ 验收标准

每个游戏完成后需要满足：
1. ✅ 产品原型文档已更新
2. ✅ 游戏功能完整可玩
3. ✅ 单元测试覆盖率 > 80%
4. ✅ 类型检查通过
5. ✅ 无控制台错误
6. ✅ 响应式设计（支持移动端）

---

## 🚀 实施顺序

1. **第一步**：更新产品原型文档（添加3.9章节）
2. **第二步**：实现贪吃蛇游戏 + 测试
3. **第三步**：实现俄罗斯方块 + 测试
4. **第四步**：实现2048 + 测试
5. **第五步**：实现记忆翻牌 + 测试
6. **第六步**：实现打砖块 + 测试
7. **第七步**：导航栏集成 + 游戏中心首页

---

请确认这个计划后，我将开始第一步：更新产品原型文档！