{"version":3,"file":"Scene3DBuilderPage-DDhmnz_t-DDhmnz_t.js","sources":["../../node_modules/lucide-react/dist/esm/icons/cylinder.js","../../node_modules/lucide-react/dist/esm/icons/donut.js","../../node_modules/lucide-react/dist/esm/icons/maximize.js","../../node_modules/lucide-react/dist/esm/icons/triangle.js","../../node_modules/three-stdlib/controls/EventDispatcher.js","../../node_modules/three-stdlib/controls/OrbitControls.js","../../node_modules/@react-three/drei/core/shaderMaterial.js","../../node_modules/@react-three/drei/helpers/constants.js","../../node_modules/@react-three/drei/core/OrbitControls.js","../../node_modules/@react-three/drei/core/Grid.js","../../node_modules/@react-three/drei/core/shapes.js","../../src/pages/Scene3DBuilderPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"ellipse\", { cx: \"12\", cy: \"5\", rx: \"9\", ry: \"3\", key: \"msslwz\" }],\n  [\"path\", { d: \"M3 5v14a9 3 0 0 0 18 0V5\", key: \"aqi0yr\" }]\n];\nconst Cylinder = createLucideIcon(\"cylinder\", __iconNode);\n\nexport { __iconNode, Cylinder as default };\n//# sourceMappingURL=cylinder.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20.5 10a2.5 2.5 0 0 1-2.4-3H18a2.95 2.95 0 0 1-2.6-4.4 10 10 0 1 0 6.3 7.1c-.3.2-.8.3-1.2.3\",\n      key: \"19sr3x\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Donut = createLucideIcon(\"donut\", __iconNode);\n\nexport { __iconNode, Donut as default };\n//# sourceMappingURL=donut.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M8 3H5a2 2 0 0 0-2 2v3\", key: \"1dcmit\" }],\n  [\"path\", { d: \"M21 8V5a2 2 0 0 0-2-2h-3\", key: \"1e4gt3\" }],\n  [\"path\", { d: \"M3 16v3a2 2 0 0 0 2 2h3\", key: \"wsl5sc\" }],\n  [\"path\", { d: \"M16 21h3a2 2 0 0 0 2-2v-3\", key: \"18trek\" }]\n];\nconst Maximize = createLucideIcon(\"maximize\", __iconNode);\n\nexport { __iconNode, Maximize as default };\n//# sourceMappingURL=maximize.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\", key: \"14u9p9\" }\n  ]\n];\nconst Triangle = createLucideIcon(\"triangle\", __iconNode);\n\nexport { __iconNode, Triangle as default };\n//# sourceMappingURL=triangle.js.map\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass EventDispatcher {\n  constructor() {\n    // not defined in @types/three\n    __publicField(this, \"_listeners\");\n  }\n  /**\n   * Adds a listener to an event type.\n   * @param type The type of event to listen to.\n   * @param listener The function that gets called when the event is fired.\n   */\n  addEventListener(type, listener) {\n    if (this._listeners === void 0)\n      this._listeners = {};\n    const listeners = this._listeners;\n    if (listeners[type] === void 0) {\n      listeners[type] = [];\n    }\n    if (listeners[type].indexOf(listener) === -1) {\n      listeners[type].push(listener);\n    }\n  }\n  /**\n      * Checks if listener is added to an event type.\n      * @param type The type of event to listen to.\n      * @param listener The function that gets called when the event is fired.\n      */\n  hasEventListener(type, listener) {\n    if (this._listeners === void 0)\n      return false;\n    const listeners = this._listeners;\n    return listeners[type] !== void 0 && listeners[type].indexOf(listener) !== -1;\n  }\n  /**\n      * Removes a listener from an event type.\n      * @param type The type of the listener that gets removed.\n      * @param listener The listener function that gets removed.\n      */\n  removeEventListener(type, listener) {\n    if (this._listeners === void 0)\n      return;\n    const listeners = this._listeners;\n    const listenerArray = listeners[type];\n    if (listenerArray !== void 0) {\n      const index = listenerArray.indexOf(listener);\n      if (index !== -1) {\n        listenerArray.splice(index, 1);\n      }\n    }\n  }\n  /**\n      * Fire an event type.\n      * @param event The event that gets fired.\n      */\n  dispatchEvent(event) {\n    if (this._listeners === void 0)\n      return;\n    const listeners = this._listeners;\n    const listenerArray = listeners[event.type];\n    if (listenerArray !== void 0) {\n      event.target = this;\n      const array = listenerArray.slice(0);\n      for (let i = 0, l = array.length; i < l; i++) {\n        array[i].call(this, event);\n      }\n      event.target = null;\n    }\n  }\n}\nexport {\n  EventDispatcher\n};\n//# sourceMappingURL=EventDispatcher.js.map\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Vector3, MOUSE, TOUCH, Quaternion, PerspectiveCamera, OrthographicCamera, Spherical, Vector2, Ray, Plane } from \"three\";\nimport { EventDispatcher } from \"./EventDispatcher.js\";\nconst _ray = /* @__PURE__ */ new Ray();\nconst _plane = /* @__PURE__ */ new Plane();\nconst TILT_LIMIT = Math.cos(70 * (Math.PI / 180));\nconst moduloWrapAround = (offset, capacity) => (offset % capacity + capacity) % capacity;\nclass OrbitControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    // Set to false to disable this control\n    __publicField(this, \"enabled\", true);\n    // \"target\" sets the location of focus, where the object orbits around\n    __publicField(this, \"target\", new Vector3());\n    // How far you can dolly in and out ( PerspectiveCamera only )\n    __publicField(this, \"minDistance\", 0);\n    __publicField(this, \"maxDistance\", Infinity);\n    // How far you can zoom in and out ( OrthographicCamera only )\n    __publicField(this, \"minZoom\", 0);\n    __publicField(this, \"maxZoom\", Infinity);\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    __publicField(this, \"minPolarAngle\", 0);\n    // radians\n    __publicField(this, \"maxPolarAngle\", Math.PI);\n    // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n    __publicField(this, \"minAzimuthAngle\", -Infinity);\n    // radians\n    __publicField(this, \"maxAzimuthAngle\", Infinity);\n    // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"enableDamping\", false);\n    __publicField(this, \"dampingFactor\", 0.05);\n    // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n    __publicField(this, \"enableZoom\", true);\n    __publicField(this, \"zoomSpeed\", 1);\n    // Set to false to disable rotating\n    __publicField(this, \"enableRotate\", true);\n    __publicField(this, \"rotateSpeed\", 1);\n    // Set to false to disable panning\n    __publicField(this, \"enablePan\", true);\n    __publicField(this, \"panSpeed\", 1);\n    __publicField(this, \"screenSpacePanning\", true);\n    // if false, pan orthogonal to world-space direction camera.up\n    __publicField(this, \"keyPanSpeed\", 7);\n    // pixels moved per arrow key push\n    __publicField(this, \"zoomToCursor\", false);\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"autoRotate\", false);\n    __publicField(this, \"autoRotateSpeed\", 2);\n    // 30 seconds per orbit when fps is 60\n    __publicField(this, \"reverseOrbit\", false);\n    // true if you want to reverse the orbit to mouse drag from left to right = orbits left\n    __publicField(this, \"reverseHorizontalOrbit\", false);\n    // true if you want to reverse the horizontal orbit direction\n    __publicField(this, \"reverseVerticalOrbit\", false);\n    // true if you want to reverse the vertical orbit direction\n    // The four arrow keys\n    __publicField(this, \"keys\", { LEFT: \"ArrowLeft\", UP: \"ArrowUp\", RIGHT: \"ArrowRight\", BOTTOM: \"ArrowDown\" });\n    // Mouse buttons\n    __publicField(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n    // Touch fingers\n    __publicField(this, \"touches\", { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN });\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"zoom0\");\n    // the target DOM element for key events\n    __publicField(this, \"_domElementKeyEvents\", null);\n    __publicField(this, \"getPolarAngle\");\n    __publicField(this, \"getAzimuthalAngle\");\n    __publicField(this, \"setPolarAngle\");\n    __publicField(this, \"setAzimuthalAngle\");\n    __publicField(this, \"getDistance\");\n    // Not used in most scenarios, however they can be useful for specific use cases\n    __publicField(this, \"getZoomScale\");\n    __publicField(this, \"listenToKeyEvents\");\n    __publicField(this, \"stopListenToKeyEvents\");\n    __publicField(this, \"saveState\");\n    __publicField(this, \"reset\");\n    __publicField(this, \"update\");\n    __publicField(this, \"connect\");\n    __publicField(this, \"dispose\");\n    // Dolly in programmatically\n    __publicField(this, \"dollyIn\");\n    // Dolly out programmatically\n    __publicField(this, \"dollyOut\");\n    // Get the current scale\n    __publicField(this, \"getScale\");\n    // Set the current scale (these are not used in most scenarios, however they can be useful for specific use cases)\n    __publicField(this, \"setScale\");\n    this.object = object;\n    this.domElement = domElement;\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom;\n    this.getPolarAngle = () => spherical.phi;\n    this.getAzimuthalAngle = () => spherical.theta;\n    this.setPolarAngle = (value) => {\n      let phi = moduloWrapAround(value, 2 * Math.PI);\n      let currentPhi = spherical.phi;\n      if (currentPhi < 0)\n        currentPhi += 2 * Math.PI;\n      if (phi < 0)\n        phi += 2 * Math.PI;\n      let phiDist = Math.abs(phi - currentPhi);\n      if (2 * Math.PI - phiDist < phiDist) {\n        if (phi < currentPhi) {\n          phi += 2 * Math.PI;\n        } else {\n          currentPhi += 2 * Math.PI;\n        }\n      }\n      sphericalDelta.phi = phi - currentPhi;\n      scope.update();\n    };\n    this.setAzimuthalAngle = (value) => {\n      let theta = moduloWrapAround(value, 2 * Math.PI);\n      let currentTheta = spherical.theta;\n      if (currentTheta < 0)\n        currentTheta += 2 * Math.PI;\n      if (theta < 0)\n        theta += 2 * Math.PI;\n      let thetaDist = Math.abs(theta - currentTheta);\n      if (2 * Math.PI - thetaDist < thetaDist) {\n        if (theta < currentTheta) {\n          theta += 2 * Math.PI;\n        } else {\n          currentTheta += 2 * Math.PI;\n        }\n      }\n      sphericalDelta.theta = theta - currentTheta;\n      scope.update();\n    };\n    this.getDistance = () => scope.object.position.distanceTo(scope.target);\n    this.listenToKeyEvents = (domElement2) => {\n      domElement2.addEventListener(\"keydown\", onKeyDown);\n      this._domElementKeyEvents = domElement2;\n    };\n    this.stopListenToKeyEvents = () => {\n      this._domElementKeyEvents.removeEventListener(\"keydown\", onKeyDown);\n      this._domElementKeyEvents = null;\n    };\n    this.saveState = () => {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object.zoom;\n    };\n    this.reset = () => {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    };\n    this.update = (() => {\n      const offset = new Vector3();\n      const up = new Vector3(0, 1, 0);\n      const quat = new Quaternion().setFromUnitVectors(object.up, up);\n      const quatInverse = quat.clone().invert();\n      const lastPosition = new Vector3();\n      const lastQuaternion = new Quaternion();\n      const twoPI = 2 * Math.PI;\n      return function update() {\n        const position = scope.object.position;\n        quat.setFromUnitVectors(object.up, up);\n        quatInverse.copy(quat).invert();\n        offset.copy(position).sub(scope.target);\n        offset.applyQuaternion(quat);\n        spherical.setFromVector3(offset);\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        }\n        let min = scope.minAzimuthAngle;\n        let max = scope.maxAzimuthAngle;\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI)\n            min += twoPI;\n          else if (min > Math.PI)\n            min -= twoPI;\n          if (max < -Math.PI)\n            max += twoPI;\n          else if (max > Math.PI)\n            max -= twoPI;\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        }\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n        if (scope.zoomToCursor && performCursorZoom || scope.object.isOrthographicCamera) {\n          spherical.radius = clampDistance(spherical.radius);\n        } else {\n          spherical.radius = clampDistance(spherical.radius * scale);\n        }\n        offset.setFromSpherical(spherical);\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        if (!scope.object.matrixAutoUpdate)\n          scope.object.updateMatrix();\n        scope.object.lookAt(scope.target);\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n        let zoomChanged = false;\n        if (scope.zoomToCursor && performCursorZoom) {\n          let newRadius = null;\n          if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n            const prevRadius = offset.length();\n            newRadius = clampDistance(prevRadius * scale);\n            const radiusDelta = prevRadius - newRadius;\n            scope.object.position.addScaledVector(dollyDirection, radiusDelta);\n            scope.object.updateMatrixWorld();\n          } else if (scope.object.isOrthographicCamera) {\n            const mouseBefore = new Vector3(mouse.x, mouse.y, 0);\n            mouseBefore.unproject(scope.object);\n            scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / scale));\n            scope.object.updateProjectionMatrix();\n            zoomChanged = true;\n            const mouseAfter = new Vector3(mouse.x, mouse.y, 0);\n            mouseAfter.unproject(scope.object);\n            scope.object.position.sub(mouseAfter).add(mouseBefore);\n            scope.object.updateMatrixWorld();\n            newRadius = offset.length();\n          } else {\n            console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.\");\n            scope.zoomToCursor = false;\n          }\n          if (newRadius !== null) {\n            if (scope.screenSpacePanning) {\n              scope.target.set(0, 0, -1).transformDirection(scope.object.matrix).multiplyScalar(newRadius).add(scope.object.position);\n            } else {\n              _ray.origin.copy(scope.object.position);\n              _ray.direction.set(0, 0, -1).transformDirection(scope.object.matrix);\n              if (Math.abs(scope.object.up.dot(_ray.direction)) < TILT_LIMIT) {\n                object.lookAt(scope.target);\n              } else {\n                _plane.setFromNormalAndCoplanarPoint(scope.object.up, scope.target);\n                _ray.intersectPlane(_plane, scope.target);\n              }\n            }\n          }\n        } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          zoomChanged = scale !== 1;\n          if (zoomChanged) {\n            scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / scale));\n            scope.object.updateProjectionMatrix();\n          }\n        }\n        scale = 1;\n        performCursorZoom = false;\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n        return false;\n      };\n    })();\n    this.connect = (domElement2) => {\n      scope.domElement = domElement2;\n      scope.domElement.style.touchAction = \"none\";\n      scope.domElement.addEventListener(\"contextmenu\", onContextMenu);\n      scope.domElement.addEventListener(\"pointerdown\", onPointerDown);\n      scope.domElement.addEventListener(\"pointercancel\", onPointerUp);\n      scope.domElement.addEventListener(\"wheel\", onMouseWheel);\n    };\n    this.dispose = () => {\n      var _a, _b, _c, _d, _e, _f;\n      if (scope.domElement) {\n        scope.domElement.style.touchAction = \"auto\";\n      }\n      (_a = scope.domElement) == null ? void 0 : _a.removeEventListener(\"contextmenu\", onContextMenu);\n      (_b = scope.domElement) == null ? void 0 : _b.removeEventListener(\"pointerdown\", onPointerDown);\n      (_c = scope.domElement) == null ? void 0 : _c.removeEventListener(\"pointercancel\", onPointerUp);\n      (_d = scope.domElement) == null ? void 0 : _d.removeEventListener(\"wheel\", onMouseWheel);\n      (_e = scope.domElement) == null ? void 0 : _e.ownerDocument.removeEventListener(\"pointermove\", onPointerMove);\n      (_f = scope.domElement) == null ? void 0 : _f.ownerDocument.removeEventListener(\"pointerup\", onPointerUp);\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener(\"keydown\", onKeyDown);\n      }\n    };\n    const scope = this;\n    const changeEvent = { type: \"change\" };\n    const startEvent = { type: \"start\" };\n    const endEvent = { type: \"end\" };\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    let state = STATE.NONE;\n    const EPS = 1e-6;\n    const spherical = new Spherical();\n    const sphericalDelta = new Spherical();\n    let scale = 1;\n    const panOffset = new Vector3();\n    const rotateStart = new Vector2();\n    const rotateEnd = new Vector2();\n    const rotateDelta = new Vector2();\n    const panStart = new Vector2();\n    const panEnd = new Vector2();\n    const panDelta = new Vector2();\n    const dollyStart = new Vector2();\n    const dollyEnd = new Vector2();\n    const dollyDelta = new Vector2();\n    const dollyDirection = new Vector3();\n    const mouse = new Vector2();\n    let performCursorZoom = false;\n    const pointers = [];\n    const pointerPositions = {};\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n    function rotateLeft(angle) {\n      if (scope.reverseOrbit || scope.reverseHorizontalOrbit) {\n        sphericalDelta.theta += angle;\n      } else {\n        sphericalDelta.theta -= angle;\n      }\n    }\n    function rotateUp(angle) {\n      if (scope.reverseOrbit || scope.reverseVerticalOrbit) {\n        sphericalDelta.phi += angle;\n      } else {\n        sphericalDelta.phi -= angle;\n      }\n    }\n    const panLeft = (() => {\n      const v = new Vector3();\n      return function panLeft2(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    })();\n    const panUp = (() => {\n      const v = new Vector3();\n      return function panUp2(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    })();\n    const pan = (() => {\n      const offset = new Vector3();\n      return function pan2(deltaX, deltaY) {\n        const element = scope.domElement;\n        if (element && scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n          const position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          let targetDistance = offset.length();\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180);\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (element && scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          panLeft(\n            deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth,\n            scope.object.matrix\n          );\n          panUp(\n            deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight,\n            scope.object.matrix\n          );\n        } else {\n          console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\");\n          scope.enablePan = false;\n        }\n      };\n    })();\n    function setScale(newScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera || scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scale = newScale;\n      } else {\n        console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        scope.enableZoom = false;\n      }\n    }\n    function dollyOut(dollyScale) {\n      setScale(scale / dollyScale);\n    }\n    function dollyIn(dollyScale) {\n      setScale(scale * dollyScale);\n    }\n    function updateMouseParameters(event) {\n      if (!scope.zoomToCursor || !scope.domElement) {\n        return;\n      }\n      performCursorZoom = true;\n      const rect = scope.domElement.getBoundingClientRect();\n      const x = event.clientX - rect.left;\n      const y = event.clientY - rect.top;\n      const w = rect.width;\n      const h = rect.height;\n      mouse.x = x / w * 2 - 1;\n      mouse.y = -(y / h) * 2 + 1;\n      dollyDirection.set(mouse.x, mouse.y, 1).unproject(scope.object).sub(scope.object.position).normalize();\n    }\n    function clampDistance(dist) {\n      return Math.max(scope.minDistance, Math.min(scope.maxDistance, dist));\n    }\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseDownDolly(event) {\n      updateMouseParameters(event);\n      dollyStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight);\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n    function handleMouseWheel(event) {\n      updateMouseParameters(event);\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n      scope.update();\n    }\n    function handleKeyDown(event) {\n      let needsUpdate = false;\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        event.preventDefault();\n        scope.update();\n      }\n    }\n    function handleTouchStartRotate() {\n      if (pointers.length == 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n    function handleTouchStartPan() {\n      if (pointers.length == 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX;\n      const dy = pointers[0].pageY - pointers[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom)\n        handleTouchStartDolly();\n      if (scope.enablePan)\n        handleTouchStartPan();\n    }\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom)\n        handleTouchStartDolly();\n      if (scope.enableRotate)\n        handleTouchStartRotate();\n    }\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight);\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n      rotateStart.copy(rotateEnd);\n    }\n    function handleTouchMovePan(event) {\n      if (pointers.length == 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n    function handleTouchMoveDolly(event) {\n      const position = getSecondPointerPosition(event);\n      const dx = event.pageX - position.x;\n      const dy = event.pageY - position.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom)\n        handleTouchMoveDolly(event);\n      if (scope.enablePan)\n        handleTouchMovePan(event);\n    }\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom)\n        handleTouchMoveDolly(event);\n      if (scope.enableRotate)\n        handleTouchMoveRotate(event);\n    }\n    function onPointerDown(event) {\n      var _a, _b;\n      if (scope.enabled === false)\n        return;\n      if (pointers.length === 0) {\n        (_a = scope.domElement) == null ? void 0 : _a.ownerDocument.addEventListener(\"pointermove\", onPointerMove);\n        (_b = scope.domElement) == null ? void 0 : _b.ownerDocument.addEventListener(\"pointerup\", onPointerUp);\n      }\n      addPointer(event);\n      if (event.pointerType === \"touch\") {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n    function onPointerMove(event) {\n      if (scope.enabled === false)\n        return;\n      if (event.pointerType === \"touch\") {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n    function onPointerUp(event) {\n      var _a, _b, _c;\n      removePointer(event);\n      if (pointers.length === 0) {\n        (_a = scope.domElement) == null ? void 0 : _a.releasePointerCapture(event.pointerId);\n        (_b = scope.domElement) == null ? void 0 : _b.ownerDocument.removeEventListener(\"pointermove\", onPointerMove);\n        (_c = scope.domElement) == null ? void 0 : _c.ownerDocument.removeEventListener(\"pointerup\", onPointerUp);\n      }\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n    function onMouseDown(event) {\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false)\n            return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false)\n              return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false)\n              return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false)\n              return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false)\n              return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n          break;\n        default:\n          state = STATE.NONE;\n      }\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n    function onMouseMove(event) {\n      if (scope.enabled === false)\n        return;\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false)\n            return;\n          handleMouseMoveRotate(event);\n          break;\n        case STATE.DOLLY:\n          if (scope.enableZoom === false)\n            return;\n          handleMouseMoveDolly(event);\n          break;\n        case STATE.PAN:\n          if (scope.enablePan === false)\n            return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) {\n        return;\n      }\n      event.preventDefault();\n      scope.dispatchEvent(startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(endEvent);\n    }\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false)\n        return;\n      handleKeyDown(event);\n    }\n    function onTouchStart(event) {\n      trackPointer(event);\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false)\n                return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n            case TOUCH.PAN:\n              if (scope.enablePan === false)\n                return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n            default:\n              state = STATE.NONE;\n          }\n          break;\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false)\n                return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false)\n                return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n            default:\n              state = STATE.NONE;\n          }\n          break;\n        default:\n          state = STATE.NONE;\n      }\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n    function onTouchMove(event) {\n      trackPointer(event);\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false)\n            return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false)\n            return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false)\n            return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false)\n            return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n        default:\n          state = STATE.NONE;\n      }\n    }\n    function onContextMenu(event) {\n      if (scope.enabled === false)\n        return;\n      event.preventDefault();\n    }\n    function addPointer(event) {\n      pointers.push(event);\n    }\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n    function trackPointer(event) {\n      let position = pointerPositions[event.pointerId];\n      if (position === void 0) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n      position.set(event.pageX, event.pageY);\n    }\n    function getSecondPointerPosition(event) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    }\n    this.dollyIn = (dollyScale = getZoomScale()) => {\n      dollyIn(dollyScale);\n      scope.update();\n    };\n    this.dollyOut = (dollyScale = getZoomScale()) => {\n      dollyOut(dollyScale);\n      scope.update();\n    };\n    this.getScale = () => {\n      return scale;\n    };\n    this.setScale = (newScale) => {\n      setScale(newScale);\n      scope.update();\n    };\n    this.getZoomScale = () => {\n      return getZoomScale();\n    };\n    if (domElement !== void 0)\n      this.connect(domElement);\n    this.update();\n  }\n}\nclass MapControls extends OrbitControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    this.screenSpacePanning = false;\n    this.mouseButtons.LEFT = MOUSE.PAN;\n    this.mouseButtons.RIGHT = MOUSE.ROTATE;\n    this.touches.ONE = TOUCH.PAN;\n    this.touches.TWO = TOUCH.DOLLY_ROTATE;\n  }\n}\nexport {\n  MapControls,\n  OrbitControls\n};\n//# sourceMappingURL=OrbitControls.js.map\n","import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  var _Class;\n  return _Class = class extends THREE.ShaderMaterial {\n    constructor(parameters) {\n      super({\n        vertexShader,\n        fragmentShader,\n        ...parameters\n      });\n      for (const key in uniforms) {\n        this.uniforms[key] = new THREE.Uniform(uniforms[key]);\n        Object.defineProperty(this, key, {\n          get() {\n            return this.uniforms[key].value;\n          },\n          set(value) {\n            this.uniforms[key].value = value;\n          }\n        });\n      }\n      this.uniforms = THREE.UniformsUtils.clone(this.uniforms);\n      onInit == null || onInit(this);\n    }\n  }, _Class.key = THREE.MathUtils.generateUUID(), _Class;\n}\n\nexport { shaderMaterial };\n","import { REVISION } from 'three';\n\nconst getVersion = () => parseInt(REVISION.replace(/\\D+/g, ''));\nconst version = /* @__PURE__ */getVersion();\n\nexport { version };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /* @__PURE__ */React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  keyEvents = false,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const setEvents = useThree(state => state.setEvents);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    if (keyEvents) {\n      controls.connect(keyEvents === true ? explDomElement : keyEvents);\n    }\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [keyEvents, explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n    const onStartCb = e => {\n      if (onStart) onStart(e);\n    };\n    const onEndCb = e => {\n      if (onEnd) onEnd(e);\n    };\n    controls.addEventListener('change', callback);\n    controls.addEventListener('start', onStartCb);\n    controls.addEventListener('end', onEndCb);\n    return () => {\n      controls.removeEventListener('start', onStartCb);\n      controls.removeEventListener('end', onEndCb);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate, setEvents]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { version } from '../helpers/constants.js';\n\nconst GridMaterial = /* @__PURE__ */shaderMaterial({\n  cellSize: 0.5,\n  sectionSize: 1,\n  fadeDistance: 100,\n  fadeStrength: 1,\n  fadeFrom: 1,\n  cellThickness: 0.5,\n  sectionThickness: 1,\n  cellColor: /* @__PURE__ */new THREE.Color(),\n  sectionColor: /* @__PURE__ */new THREE.Color(),\n  infiniteGrid: false,\n  followCamera: false,\n  worldCamProjPosition: /* @__PURE__ */new THREE.Vector3(),\n  worldPlanePosition: /* @__PURE__ */new THREE.Vector3()\n}, /* glsl */`\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform vec3 worldPlanePosition;\n    uniform float fadeDistance;\n    uniform bool infiniteGrid;\n    uniform bool followCamera;\n\n    void main() {\n      localPosition = position.xzy;\n      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;\n      \n      worldPosition = modelMatrix * vec4(localPosition, 1.0);\n      if (followCamera) {\n        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);\n        localPosition = (inverse(modelMatrix) * worldPosition).xyz;\n      }\n\n      gl_Position = projectionMatrix * viewMatrix * worldPosition;\n    }\n  `, /* glsl */`\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform float cellSize;\n    uniform float sectionSize;\n    uniform vec3 cellColor;\n    uniform vec3 sectionColor;\n    uniform float fadeDistance;\n    uniform float fadeStrength;\n    uniform float fadeFrom;\n    uniform float cellThickness;\n    uniform float sectionThickness;\n\n    float getGrid(float size, float thickness) {\n      vec2 r = localPosition.xz / size;\n      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n      float line = min(grid.x, grid.y) + 1.0 - thickness;\n      return 1.0 - min(line, 1.0);\n    }\n\n    void main() {\n      float g1 = getGrid(cellSize, cellThickness);\n      float g2 = getGrid(sectionSize, sectionThickness);\n\n      vec3 from = worldCamProjPosition*vec3(fadeFrom);\n      float dist = distance(from, worldPosition.xyz);\n      float d = 1.0 - min(dist / fadeDistance, 1.0);\n      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));\n\n      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));\n      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);\n      if (gl_FragColor.a <= 0.0) discard;\n\n      #include <tonemapping_fragment>\n      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n    }\n  `);\nconst Grid = /* @__PURE__ */React.forwardRef(({\n  args,\n  cellColor = '#000000',\n  sectionColor = '#2080ff',\n  cellSize = 0.5,\n  sectionSize = 1,\n  followCamera = false,\n  infiniteGrid = false,\n  fadeDistance = 100,\n  fadeStrength = 1,\n  fadeFrom = 1,\n  cellThickness = 0.5,\n  sectionThickness = 1,\n  side = THREE.BackSide,\n  ...props\n}, fRef) => {\n  extend({\n    GridMaterial\n  });\n  const ref = React.useRef(null);\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  const plane = new THREE.Plane();\n  const upVector = new THREE.Vector3(0, 1, 0);\n  const zeroVector = new THREE.Vector3(0, 0, 0);\n  useFrame(state => {\n    plane.setFromNormalAndCoplanarPoint(upVector, zeroVector).applyMatrix4(ref.current.matrixWorld);\n    const gridMaterial = ref.current.material;\n    const worldCamProjPosition = gridMaterial.uniforms.worldCamProjPosition;\n    const worldPlanePosition = gridMaterial.uniforms.worldPlanePosition;\n    plane.projectPoint(state.camera.position, worldCamProjPosition.value);\n    worldPlanePosition.value.set(0, 0, 0).applyMatrix4(ref.current.matrixWorld);\n  });\n  const uniforms1 = {\n    cellSize,\n    sectionSize,\n    cellColor,\n    sectionColor,\n    cellThickness,\n    sectionThickness\n  };\n  const uniforms2 = {\n    fadeDistance,\n    fadeStrength,\n    fadeFrom,\n    infiniteGrid,\n    followCamera\n  };\n  return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref,\n    frustumCulled: false\n  }, props), /*#__PURE__*/React.createElement(\"gridMaterial\", _extends({\n    transparent: true,\n    \"extensions-derivatives\": true,\n    side: side\n  }, uniforms1, uniforms2)), /*#__PURE__*/React.createElement(\"planeGeometry\", {\n    args: args\n  }));\n});\n\nexport { Grid };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\nfunction create(type, effect) {\n  const El = type + 'Geometry';\n  return /*#__PURE__*/React.forwardRef(({\n    args,\n    children,\n    ...props\n  }, fref) => {\n    const ref = React.useRef(null);\n    React.useImperativeHandle(fref, () => ref.current);\n    React.useLayoutEffect(() => void (effect == null ? void 0 : effect(ref.current)));\n    return /*#__PURE__*/React.createElement(\"mesh\", _extends({\n      ref: ref\n    }, props), /*#__PURE__*/React.createElement(El, {\n      attach: \"geometry\",\n      args: args\n    }), children);\n  });\n}\nconst Box = /* @__PURE__ */create('box');\nconst Circle = /* @__PURE__ */create('circle');\nconst Cone = /* @__PURE__ */create('cone');\nconst Cylinder = /* @__PURE__ */create('cylinder');\nconst Sphere = /* @__PURE__ */create('sphere');\nconst Plane = /* @__PURE__ */create('plane');\nconst Tube = /* @__PURE__ */create('tube');\nconst Torus = /* @__PURE__ */create('torus');\nconst TorusKnot = /* @__PURE__ */create('torusKnot');\nconst Tetrahedron = /* @__PURE__ */create('tetrahedron');\nconst Ring = /* @__PURE__ */create('ring');\nconst Polyhedron = /* @__PURE__ */create('polyhedron');\nconst Icosahedron = /* @__PURE__ */create('icosahedron');\nconst Octahedron = /* @__PURE__ */create('octahedron');\nconst Dodecahedron = /* @__PURE__ */create('dodecahedron');\nconst Extrude = /* @__PURE__ */create('extrude');\nconst Lathe = /* @__PURE__ */create('lathe');\nconst Capsule = /* @__PURE__ */create('capsule');\nconst Shape = /* @__PURE__ */create('shape', ({\n  geometry\n}) => {\n  // Calculate UVs (by https://discourse.threejs.org/u/prisoner849)\n  // https://discourse.threejs.org/t/custom-shape-in-image-not-working/49348/10\n  const pos = geometry.attributes.position;\n  const b3 = new THREE.Box3().setFromBufferAttribute(pos);\n  const b3size = new THREE.Vector3();\n  b3.getSize(b3size);\n  const uv = [];\n  let x = 0,\n    y = 0,\n    u = 0,\n    v = 0;\n  for (let i = 0; i < pos.count; i++) {\n    x = pos.getX(i);\n    y = pos.getY(i);\n    u = (x - b3.min.x) / b3size.x;\n    v = (y - b3.min.y) / b3size.y;\n    uv.push(u, v);\n  }\n  geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uv, 2));\n});\n\nexport { Box, Capsule, Circle, Cone, Cylinder, Dodecahedron, Extrude, Icosahedron, Lathe, Octahedron, Plane, Polyhedron, Ring, Shape, Sphere, Tetrahedron, Torus, TorusKnot, Tube };\n","import { useState, useRef } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport {\n  OrbitControls,\n  Grid,\n  Box,\n  Sphere,\n  Cylinder,\n  Cone,\n  Torus,\n} from '@react-three/drei'\nimport { motion } from 'framer-motion'\nimport * as THREE from 'three'\nimport {\n  BoxIcon,\n  CircleIcon,\n  CylinderIcon,\n  TriangleIcon,\n  DonutIcon,\n  Trash2Icon,\n  MoveIcon,\n  RotateCwIcon,\n  MaximizeIcon,\n  SaveIcon,\n  FolderOpenIcon,\n  CopyIcon,\n  EyeIcon,\n  EyeOffIcon,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Slider } from '@/components/ui/slider'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Switch } from '@/components/ui/switch'\nimport { toast } from 'sonner'\n\n// Types\ntype ObjectType = 'box' | 'sphere' | 'cylinder' | 'cone' | 'torus'\n\ninterface SceneObject {\n  id: string\n  type: ObjectType\n  position: [number, number, number]\n  rotation: [number, number, number]\n  scale: [number, number, number]\n  color: string\n  visible: boolean\n}\n\ninterface SceneState {\n  objects: SceneObject[]\n  backgroundColor: string\n  gridVisible: boolean\n  shadowsEnabled: boolean\n}\n\n// Default scene\nconst defaultScene: SceneState = {\n  objects: [\n    {\n      id: '1',\n      type: 'box',\n      position: [0, 0.5, 0],\n      rotation: [0, 0, 0],\n      scale: [1, 1, 1],\n      color: '#3b82f6',\n      visible: true,\n    },\n  ],\n  backgroundColor: '#1a1a2e',\n  gridVisible: true,\n  shadowsEnabled: true,\n}\n\n// 3D Object Component\nfunction SceneObject3D({\n  object,\n  isSelected,\n  onClick,\n}: {\n  object: SceneObject\n  isSelected: boolean\n  onClick: () => void\n}) {\n  const meshRef = useRef<THREE.Mesh>(null)\n  const [hovered, setHovered] = useState(false)\n\n  useFrame(_state => {\n    if (meshRef.current && isSelected) {\n      meshRef.current.rotation.y += 0.01\n    }\n  })\n\n  if (!object.visible) return null\n\n  const commonProps = {\n    ref: meshRef,\n    position: object.position,\n    rotation: object.rotation,\n    scale: object.scale,\n    onClick: (e: any) => {\n      e.stopPropagation()\n      onClick()\n    },\n    onPointerOver: () => setHovered(true),\n    onPointerOut: () => setHovered(false),\n  }\n\n  const materialProps = {\n    color: hovered ? '#ffffff' : object.color,\n    emissive: isSelected ? object.color : '#000000',\n    emissiveIntensity: isSelected ? 0.3 : 0,\n  }\n\n  switch (object.type) {\n    case 'box':\n      return (\n        <Box {...commonProps} args={[1, 1, 1]}>\n          <meshStandardMaterial {...materialProps} />\n        </Box>\n      )\n    case 'sphere':\n      return (\n        <Sphere {...commonProps} args={[0.5, 32, 32]}>\n          <meshStandardMaterial {...materialProps} />\n        </Sphere>\n      )\n    case 'cylinder':\n      return (\n        <Cylinder {...commonProps} args={[0.5, 0.5, 1, 32]}>\n          <meshStandardMaterial {...materialProps} />\n        </Cylinder>\n      )\n    case 'cone':\n      return (\n        <Cone {...commonProps} args={[0.5, 1, 32]}>\n          <meshStandardMaterial {...materialProps} />\n        </Cone>\n      )\n    case 'torus':\n      return (\n        <Torus {...commonProps} args={[0.5, 0.2, 16, 100]}>\n          <meshStandardMaterial {...materialProps} />\n        </Torus>\n      )\n    default:\n      return null\n  }\n}\n\n// Scene Component\nfunction Scene({\n  objects,\n  selectedId,\n  onSelectObject,\n  gridVisible,\n  shadowsEnabled,\n}: {\n  objects: SceneObject[]\n  selectedId: string | null\n  onSelectObject: (id: string | null) => void\n  gridVisible: boolean\n  shadowsEnabled: boolean\n}) {\n  return (\n    <>\n      <ambientLight intensity={0.5} />\n      <directionalLight\n        position={[10, 10, 5]}\n        intensity={1}\n        castShadow={shadowsEnabled}\n      />\n      <pointLight position={[-10, -10, -10]} intensity={0.5} />\n\n      {gridVisible && <Grid infiniteGrid fadeDistance={50} fadeStrength={5} />}\n\n      {objects.map(object => (\n        <SceneObject3D\n          key={object.id}\n          object={object}\n          isSelected={selectedId === object.id}\n          onClick={() => onSelectObject(object.id)}\n        />\n      ))}\n\n      <OrbitControls makeDefault />\n    </>\n  )\n}\n\n// Main Page Component\nexport function Scene3DBuilderPage() {\n  const [scene, setScene] = useState<SceneState>(defaultScene)\n  const [selectedId, setSelectedId] = useState<string | null>(null)\n  const [transformMode, setTransformMode] = useState<\n    'translate' | 'rotate' | 'scale'\n  >('translate')\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const selectedObject = scene.objects.find(obj => obj.id === selectedId)\n\n  // Add new object\n  const addObject = (type: ObjectType) => {\n    const newObject: SceneObject = {\n      id: Date.now().toString(),\n      type,\n      position: [Math.random() * 4 - 2, 1, Math.random() * 4 - 2],\n      rotation: [0, 0, 0],\n      scale: [1, 1, 1],\n      color: `#${Math.floor(Math.random() * 16777215)\n        .toString(16)\n        .padStart(6, '0')}`,\n      visible: true,\n    }\n    setScene(prev => ({\n      ...prev,\n      objects: [...prev.objects, newObject],\n    }))\n    setSelectedId(newObject.id)\n    toast.success(`Added ${type}`)\n  }\n\n  // Delete object\n  const deleteObject = (id: string) => {\n    setScene(prev => ({\n      ...prev,\n      objects: prev.objects.filter(obj => obj.id !== id),\n    }))\n    if (selectedId === id) setSelectedId(null)\n    toast.success('Object deleted')\n  }\n\n  // Duplicate object\n  const duplicateObject = (id: string) => {\n    const obj = scene.objects.find(o => o.id === id)\n    if (!obj) return\n\n    const newObject: SceneObject = {\n      ...obj,\n      id: Date.now().toString(),\n      position: [obj.position[0] + 1, obj.position[1], obj.position[2] + 1],\n    }\n    setScene(prev => ({\n      ...prev,\n      objects: [...prev.objects, newObject],\n    }))\n    setSelectedId(newObject.id)\n    toast.success('Object duplicated')\n  }\n\n  // Update object property\n  const updateObject = (id: string, updates: Partial<SceneObject>) => {\n    setScene(prev => ({\n      ...prev,\n      objects: prev.objects.map(obj =>\n        obj.id === id ? { ...obj, ...updates } : obj\n      ),\n    }))\n  }\n\n  // Update transform\n  const updateTransform = (\n    id: string,\n    axis: 'x' | 'y' | 'z',\n    value: number\n  ) => {\n    const obj = scene.objects.find(o => o.id === id)\n    if (!obj) return\n\n    const key =\n      transformMode === 'translate'\n        ? 'position'\n        : transformMode === 'rotate'\n          ? 'rotation'\n          : 'scale'\n    const current = obj[key]\n    const newTransform: [number, number, number] = [...current] as [\n      number,\n      number,\n      number,\n    ]\n    const index = axis === 'x' ? 0 : axis === 'y' ? 1 : 2\n    newTransform[index] = value\n\n    updateObject(id, { [key]: newTransform })\n  }\n\n  // Save scene\n  const saveScene = () => {\n    const dataStr = JSON.stringify(scene, null, 2)\n    const dataUri =\n      'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr)\n    const exportFileDefaultName = `scene-${Date.now()}.json`\n    const linkElement = document.createElement('a')\n    linkElement.setAttribute('href', dataUri)\n    linkElement.setAttribute('download', exportFileDefaultName)\n    linkElement.click()\n    toast.success('Scene saved!')\n  }\n\n  // Load scene\n  const loadScene = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0]\n    if (!file) return\n\n    const reader = new FileReader()\n    reader.onload = e => {\n      try {\n        const loadedScene = JSON.parse(e.target?.result as string)\n        setScene(loadedScene)\n        setSelectedId(null)\n        toast.success('Scene loaded!')\n      } catch {\n        toast.error('Invalid scene file')\n      }\n    }\n    reader.readAsText(file)\n  }\n\n  // Clear scene\n  const clearScene = () => {\n    if (confirm('Are you sure you want to clear the scene?')) {\n      setScene({\n        ...scene,\n        objects: [],\n      })\n      setSelectedId(null)\n      toast.success('Scene cleared')\n    }\n  }\n\n  const objectIcons: Record<ObjectType, React.ReactNode> = {\n    box: <BoxIcon className=\"w-4 h-4\" />,\n    sphere: <CircleIcon className=\"w-4 h-4\" />,\n    cylinder: <CylinderIcon className=\"w-4 h-4\" />,\n    cone: <TriangleIcon className=\"w-4 h-4\" />,\n    torus: <DonutIcon className=\"w-4 h-4\" />,\n  }\n\n  const objectLabels: Record<ObjectType, string> = {\n    box: 'Cube',\n    sphere: 'Sphere',\n    cylinder: 'Cylinder',\n    cone: 'Cone',\n    torus: 'Torus',\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"border-b bg-card\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold\">3D Scene Builder</h1>\n              <p className=\"text-sm text-muted-foreground\">\n                Create and edit 3D scenes with ease\n              </p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button variant=\"outline\" size=\"sm\" onClick={saveScene}>\n                <SaveIcon className=\"w-4 h-4 mr-2\" />\n                Save\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <FolderOpenIcon className=\"w-4 h-4 mr-2\" />\n                Load\n              </Button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\".json\"\n                onChange={loadScene}\n                className=\"hidden\"\n              />\n              <Button variant=\"destructive\" size=\"sm\" onClick={clearScene}>\n                <Trash2Icon className=\"w-4 h-4 mr-2\" />\n                Clear\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex h-[calc(100vh-80px)]\">\n        {/* Left Sidebar - Objects */}\n        <div className=\"w-64 border-r bg-card overflow-y-auto\">\n          <div className=\"p-4\">\n            <h3 className=\"font-semibold mb-3\">Add Objects</h3>\n            <div className=\"grid grid-cols-2 gap-2 mb-6\">\n              {(Object.keys(objectIcons) as ObjectType[]).map(type => (\n                <Button\n                  key={type}\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => addObject(type)}\n                  className=\"flex flex-col items-center gap-1 h-auto py-3\"\n                >\n                  {objectIcons[type]}\n                  <span className=\"text-xs\">{objectLabels[type]}</span>\n                </Button>\n              ))}\n            </div>\n\n            <h3 className=\"font-semibold mb-3\">Scene Objects</h3>\n            <div className=\"space-y-2\">\n              {scene.objects.length === 0 ? (\n                <p className=\"text-sm text-muted-foreground text-center py-4\">\n                  No objects in scene\n                </p>\n              ) : (\n                scene.objects.map(obj => (\n                  <motion.div\n                    key={obj.id}\n                    initial={{ opacity: 0, x: -20 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    className={`flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors ${\n                      selectedId === obj.id\n                        ? 'bg-primary text-primary-foreground'\n                        : 'bg-muted hover:bg-muted/80'\n                    }`}\n                    onClick={() => setSelectedId(obj.id)}\n                  >\n                    {objectIcons[obj.type]}\n                    <span className=\"flex-1 text-sm capitalize\">\n                      {obj.type}\n                    </span>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6\"\n                      onClick={e => {\n                        e.stopPropagation()\n                        updateObject(obj.id, { visible: !obj.visible })\n                      }}\n                    >\n                      {obj.visible ? (\n                        <EyeIcon className=\"w-3 h-3\" />\n                      ) : (\n                        <EyeOffIcon className=\"w-3 h-3\" />\n                      )}\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6\"\n                      onClick={e => {\n                        e.stopPropagation()\n                        duplicateObject(obj.id)\n                      }}\n                    >\n                      <CopyIcon className=\"w-3 h-3\" />\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6 hover:text-destructive\"\n                      onClick={e => {\n                        e.stopPropagation()\n                        deleteObject(obj.id)\n                      }}\n                    >\n                      <Trash2Icon className=\"w-3 h-3\" />\n                    </Button>\n                  </motion.div>\n                ))\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Center - 3D Canvas */}\n        <div className=\"flex-1 relative\">\n          <Canvas\n            shadows={scene.shadowsEnabled}\n            camera={{ position: [5, 5, 5], fov: 50 }}\n            style={{ background: scene.backgroundColor }}\n            onClick={() => setSelectedId(null)}\n          >\n            <Scene\n              objects={scene.objects}\n              selectedId={selectedId}\n              onSelectObject={setSelectedId}\n              gridVisible={scene.gridVisible}\n              shadowsEnabled={scene.shadowsEnabled}\n            />\n          </Canvas>\n\n          {/* View Controls */}\n          <div className=\"absolute bottom-4 left-4 flex items-center gap-2\">\n            <div className=\"bg-card/90 backdrop-blur-sm rounded-lg p-2 flex items-center gap-2\">\n              <Switch\n                checked={scene.gridVisible}\n                onCheckedChange={checked =>\n                  setScene(prev => ({ ...prev, gridVisible: checked }))\n                }\n              />\n              <Label className=\"text-xs\">Grid</Label>\n            </div>\n            <div className=\"bg-card/90 backdrop-blur-sm rounded-lg p-2 flex items-center gap-2\">\n              <Switch\n                checked={scene.shadowsEnabled}\n                onCheckedChange={checked =>\n                  setScene(prev => ({ ...prev, shadowsEnabled: checked }))\n                }\n              />\n              <Label className=\"text-xs\">Shadows</Label>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Sidebar - Properties */}\n        <div className=\"w-80 border-l bg-card overflow-y-auto\">\n          <div className=\"p-4\">\n            <h3 className=\"font-semibold mb-4\">Properties</h3>\n\n            {selectedObject ? (\n              <Tabs defaultValue=\"transform\" className=\"w-full\">\n                <TabsList className=\"grid w-full grid-cols-2\">\n                  <TabsTrigger value=\"transform\">Transform</TabsTrigger>\n                  <TabsTrigger value=\"material\">Material</TabsTrigger>\n                </TabsList>\n\n                <TabsContent value=\"transform\" className=\"space-y-4\">\n                  {/* Transform Mode */}\n                  <div className=\"flex gap-1\">\n                    <Button\n                      variant={\n                        transformMode === 'translate' ? 'default' : 'outline'\n                      }\n                      size=\"sm\"\n                      className=\"flex-1\"\n                      onClick={() => setTransformMode('translate')}\n                    >\n                      <MoveIcon className=\"w-4 h-4 mr-1\" />\n                      Move\n                    </Button>\n                    <Button\n                      variant={\n                        transformMode === 'rotate' ? 'default' : 'outline'\n                      }\n                      size=\"sm\"\n                      className=\"flex-1\"\n                      onClick={() => setTransformMode('rotate')}\n                    >\n                      <RotateCwIcon className=\"w-4 h-4 mr-1\" />\n                      Rotate\n                    </Button>\n                    <Button\n                      variant={\n                        transformMode === 'scale' ? 'default' : 'outline'\n                      }\n                      size=\"sm\"\n                      className=\"flex-1\"\n                      onClick={() => setTransformMode('scale')}\n                    >\n                      <MaximizeIcon className=\"w-4 h-4 mr-1\" />\n                      Scale\n                    </Button>\n                  </div>\n\n                  {/* Transform Controls */}\n                  {(['x', 'y', 'z'] as const).map(axis => {\n                    const key =\n                      transformMode === 'translate'\n                        ? 'position'\n                        : transformMode === 'rotate'\n                          ? 'rotation'\n                          : 'scale'\n                    const value =\n                      selectedObject[key][\n                        axis === 'x' ? 0 : axis === 'y' ? 1 : 2\n                      ]\n                    const min =\n                      transformMode === 'scale'\n                        ? 0.1\n                        : transformMode === 'rotate'\n                          ? 0\n                          : -10\n                    const max =\n                      transformMode === 'scale'\n                        ? 5\n                        : transformMode === 'rotate'\n                          ? 360\n                          : 10\n                    const step = transformMode === 'rotate' ? 1 : 0.1\n\n                    return (\n                      <div key={axis} className=\"space-y-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <Label className=\"uppercase text-xs font-bold text-muted-foreground\">\n                            {axis}\n                          </Label>\n                          <Input\n                            type=\"number\"\n                            value={Number(value.toFixed(2))}\n                            onChange={e =>\n                              updateTransform(\n                                selectedObject.id,\n                                axis,\n                                parseFloat(e.target.value) || 0\n                              )\n                            }\n                            className=\"w-20 h-7 text-xs\"\n                            step={step}\n                          />\n                        </div>\n                        <Slider\n                          value={[value]}\n                          min={min}\n                          max={max}\n                          step={step}\n                          onValueChange={([v]) =>\n                            updateTransform(selectedObject.id, axis, v)\n                          }\n                        />\n                      </div>\n                    )\n                  })}\n                </TabsContent>\n\n                <TabsContent value=\"material\" className=\"space-y-4\">\n                  {/* Color */}\n                  <div className=\"space-y-2\">\n                    <Label>Color</Label>\n                    <div className=\"flex items-center gap-2\">\n                      <input\n                        type=\"color\"\n                        value={selectedObject.color}\n                        onChange={e =>\n                          updateObject(selectedObject.id, {\n                            color: e.target.value,\n                          })\n                        }\n                        className=\"w-10 h-10 rounded cursor-pointer\"\n                      />\n                      <Input\n                        value={selectedObject.color}\n                        onChange={e =>\n                          updateObject(selectedObject.id, {\n                            color: e.target.value,\n                          })\n                        }\n                        className=\"flex-1\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Preset Colors */}\n                  <div className=\"space-y-2\">\n                    <Label>Presets</Label>\n                    <div className=\"grid grid-cols-6 gap-1\">\n                      {[\n                        '#ef4444',\n                        '#f97316',\n                        '#f59e0b',\n                        '#84cc16',\n                        '#22c55e',\n                        '#10b981',\n                        '#14b8a6',\n                        '#06b6d4',\n                        '#0ea5e9',\n                        '#3b82f6',\n                        '#6366f1',\n                        '#8b5cf6',\n                        '#a855f7',\n                        '#d946ef',\n                        '#ec4899',\n                        '#f43f5e',\n                        '#64748b',\n                        '#94a3b8',\n                      ].map(color => (\n                        <button\n                          key={color}\n                          className=\"w-8 h-8 rounded-md border-2 border-transparent hover:border-primary transition-colors\"\n                          style={{ backgroundColor: color }}\n                          onClick={() =>\n                            updateObject(selectedObject.id, { color })\n                          }\n                        />\n                      ))}\n                    </div>\n                  </div>\n                </TabsContent>\n              </Tabs>\n            ) : (\n              <div className=\"text-center py-8 text-muted-foreground\">\n                <BoxIcon className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>Select an object to edit its properties</p>\n              </div>\n            )}\n\n            {/* Scene Settings */}\n            <div className=\"mt-8 pt-6 border-t\">\n              <h4 className=\"font-semibold mb-4\">Scene Settings</h4>\n              <div className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <Label>Background Color</Label>\n                  <div className=\"flex items-center gap-2\">\n                    <input\n                      type=\"color\"\n                      value={scene.backgroundColor}\n                      onChange={e =>\n                        setScene(prev => ({\n                          ...prev,\n                          backgroundColor: e.target.value,\n                        }))\n                      }\n                      className=\"w-10 h-10 rounded cursor-pointer\"\n                    />\n                    <Input\n                      value={scene.backgroundColor}\n                      onChange={e =>\n                        setScene(prev => ({\n                          ...prev,\n                          backgroundColor: e.target.value,\n                        }))\n                      }\n                      className=\"flex-1\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":["__iconNode","Cylinder","createLucideIcon","Donut","Maximize","Triangle","__defProp","__defNormalProp","obj","key","value","__publicField","EventDispatcher","type","listener","listeners","listenerArray","index","event","array","i","l","_ray","Ray","_plane","Plane","TILT_LIMIT","moduloWrapAround","offset","capacity","object","domElement","Vector3","MOUSE","TOUCH","spherical","phi","currentPhi","phiDist","sphericalDelta","scope","theta","currentTheta","thetaDist","domElement2","onKeyDown","changeEvent","state","STATE","up","quat","Quaternion","quatInverse","lastPosition","lastQuaternion","twoPI","position","rotateLeft","getAutoRotationAngle","min","max","panOffset","performCursorZoom","clampDistance","scale","zoomChanged","newRadius","PerspectiveCamera","prevRadius","radiusDelta","dollyDirection","mouseBefore","mouse","mouseAfter","OrthographicCamera","EPS","onContextMenu","onPointerDown","onPointerUp","onMouseWheel","_a","_b","_c","_d","_e","_f","onPointerMove","startEvent","endEvent","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","angle","rotateUp","panLeft","v","distance","objectMatrix","panUp","pan","deltaX","deltaY","element","targetDistance","setScale","newScale","dollyOut","dollyScale","dollyIn","updateMouseParameters","rect","x","y","w","h","dist","handleMouseDownRotate","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","needsUpdate","handleTouchStartRotate","handleTouchStartPan","handleTouchStartDolly","dx","dy","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","getSecondPointerPosition","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","addPointer","onTouchStart","onMouseDown","onTouchMove","onMouseMove","removePointer","mouseAction","trackPointer","pointer","shaderMaterial","uniforms","vertexShader","fragmentShader","onInit","_Class","THREE.ShaderMaterial","parameters","THREE.Uniform","THREE.UniformsUtils","THREE.MathUtils","getVersion","REVISION","version","OrbitControls","React.forwardRef","makeDefault","camera","regress","enableDamping","keyEvents","onChange","onStart","onEnd","restProps","ref","invalidate","useThree","defaultCamera","gl","events","setEvents","set","get","performance","explCamera","explDomElement","controls","React.useMemo","OrbitControls$1","useFrame","React.useEffect","callback","e","onStartCb","onEndCb","old","React.createElement","_extends","GridMaterial","THREE.Color","THREE.Vector3","Grid","args","cellColor","sectionColor","cellSize","sectionSize","followCamera","infiniteGrid","fadeDistance","fadeStrength","fadeFrom","cellThickness","sectionThickness","side","THREE.BackSide","props","fRef","extend","React.useRef","React.useImperativeHandle","plane","THREE.Plane","upVector","zeroVector","gridMaterial","worldCamProjPosition","worldPlanePosition","uniforms1","uniforms2","create","effect","El","children","fref","React.useLayoutEffect","Box","Cone","Sphere","Torus","defaultScene","SceneObject3D","isSelected","onClick","meshRef","useRef","hovered","setHovered","useState","_state","commonProps","materialProps","jsx","Scene","objects","selectedId","onSelectObject","gridVisible","shadowsEnabled","jsxs","Fragment","Scene3DBuilderPage","scene","setScene","setSelectedId","transformMode","setTransformMode","fileInputRef","selectedObject","addObject","newObject","prev","toast","deleteObject","id","duplicateObject","o","updateObject","updates","updateTransform","axis","newTransform","saveScene","dataStr","dataUri","exportFileDefaultName","linkElement","loadScene","file","reader","loadedScene","clearScene","objectIcons","BoxIcon","CircleIcon","CylinderIcon","TriangleIcon","DonutIcon","objectLabels","Button","SaveIcon","FolderOpenIcon","Trash2Icon","motion","EyeIcon","EyeOffIcon","CopyIcon","Canvas","Switch","checked","Label","Tabs","TabsList","TabsTrigger","TabsContent","MoveIcon","RotateCwIcon","MaximizeIcon","step","Input","Slider","color"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}