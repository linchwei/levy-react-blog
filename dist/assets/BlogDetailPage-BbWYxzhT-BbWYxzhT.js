import{j as e,A as P,m as k}from"./ui-8Or-2zOT-8Or-2zOT.js";import{r as c,L as F,u as W,e as J}from"./vendor-QyoG3HE1-QyoG3HE1.js";import{e as T,B as M,C as A,a as D,k as U,R as _}from"./index-CB-nuzdG-CB-nuzdG.js";import{B as O}from"./badge-BFIphGmu-BFIphGmu.js";import{u as X}from"./blogStore-DtIhihfL-DtIhihfL.js";import{S as L,C as $,P as Q,a as Y,M as Z,T as ee,N as B}from"./Navigation-CVIh0ny8-CVIh0ny8.js";import{T as te,L as se,F as V,H as ae}from"./Footer-HVOx1zD2-HVOx1zD2.js";import{T as re}from"./textarea-BW_vvzKy-BW_vvzKy.js";import{C as le,M as ie,h as ne,v as oe,p as ce}from"./ChatMessage-CuZvsdRf-CuZvsdRf.js";import{g as de,c as me,i as K,a as xe,b as ue}from"./aiService-BKnG4cQx-BKnG4cQx.js";import{M as he}from"./message-circle-CqU14fz2-CqU14fz2.js";import{T as pe}from"./trash-2-BlOGfJ7l-BlOGfJ7l.js";import{S as be}from"./send-BGQ-kLuR-BGQ-kLuR.js";import{S as I}from"./skeleton-DOfp63w8-DOfp63w8.js";import{F as fe}from"./file-text-wA51kSFq-wA51kSFq.js";import{L as ge}from"./lightbulb-Chg089RR-Chg089RR.js";import{U as je}from"./users-16n-6GNK-16n-6GNK.js";import{C as q}from"./clock-4rjZRXqQ-4rjZRXqQ.js";import{C as ke}from"./code-xml-BrJ7M-5--BrJ7M-5-.js";import{c as Ne,p as we}from"./middleware-BIVXqGDk-BIVXqGDk.js";import{D as ve,a as ye,b as Ce,c as E}from"./dropdown-menu-DYyMubQV-DYyMubQV.js";import{S as Se}from"./share-2-DLm6gEVH-DLm6gEVH.js";import{C as G}from"./check-C6OzHscG-C6OzHscG.js";import{A as H}from"./arrow-left-DMvrH_re-DMvrH_re.js";import{C as Me}from"./calendar-BGTq88Z6-BGTq88Z6.js";import{E as Ie}from"./eye-D5RhFdkm-D5RhFdkm.js";import{C as Le}from"./copy-C6yuB-dr-C6yuB-dr.js";import{C as Ae}from"./chevron-right-BvmJQ-b5-BvmJQ-b5.js";import"./animation-Cg-7L8ts-Cg-7L8ts.js";import"./input-BH5s_kIV-BH5s_kIV.js";import"./extends-CF3RwP-h-CF3RwP-h.js";import"./user-BXf8mkqE-BXf8mkqE.js";import"./index-BBaLFcL3-BBaLFcL3.js";import"./floating-ui.react-dom-BUF7YSsj-BUF7YSsj.js";import"./index-ouTqVQkR-ouTqVQkR.js";import"./circle-CLZV8UUu-CLZV8UUu.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],Te=T("bookmark",De);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Pe=T("link",Ee);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Re=T("tag",$e);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Fe=T("thumbs-up",ze);function Ue({articleTitle:a,articleContent:i}){const[t,l]=c.useState([]),[o,m]=c.useState(""),[x,u]=c.useState(!1),[n,s]=c.useState(null),p=c.useRef(null),b=()=>Math.random().toString(36).substr(2,9),y=c.useCallback(async v=>{if(!v.trim())return;const r={id:b(),role:"user",content:v.trim(),timestamp:Date.now()};l(g=>[...g,r]),m(""),u(!0),s(null);const h=b(),S={id:h,role:"assistant",content:"",timestamp:Date.now()};l(g=>[...g,S]);try{const g=[{role:"system",content:de(a,i)},...t.map(d=>({role:d.role,content:d.content})),{role:"user",content:v.trim()}];await me({messages:g,temperature:.7,maxTokens:1500,onStream:d=>{l(j=>j.map(N=>N.id===h?{...N,content:N.content+d}:N))}})}catch(g){const d=g instanceof Error?g.message:"è¯·æ±‚å¤±è´¥";s(d),l(j=>j.map(N=>N.id===h?{...N,content:`æŠ±æ­‰ï¼Œå‘ç”Ÿäº†é”™è¯¯ï¼š${d}`}:N))}finally{u(!1)}},[a,i,t]),w=c.useCallback(async()=>{const v=t.filter(r=>r.role==="user").pop();v&&(l(r=>{const h=r.findLastIndex(S=>S.role==="assistant");return h>-1?r.slice(0,h):r}),await y(v.content))},[t,y]),f=c.useCallback(()=>{l([]),s(null)},[]),C=c.useCallback(()=>{p.current&&(p.current.abort(),p.current=null),u(!1)},[]);return{messages:t,inputValue:o,setInputValue:m,isLoading:x,error:n,sendMessage:y,regenerate:w,clearMessages:f,stopGeneration:C}}function _e({articleTitle:a,articleContent:i}){const[t,l]=c.useState(!1),[o,m]=c.useState(!1),[x,u]=c.useState(!1),n=c.useRef(null),s=c.useRef(null),{messages:p,inputValue:b,setInputValue:y,isLoading:w,error:f,sendMessage:C,regenerate:v,clearMessages:r}=Ue({articleTitle:a,articleContent:i});c.useEffect(()=>{m(K())},[]),c.useEffect(()=>{const d=()=>{u(document.documentElement.classList.contains("dark"))};d();const j=new MutationObserver(d);return j.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>j.disconnect()},[]),c.useEffect(()=>{t&&n.current&&n.current.scrollIntoView({behavior:"smooth"})},[p,t]),c.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${Math.min(s.current.scrollHeight,120)}px`)},[b]);const h=()=>{b.trim()&&!w&&C(b)},S=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),h())},g=["è¿™ç¯‡æ–‡ç« ä¸»è¦è®²äº†ä»€ä¹ˆï¼Ÿ","èƒ½è§£é‡Šä¸€ä¸‹æ–‡ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå—ï¼Ÿ","è¿™ç¯‡æ–‡ç« é€‚åˆä»€ä¹ˆæ°´å¹³çš„è¯»è€…ï¼Ÿ"];return o?e.jsxs(e.Fragment,{children:[e.jsx(P,{children:!t&&e.jsx(k.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/30 flex items-center justify-center hover:shadow-xl hover:shadow-blue-500/40 transition-shadow",children:e.jsx(he,{className:"w-6 h-6"})})}),e.jsx(P,{children:t&&e.jsxs(k.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed bottom-6 right-6 z-50 w-[380px] max-w-[calc(100vw-48px)] bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"AI åŠ©æ‰‹"}),e.jsx("p",{className:"text-xs text-white/80",children:"åŸºäº DeepSeek å¤§æ¨¡å‹"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[p.length>0&&e.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white/80 hover:text-white hover:bg-white/20",onClick:r,title:"æ¸…ç©ºå¯¹è¯",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white/80 hover:text-white hover:bg-white/20",onClick:()=>l(!1),children:e.jsx($,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"h-[400px] overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-950",children:[p.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(L,{className:"w-8 h-8 text-blue-500"})}),e.jsx("h4",{className:"font-medium text-slate-700 dark:text-slate-300 mb-2",children:"æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„ï¼Ÿ"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"æˆ‘å¯ä»¥å¸®ä½ ç†è§£è¿™ç¯‡æ–‡ç« çš„å†…å®¹"}),e.jsx("div",{className:"space-y-2",children:g.map(d=>e.jsx("button",{onClick:()=>C(d),className:"block w-full text-left px-3 py-2 text-sm text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:d},d))})]}):e.jsxs(e.Fragment,{children:[p.map((d,j)=>e.jsx(le,{message:{id:d.id,role:d.role,content:d.content,timestamp:Date.now(),isStreaming:w&&d.content===""&&j===p.length-1},isDark:x,onRegenerate:d.role==="assistant"?v:void 0,isLastMessage:j===p.length-1},d.id)),e.jsx("div",{ref:n})]}),f&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-sm text-red-600 dark:text-red-400",children:f})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(re,{ref:s,value:b,onChange:d=>y(d.target.value),onKeyDown:S,placeholder:"è¾“å…¥é—®é¢˜ï¼ŒæŒ‰ Enter å‘é€...",className:"min-h-[44px] max-h-[120px] resize-none bg-slate-100 dark:bg-slate-800 border-0 focus-visible:ring-2 focus-visible:ring-blue-500",rows:1}),e.jsx(M,{onClick:h,disabled:!b.trim()||w,className:"h-[44px] w-[44px] p-0 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:opacity-50",children:e.jsx(be,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2 text-center",children:"AI ç”Ÿæˆå†…å®¹ä»…ä¾›å‚è€ƒ"})]})]})})]}):null}function Oe({summary:a,isLoading:i,error:t,isConfigured:l,onGenerate:o}){return l?i?e.jsx(A,{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm border-slate-200 dark:border-slate-700",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(L,{className:"w-5 h-5 text-blue-500 animate-pulse"}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"AI æ­£åœ¨æ€»ç»“..."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(I,{className:"h-4 w-full"}),e.jsx(I,{className:"h-4 w-[90%]"}),e.jsx(I,{className:"h-4 w-[80%]"})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(I,{className:"h-3 w-full"}),e.jsx(I,{className:"h-3 w-[95%]"}),e.jsx(I,{className:"h-3 w-[85%]"}),e.jsx(I,{className:"h-3 w-[90%]"})]})]})}):t?e.jsx(A,{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm border-red-200 dark:border-red-800",children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-1",children:"ç”Ÿæˆæ€»ç»“å¤±è´¥"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:t}),e.jsxs(M,{size:"sm",variant:"outline",onClick:o,children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"é‡è¯•"]})]})]})})}):a?e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(A,{className:"bg-gradient-to-br from-blue-50/80 to-purple-50/80 dark:from-blue-900/20 dark:to-purple-900/20 backdrop-blur-sm border-blue-200 dark:border-blue-800 overflow-hidden",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(L,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"AI æ–‡ç« æ€»ç»“"})]}),e.jsxs(M,{variant:"ghost",size:"sm",className:"h-8 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",onClick:o,children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"é‡æ–°ç”Ÿæˆ"]})]}),e.jsxs("div",{className:"mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"æ–‡ç« æ¦‚è¦"})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed pl-6",children:a.overview})]}),e.jsxs("div",{className:"mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ge,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"å…³é”®è¦ç‚¹"})]}),e.jsx("ul",{className:"space-y-2 pl-6",children:a.keyPoints.map((m,x)=>e.jsxs(k.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:x*.1},className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-2 flex-shrink-0"}),e.jsx("span",{className:"leading-relaxed",children:m})]},x))})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-blue-200/50 dark:border-blue-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-emerald-500"}),e.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:["é€‚åˆï¼š",a.targetAudience]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:a.readingTime})]})]})]})})}):e.jsx(A,{className:"bg-gradient-to-br from-blue-50/80 to-purple-50/80 dark:from-blue-900/20 dark:to-purple-900/20 backdrop-blur-sm border-blue-200 dark:border-blue-800",children:e.jsxs(D,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:e.jsx(L,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:"AI æ–‡ç« æ€»ç»“"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"ä½¿ç”¨ DeepSeek å¤§æ¨¡å‹å¿«é€Ÿäº†è§£æ–‡ç« æ ¸å¿ƒå†…å®¹"}),e.jsxs(M,{onClick:o,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"ç”Ÿæˆæ€»ç»“"]})]})}):e.jsx(A,{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm border-slate-200 dark:border-slate-700",children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-1",children:"AI æ€»ç»“æœªå¯ç”¨"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"è¯·åœ¨ .env.local ä¸­é…ç½® DeepSeek API Key ä»¥å¯ç”¨æ–‡ç« æ€»ç»“åŠŸèƒ½"})]})]})})})}function Be(a){const i=a.split(`
`).filter(u=>u.trim());let t="";const l=[];let o="",m="",x=!1;for(const u of i){const n=u.trim();if(!t&&(n.includes("æ¦‚æ‹¬")||n.includes("æ€»ç»“")||i.indexOf(u)===0)){t=n.replace(/^[^ï¼š:]+[ï¼š:]\s*/,"").trim();continue}if(n.includes("å…³é”®")||n.includes("è¦ç‚¹")||n.includes("æ ¸å¿ƒ")){x=!0;continue}if(x&&(n.startsWith("-")||n.startsWith("â€¢")||/^\d+[.ã€]/.test(n))){const s=n.replace(/^[-â€¢\d.ã€\s]+/,"").trim();s&&l.length<5&&l.push(s);continue}if(n.includes("è¯»è€…")||n.includes("é€‚åˆ")||n.includes("æ°´å¹³")){o=n.replace(/^[^ï¼š:]+[ï¼š:]\s*/,"").trim(),x=!1;continue}if(n.includes("é˜…è¯»")||n.includes("æ—¶é•¿")||n.includes("æ—¶é—´")){m=n.replace(/^[^ï¼š:]+[ï¼š:]\s*/,"").trim();continue}}return!t&&i.length>0&&(t=i[0].replace(/^[^ï¼š:]+[ï¼š:]\s*/,"").trim()),o||(o="å¯¹æœ¬æ–‡ä¸»é¢˜æ„Ÿå…´è¶£çš„å¼€å‘è€…"),m||(m="å»ºè®®ä»”ç»†é˜…è¯»"),{overview:t,keyPoints:l.length>0?l:["æ–‡ç« åŒ…å«è¯¦ç»†çš„æŠ€æœ¯å†…å®¹"],targetAudience:o,readingTime:m}}async function Ve(a,i){const t=ue(),l=i.slice(0,3e3),o=`è¯·å¯¹ä»¥ä¸‹æŠ€æœ¯æ–‡ç« è¿›è¡Œæ€»ç»“ï¼š

æ–‡ç« æ ‡é¢˜ï¼š${a}

æ–‡ç« å†…å®¹ï¼š
${l}

è¯·æŒ‰ç…§ç³»ç»Ÿæç¤ºçš„æ ¼å¼è¾“å‡ºæ€»ç»“ã€‚`;try{const m=await xe({messages:[{role:"system",content:t},{role:"user",content:o}],temperature:.3,maxTokens:1e3});return Be(m.content)}catch(m){throw console.error("ç”Ÿæˆæ–‡ç« æ€»ç»“å¤±è´¥:",m),m}}const R="article_summaries";function He(a){try{const i=localStorage.getItem(R);return i&&JSON.parse(i)[a]||null}catch{return null}}function Ke(a,i){try{const t=localStorage.getItem(R),l=t?JSON.parse(t):{},o=Object.keys(l);o.length>=20&&delete l[o[0]],l[a]=i,localStorage.setItem(R,JSON.stringify(l))}catch(t){console.error("ç¼“å­˜æ€»ç»“å¤±è´¥:",t)}}function qe({articleTitle:a,articleContent:i,autoGenerate:t=!1}){const[l,o]=c.useState(null),[m,x]=c.useState(!1),[u,n]=c.useState(null),[s,p]=c.useState(!1);c.useEffect(()=>{p(K())},[]);const b=c.useCallback(async()=>{if(!a||!i)return;const w=He(a);if(w){o(w);return}x(!0),n(null);try{const f=await Ve(a,i);o(f),Ke(a,f)}catch(f){const C=f instanceof Error?f.message:"ç”Ÿæˆæ€»ç»“å¤±è´¥";n(C),console.error("ç”Ÿæˆæ€»ç»“å¤±è´¥:",f)}finally{x(!1)}},[a,i]);c.useEffect(()=>{t&&s&&!l&&!m&&b()},[t,s,l,m,b]);const y=c.useCallback(()=>{o(null),n(null)},[]);return{summary:l,isLoading:m,error:u,isConfigured:s,generate:b,clear:y}}const Ge=[{name:"CSS åŠ¨ç”»åº“",path:"/tools/css-animation",icon:Q,description:"30+ ç§åŠ¨ç”»æ•ˆæœ",color:"from-pink-500 to-rose-500"},{name:"AI åŠ¨ç”»ç”Ÿæˆå™¨",path:"/tools/ai-animation",icon:L,description:"è‡ªç„¶è¯­è¨€ç”ŸæˆåŠ¨ç”»",color:"from-violet-500 to-purple-500"},{name:"SVG åŠ¨ç”»ç¼–è¾‘å™¨",path:"/tools/svg-animation",icon:Y,description:"å¯è§†åŒ– SVG è·¯å¾„ç¼–è¾‘",color:"from-pink-500 to-purple-500"},{name:"æ»šåŠ¨åŠ¨ç”»è®¾è®¡å™¨",path:"/tools/scroll-animation",icon:Z,description:"æ»šåŠ¨è§¦å‘åŠ¨ç”»",color:"from-indigo-500 to-purple-500"},{name:"ä»£ç æ¸¸ä¹åœº",path:"/tools/code-playground",icon:ee,description:"åœ¨çº¿ç¼–å†™ React ä»£ç ",color:"from-emerald-500 to-teal-500"}];function We(){const[a,i]=c.useState(!1);return e.jsxs("div",{className:"relative inline-block",children:[e.jsxs(M,{variant:"outline",className:"group flex items-center gap-2 bg-linear-to-r from-purple-500/10 to-blue-500/10 border-purple-500/30 hover:border-purple-500/60",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsx(ke,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"bg-linear-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent font-medium",children:"å·¥å…·ç®±"}),e.jsx($,{className:`w-4 h-4 text-purple-500 transition-transform duration-200 ${a?"rotate-180":""}`})]}),e.jsx(P,{children:a&&e.jsx(k.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-72 z-50",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-3 bg-linear-to-r from-purple-500/10 to-blue-500/10 border-b border-slate-200 dark:border-slate-700",children:e.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"å¼€å‘å·¥å…·é›†åˆ"})}),e.jsx("div",{className:"p-2 space-y-1",children:Ge.map(t=>{const l=t.icon;return e.jsxs(F,{to:t.path,className:"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-all group",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg bg-linear-to-r ${t.color} flex items-center justify-center shadow-md group-hover:scale-110 transition-transform`,children:e.jsx(l,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-slate-100",children:t.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:t.description})]})]},t.name)})}),e.jsx("div",{className:"p-2 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:e.jsxs(F,{to:"/tools",className:"flex items-center justify-center gap-2 p-2 text-sm text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors",children:[e.jsx("span",{children:"æŸ¥çœ‹å…¨éƒ¨å·¥å…·"}),e.jsx($,{className:"w-4 h-4 -rotate-90"})]})})]})})})]})}const Je=Ne()(we((a,i)=>({likes:{},favorites:[],likedPosts:[],likePost:t=>{const{likedPosts:l,likes:o}=i();l.includes(t)||a({likedPosts:[...l,t],likes:{...o,[t]:(o[t]||0)+1}})},favoritePost:t=>{const{favorites:l}=i();l.includes(t)?a({favorites:l.filter(o=>o!==t)}):a({favorites:[...l,t]})},isFavorited:t=>i().favorites.includes(t),isLiked:t=>i().likedPosts.includes(t),getLikeCount:t=>i().likes[t]||0}),{name:"interaction-storage"}));function Xe({postId:a}){const[i,t]=c.useState(!1),l=typeof window<"u"?`${window.location.origin}/blog/${a}`:`/blog/${a}`,o=()=>{window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(l)}&text=${encodeURIComponent("å‘ç°äº†ä¸€ç¯‡ä¸é”™çš„æŠ€æœ¯æ–‡ç« ï¼Œåˆ†äº«ç»™å¤§å®¶ï¼")}`,"_blank")},m=()=>{window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(l)}`,"_blank")},x=async()=>{try{await navigator.clipboard.writeText(l),t(!0),setTimeout(()=>t(!1),2e3)}catch(u){console.error("Failed to copy:",u)}};return e.jsxs(ve,{children:[e.jsx(ye,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-muted hover:bg-muted/80 text-foreground transition-colors",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"åˆ†äº«"})]})}),e.jsxs(Ce,{align:"end",className:"w-48",children:[e.jsxs(E,{onClick:o,className:"cursor-pointer",children:[e.jsx(te,{className:"w-4 h-4 mr-2 text-blue-400"}),"åˆ†äº«åˆ° Twitter"]}),e.jsxs(E,{onClick:m,className:"cursor-pointer",children:[e.jsx(se,{className:"w-4 h-4 mr-2 text-blue-600"}),"åˆ†äº«åˆ° LinkedIn"]}),e.jsx(E,{onClick:x,className:"cursor-pointer",children:i?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 mr-2 text-green-500"}),"å·²å¤åˆ¶"]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"å¤åˆ¶é“¾æ¥"]})})]})]})}function Qe({postId:a,initialLikes:i=0}){const{likePost:t,favoritePost:l,isLiked:o,isFavorited:m,getLikeCount:x}=Je(),u=x(a)+i,n=o(a),s=m(a);return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>t(a),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${n?"bg-red-500 text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:[e.jsx(Fe,{className:`w-4 h-4 ${n?"fill-current":""}`}),e.jsx("span",{className:"font-medium",children:u})]}),e.jsx("button",{onClick:()=>l(a),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${s?"bg-yellow-500 text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,title:s?"å–æ¶ˆæ”¶è—":"æ”¶è—æ–‡ç« ",children:e.jsx(Te,{className:`w-4 h-4 ${s?"fill-current":""}`})}),e.jsx(Xe,{postId:a})]})}function Ye({postSlug:a}){return e.jsx("div",{className:"mt-12 p-6 bg-muted rounded-xl border border-border",children:e.jsxs("p",{className:"text-muted-foreground text-center",children:["ğŸ’¬ è¯„è®ºåŠŸèƒ½éœ€è¦é…ç½® Giscus",e.jsx("br",{}),e.jsxs("span",{className:"text-sm",children:["è¯·è®¿é—®"," ",e.jsx("a",{href:"https://giscus.app",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 hover:underline",children:"giscus.app"})," ","è·å–é…ç½®ä¿¡æ¯"]})]})})}function $t(){const{slug:a}=W(),i=J(),{getPostBySlug:t,incrementViews:l,posts:o}=X(),[m,x]=c.useState(null),[u,n]=c.useState(!1),s=a?t(a):void 0,{summary:p,isLoading:b,error:y,isConfigured:w,generate:f}=qe({articleTitle:(s==null?void 0:s.title)||"",articleContent:(s==null?void 0:s.content)||"",autoGenerate:!1}),C=s?o.filter(r=>r.category===s.category&&r.id!==s.id).slice(0,3):[];c.useEffect(()=>{const r=()=>{n(document.documentElement.classList.contains("dark"))};r();const h=new MutationObserver(r);return h.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>h.disconnect()},[]),c.useEffect(()=>{s&&l(s.id)},[s==null?void 0:s.id]);const v=async(r,h)=>{try{await navigator.clipboard.writeText(r),x(h),setTimeout(()=>x(null),2e3)}catch(S){console.error("å¤åˆ¶å¤±è´¥:",S)}};return s?e.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[e.jsx(B,{}),e.jsxs("section",{className:"relative pt-32 pb-16 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-slate-50/80 via-slate-50/60 to-slate-50 dark:from-slate-900/80 dark:via-slate-900/60 dark:to-slate-900"})]}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[e.jsxs(k.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>i("/blog"),className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors mb-8",children:[e.jsx(H,{className:"w-4 h-4"}),"è¿”å›æ–‡ç« åˆ—è¡¨"]}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(O,{variant:"secondary",className:"mb-4 bg-blue-100/80 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:[s.category==="Frontend"&&"å‰ç«¯å¼€å‘",s.category==="Design"&&"UI/UXè®¾è®¡",s.category==="AI"&&"äººå·¥æ™ºèƒ½"]})}),e.jsx(k.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight",children:s.title}),e.jsx(k.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg sm:text-xl text-slate-600 dark:text-slate-400 mb-8 leading-relaxed",children:s.excerpt}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-wrap items-center gap-4 sm:gap-6 text-sm text-slate-500 dark:text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(s.publishedAt).toLocaleDateString("zh-CN")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.readingTime," åˆ†é’Ÿé˜…è¯»"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.views.toLocaleString()," é˜…è¯»"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.likes," å–œæ¬¢"]})]})]})]})]}),e.jsx("section",{className:"relative pb-20 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_280px] gap-12",children:[e.jsxs(k.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"prose prose-slate dark:prose-invert prose-lg max-w-none",children:[e.jsx(ie,{components:{h2:({children:r})=>e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-12 mb-6",children:r}),h3:({children:r})=>e.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mt-8 mb-4",children:r}),p:({children:r})=>e.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed mb-6",children:r}),ul:({children:r})=>e.jsx("ul",{className:"list-disc list-inside space-y-2 text-slate-600 dark:text-slate-400 mb-6",children:r}),ol:({children:r})=>e.jsx("ol",{className:"list-decimal list-inside space-y-2 text-slate-600 dark:text-slate-400 mb-6",children:r}),blockquote:({children:r})=>e.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 italic text-slate-700 dark:text-slate-300 my-6",children:r}),code({node:r,inline:h,className:S,children:g,...d}){const j=/language-(\w+)/.exec(S||""),N=String(g).replace(/\n$/,""),z=Math.random().toString(36).substr(2,9);return!h&&j?e.jsxs("div",{className:"relative group my-6",children:[e.jsx("div",{className:"absolute top-0 left-4 -translate-y-1/2 z-10",children:e.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-full",children:j[1]})}),e.jsx("button",{onClick:()=>v(N,z),className:"absolute top-2 right-2 z-10 p-2 rounded-lg bg-slate-700/80 hover:bg-slate-600 text-white opacity-0 group-hover:opacity-100 transition-opacity",title:"å¤åˆ¶ä»£ç ",children:m===z?e.jsx(G,{className:"w-4 h-4 text-green-400"}):e.jsx(Le,{className:"w-4 h-4"})}),e.jsx(ne,{style:u?oe:ce,language:j[1],PreTag:"div",customStyle:{margin:0,borderRadius:"0.75rem",padding:"2rem 1.5rem 1.5rem",fontSize:"0.875rem",lineHeight:"1.7"},showLineNumbers:!0,lineNumberStyle:{minWidth:"2.5em",paddingRight:"1em",color:u?"#6e7681":"#a0aec0"},...d,children:N})]}):e.jsx("code",{className:"px-1.5 py-0.5 text-sm bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded",...d,children:g})}},children:s.content}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Re,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"æ ‡ç­¾"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(r=>e.jsx(O,{variant:"outline",className:"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>i(`/blog?tag=${encodeURIComponent(r)}`),children:r},r))})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿ"}),e.jsx(Qe,{postId:s.slug,initialLikes:s.likes})]})})}),e.jsx(Ye,{postSlug:s.slug})]}),e.jsxs(k.aside,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"space-y-8",children:[s&&e.jsx(Oe,{summary:p,isLoading:b,error:y,isConfigured:w,onGenerate:f}),e.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"å…³äºä½œè€…"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-linear-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:"L"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:"Levy"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"å‰ç«¯å·¥ç¨‹å¸ˆ / æŠ€æœ¯åšä¸»"})]})]}),e.jsx("p",{className:"mt-4 text-sm text-slate-600 dark:text-slate-400",children:"çƒ­çˆ±å‰ç«¯å¼€å‘å’ŒUIè®¾è®¡ï¼Œä¸“æ³¨äºReactç”Ÿæ€å’ŒAIæŠ€æœ¯åº”ç”¨ã€‚"})]}),C.length>0&&e.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"ç›¸å…³æ–‡ç« "}),e.jsx("div",{className:"space-y-4",children:C.map(r=>e.jsxs("button",{onClick:()=>i(`/blog/${r.slug}`),className:"w-full text-left group",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2",children:r.title}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:new Date(r.publishedAt).toLocaleDateString("zh-CN")})]},r.id))})]}),e.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"æ–‡ç« åˆ†ç±»"}),e.jsx("div",{className:"space-y-2",children:["Frontend","Design","AI"].map(r=>e.jsxs("button",{onClick:()=>i(`/blog?category=${r}`),className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:[r==="Frontend"&&"å‰ç«¯å¼€å‘",r==="Design"&&"UI/UXè®¾è®¡",r==="AI"&&"äººå·¥æ™ºèƒ½"]}),e.jsx(Ae,{className:"w-4 h-4 text-slate-400"})]},r))})]}),e.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white mb-4",children:"å¼€å‘å·¥å…·"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"æ¢ç´¢æˆ‘å¼€å‘çš„äº¤äº’å¼å·¥å…·é›†åˆ"}),e.jsx(We,{})]})]})]})})}),s&&e.jsx(_e,{articleTitle:s.title,articleContent:s.content}),e.jsx(V,{})]}):e.jsxs("div",{className:"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[e.jsx(B,{}),e.jsx("div",{className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"æ–‡ç« æœªæ‰¾åˆ°"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8",children:"æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„æ–‡ç« ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤ã€‚"}),e.jsxs(M,{onClick:()=>i("/blog"),children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"è¿”å›æ–‡ç« åˆ—è¡¨"]})]})}),e.jsx(V,{})]})}export{$t as default};
//# sourceMappingURL=BlogDetailPage-BbWYxzhT-BbWYxzhT.js.map
