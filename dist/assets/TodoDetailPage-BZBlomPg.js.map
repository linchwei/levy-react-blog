{"version":3,"file":"TodoDetailPage-BZBlomPg.js","sources":["../../src/pages/TodoDetailPage.tsx"],"sourcesContent":["import { useParams, useNavigate } from 'react-router-dom'\nimport { useTodoStore, useTodoById, PRIORITY_CONFIG } from '@/stores/todoStore'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardFooter } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { ArrowLeft, Calendar, Clock, Trash2 } from 'lucide-react'\nimport { toast } from 'sonner'\nimport { cn } from '@/lib/utils'\nimport type { Priority } from '@/types'\n\nconst selectToggleTodo = (state: ReturnType<typeof useTodoStore.getState>) =>\n  state.toggleTodo\nconst selectDeleteTodo = (state: ReturnType<typeof useTodoStore.getState>) =>\n  state.deleteTodo\n\nexport function TodoDetailPage() {\n  const { id } = useParams<{ id: string }>()\n  const navigate = useNavigate()\n  const todo = useTodoById(id || '')\n  const toggleTodo = useTodoStore(selectToggleTodo)\n  const deleteTodo = useTodoStore(selectDeleteTodo)\n\n  if (!todo) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md\">\n          <CardContent className=\"flex flex-col items-center justify-center py-12\">\n            <p className=\"text-muted-foreground text-center mb-4\">\n              待办事项不存在或已被删除\n            </p>\n            <Button onClick={() => navigate('/')}>\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              返回首页\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  const handleToggle = () => {\n    toggleTodo(todo.id)\n    toast.success(todo.completed ? '标记为未完成' : '标记为已完成')\n  }\n\n  const handleDelete = () => {\n    deleteTodo(todo.id)\n    toast.success('待办事项已删除')\n    navigate('/')\n  }\n\n  const priorityConfig = PRIORITY_CONFIG[todo.priority as Priority]\n\n  return (\n    <div className=\"min-h-screen bg-background py-8 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-2xl mx-auto\">\n        <Button onClick={() => navigate('/')} className=\"mb-6\">\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\n          返回列表\n        </Button>\n\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-start justify-between gap-4\">\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-3 mb-3\">\n                  <Checkbox\n                    checked={todo.completed}\n                    onCheckedChange={handleToggle}\n                    className=\"h-6 w-6\"\n                  />\n                  <h1\n                    className={cn(\n                      'text-2xl font-bold',\n                      todo.completed && 'line-through text-muted-foreground'\n                    )}\n                  >\n                    {todo.title}\n                  </h1>\n                </div>\n                <Badge\n                  className={\n                    priorityConfig.bgColor + ' ' + priorityConfig.textColor\n                  }\n                >\n                  {priorityConfig.label}\n                </Badge>\n              </div>\n            </div>\n          </CardHeader>\n\n          <CardContent className=\"space-y-6\">\n            <div>\n              <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">\n                描述\n              </h3>\n              <p\n                className={cn(\n                  'text-base leading-relaxed',\n                  todo.completed && 'line-through text-muted-foreground'\n                )}\n              >\n                {todo.description || '暂无描述'}\n              </p>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 pt-4 border-t\">\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                <Calendar className=\"h-4 w-4\" />\n                <span>创建时间</span>\n              </div>\n              <div className=\"text-sm\">\n                {new Date(todo.createdAt).toLocaleString('zh-CN')}\n              </div>\n\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                <Clock className=\"h-4 w-4\" />\n                <span>更新时间</span>\n              </div>\n              <div className=\"text-sm\">\n                {new Date(todo.updatedAt).toLocaleString('zh-CN')}\n              </div>\n\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                <span>状态</span>\n              </div>\n              <div className=\"text-sm\">\n                {todo.completed ? (\n                  <span className=\"text-green-600 font-medium\">已完成</span>\n                ) : (\n                  <span className=\"text-yellow-600 font-medium\">进行中</span>\n                )}\n              </div>\n            </div>\n          </CardContent>\n\n          <CardFooter className=\"flex gap-2 pt-6 border-t\">\n            <Button className=\"flex-1\" onClick={handleToggle}>\n              {todo.completed ? '标记为未完成' : '标记为已完成'}\n            </Button>\n            <Button onClick={handleDelete}>\n              <Trash2 className=\"h-4 w-4 mr-2\" />\n              删除\n            </Button>\n          </CardFooter>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":["selectToggleTodo","state","selectDeleteTodo","TodoDetailPage","id","useParams","navigate","useNavigate","todo","useTodoById","toggleTodo","useTodoStore","deleteTodo","jsx","Card","jsxs","CardContent","Button","ArrowLeft","handleToggle","toast","handleDelete","priorityConfig","PRIORITY_CONFIG","CardHeader","Checkbox","cn","Badge","Calendar","Clock","CardFooter","Trash2"],"mappings":"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"}