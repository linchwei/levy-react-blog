import{j as e,m,A as oe}from"./ui-B0aQrFUZ.js";import{r as o}from"./vendor-QyoG3HE1.js";import{g as ne,c as a,C as b,b as N,h as y,i as ce,a as v,B as I,R as de,S as z,T as K,j as V,k as X,t as x,l as me}from"./index-CH7CwVi6.js";import{I as xe}from"./input-BZNB_Ppl.js";import{S as W}from"./slider-4FGqgd0A.js";import{B as he}from"./badge-BAPvAxKJ.js";import{T as pe,a as ue,b as Y,c as Z}from"./tabs-BgVfCLgz.js";import{S as A}from"./scroll-area-wKMtCHUs.js";import{N as be,T as ge}from"./Navigation-hzDg3-va.js";import{W as U,H as fe}from"./wand-sparkles-B5jtEjd0.js";import{L as je}from"./lightbulb-BBP8hffT.js";import{E as we}from"./eye-BFv4LWtH.js";import{P as Ne}from"./play-BZRWWKre.js";import{S as ye}from"./settings-2-I_CyddYz.js";import{C as _}from"./code-xml-CT4norKG.js";import{Z as ve}from"./zap-CZ6zQ-sx.js";import"./animation-DpLQP9uM.js";import"./index-BdQq_4o_.js";import"./index-DKsI43ti.js";import"./index-DJ0IVseW.js";const Se=["一个弹跳的心形图标，带弹性效果","表单验证失败时的左右摇晃提示","加载时的旋转圆圈动画","卡片悬浮时的3D翻转效果","通知红点的脉冲发光效果","列表项依次从下方滑入","按钮点击时的缩放反馈","文字打字机效果","图片悬浮时的放大和阴影","进度条填充动画"],Ce=`你是一位专业的动画开发专家，精通 Framer Motion 和 CSS 动画。

请根据用户的描述生成动画代码，必须输出严格的 JSON 格式，不要包含任何其他文字：

{
  "name": "动画名称（简短中文）",
  "description": "动画描述（一句话）",
  "framerCode": "完整的 Framer Motion 组件代码，使用 motion.div，包含所有必要的 props 和 transition 配置",
  "cssCode": "完整的 CSS 代码，包含 @keyframes 和类名定义",
  "defaultConfig": {
    "duration": 0.5,
    "delay": 0,
    "ease": "easeOut",
    "scale": 1.2,
    "rotate": 360,
    "x": 0,
    "y": 0
  }
}

要求：
1. Framer Motion 代码必须是完整的 JSX 组件，可以直接渲染
2. 使用 Tailwind CSS 类名进行样式设置
3. 动画要有视觉吸引力，符合现代 UI 设计趋势
4. 代码要简洁高效，避免不必要的复杂性
5. 默认配置要根据动画类型合理设置

可用的缓动函数：linear, easeIn, easeOut, easeInOut, circIn, circOut, backIn, backOut, elastic, bounce`;function Xe(){const[T,M]=o.useState(""),[S,F]=o.useState(!1),[$,H]=o.useState(""),[l,O]=o.useState(null),[i,g]=o.useState({duration:.5,delay:0,ease:"easeOut"}),[q,D]=o.useState(0),[R,B]=o.useState(null),[C,E]=o.useState(()=>{const s=localStorage.getItem("ai-animation-history");return s?JSON.parse(s):[]}),[t,Q]=o.useState(!0),[J,P]=o.useState(null);o.useEffect(()=>{const s=()=>{const c=document.documentElement.classList.contains("dark");Q(c)};s();const r=new MutationObserver(c=>{c.forEach(d=>{d.attributeName==="class"&&s()})});return r.observe(document.documentElement,{attributes:!0}),()=>r.disconnect()},[]),o.useEffect(()=>{localStorage.setItem("ai-animation-history",JSON.stringify(C))},[C]);const G=async()=>{if(!T.trim()){x.error("请输入动画描述");return}F(!0),H(""),P(null),O(null);try{let s="";await me({messages:[{role:"system",content:Ce},{role:"user",content:T}],temperature:.7,stream:!0,onStream:r=>{s+=r,H(s)}});try{const d=((s.match(/```json\n?([\s\S]*?)\n?```/)||s.match(/```\n?([\s\S]*?)\n?```/)||[null,s])[1]||s).replace(/^[^{]*/,"").replace(/[^}]*$/,""),j={...JSON.parse(d),id:Date.now().toString(),createdAt:Date.now()};O(j),g(j.defaultConfig),D(h=>h+1),E(h=>[j,...h].slice(0,20)),x.success("动画生成成功！")}catch(r){console.error("Parse error:",r),P("无法解析 AI 返回的数据，请重试"),x.error("解析失败，请重试")}}catch(s){console.error("Generation error:",s),P("生成失败，请检查网络连接或 API 配置"),x.error("生成失败")}finally{F(!1)}},L=s=>{const r=s==="framer"?l==null?void 0:l.framerCode:l==null?void 0:l.cssCode;r&&(navigator.clipboard.writeText(r),B(s),x.success(`${s==="framer"?"Framer Motion":"CSS"} 代码已复制`),setTimeout(()=>B(null),2e3))},f=()=>{D(s=>s+1)},ee=s=>{O(s),g(s.defaultConfig),D(r=>r+1),x.success(`已加载：${s.name}`)},se=(s,r)=>{r.stopPropagation(),E(c=>c.filter(d=>d.id!==s)),x.success("已删除")},te=()=>{E([]),x.success("历史记录已清空")},ae=()=>{if(!l)return e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[e.jsx(U,{className:"w-16 h-16 mb-4 opacity-50"}),e.jsx("p",{children:"输入描述，让 AI 为你生成动画"})]});const s=`${l.id}-${q}`,r=l.framerCode,c=r.includes("scale:"),d=r.includes("rotate:"),j=r.includes("x:")&&!r.includes("boxShadow"),h=r.includes("y:")&&!r.includes("opacity"),re=r.includes("opacity:"),le=r.includes("boxShadow:"),w=r.includes("repeat: Infinity")||r.includes("repeat:Infinity"),n={},k={duration:i.duration,delay:i.delay,ease:i.ease};w&&(k.repeat=1/0),c&&!d?(n.scale=[1,i.scale||1.3,.9,1.05,1],k.times=[0,.2,.4,.6,1]):d?(n.rotate=i.rotate||360,w&&(k.ease="linear")):j&&!h?n.x=[0,-10,10,-10,10,0]:h&&re?(n.y=[i.y||30,0],n.opacity=[0,1]):le?(n.boxShadow=["0 0 0 0 rgba(59, 130, 246, 0.4)","0 0 0 20px rgba(59, 130, 246, 0)"],n.scale=[1,1.05,1]):h&&w&&(n.y=[-(i.y||10),i.y||10,-(i.y||10)]);let p="✨",u="text-6xl cursor-pointer select-none",ie={};return l.name.includes("心")||l.name.includes("heart")?p="❤️":l.name.includes("加载")||l.name.includes("loading")||l.name.includes("旋转")?(p="",u="w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full cursor-pointer"):l.name.includes("卡片")||l.name.includes("card")?(p="卡片",u="w-32 h-32 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-xl flex items-center justify-center text-white font-bold cursor-pointer"):l.name.includes("按钮")||l.name.includes("button")?(p="点击我",u="bg-gradient-to-r from-orange-500 to-red-500 text-white px-8 py-4 rounded-full shadow-lg cursor-pointer font-bold"):l.name.includes("通知")||l.name.includes("红点")?(p="",u="w-6 h-6 bg-blue-500 rounded-full cursor-pointer"):(l.name.includes("错误")||l.name.includes("shake"))&&(p="⚠️ 错误提示",u="bg-red-100 border border-red-400 text-red-700 px-6 py-3 rounded-lg cursor-pointer font-medium"),e.jsx(m.div,{className:u,style:ie,animate:n,transition:k,onClick:f,whileHover:w?void 0:{scale:1.05},whileTap:w?void 0:{scale:.95},children:p},s)};return e.jsxs("div",{className:a("min-h-screen transition-colors duration-500",t?"bg-slate-950":"bg-gradient-to-br from-blue-50 via-white to-purple-50"),children:[e.jsx(be,{}),e.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsxs("div",{className:a("inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium mb-4 border",t?"bg-purple-500/10 border-purple-500/30 text-purple-400":"bg-purple-500/10 border-purple-500/30 text-purple-600"),children:[e.jsx(ne,{className:"w-4 h-4"}),"DeepSeek AI 驱动"]}),e.jsx("h1",{className:a("text-4xl sm:text-5xl font-bold mb-4",t?"bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-blue-400":"bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-blue-600"),children:"AI 动画生成器"}),e.jsx("p",{className:a("text-lg max-w-2xl mx-auto",t?"text-slate-400":"text-slate-600"),children:"用自然语言描述你想要的动画效果，DeepSeek AI 将为你生成专业的动画代码"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-1 space-y-6",children:[e.jsxs(b,{className:a("border backdrop-blur-xl",t?"bg-white/5 border-white/10":"bg-white/80 border-white/50"),children:[e.jsxs(N,{children:[e.jsxs(y,{className:a("flex items-center gap-2",t?"text-white":"text-slate-900"),children:[e.jsx(U,{className:"w-5 h-5 text-purple-500"}),"描述你的动画"]}),e.jsx(ce,{className:t?"text-slate-400":"text-slate-600",children:"用简单的语言描述你想要的动画效果"})]}),e.jsxs(v,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(xe,{placeholder:"例如：一个弹跳的心形图标",value:T,onChange:s=>M(s.target.value),onKeyDown:s=>s.key==="Enter"&&G(),className:a("flex-1",t?"bg-white/5 border-white/10 text-white placeholder:text-slate-500":"bg-white border-slate-200 text-slate-900")}),e.jsx(I,{onClick:G,disabled:S,className:a("bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",S&&"opacity-70"),children:S?e.jsx(de,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"生成"]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:a("text-sm flex items-center gap-1",t?"text-slate-400":"text-slate-600"),children:[e.jsx(je,{className:"w-3 h-3"}),"试试："]}),Se.slice(0,5).map(s=>e.jsx("button",{onClick:()=>M(s),className:a("text-xs px-2 py-1 rounded-full transition-colors",t?"bg-white/5 hover:bg-white/10 text-slate-300":"bg-slate-100 hover:bg-slate-200 text-slate-700"),children:s},s))]})]})]}),C.length>0&&e.jsxs(b,{className:a("border backdrop-blur-xl",t?"bg-white/5 border-white/10":"bg-white/80 border-white/50"),children:[e.jsxs(N,{className:"flex flex-row items-center justify-between",children:[e.jsxs(y,{className:a("flex items-center gap-2 text-base",t?"text-white":"text-slate-900"),children:[e.jsx(fe,{className:"w-4 h-4"}),"历史记录"]}),e.jsx("button",{onClick:te,className:a("p-1.5 rounded-lg transition-colors",t?"hover:bg-white/10 text-slate-400":"hover:bg-slate-100 text-slate-500"),children:e.jsx(K,{className:"w-4 h-4"})})]}),e.jsx(v,{children:e.jsx(A,{className:"h-48",children:e.jsx("div",{className:"space-y-2",children:C.map(s=>e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:a("p-3 rounded-lg cursor-pointer transition-all group relative",t?"bg-white/5 hover:bg-white/10 border border-white/5":"bg-slate-50 hover:bg-slate-100 border border-slate-100"),onClick:()=>ee(s),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:a("font-medium text-sm truncate",t?"text-white":"text-slate-900"),children:s.name}),e.jsx("p",{className:a("text-xs truncate","text-slate-500"),children:s.description})]}),e.jsx("button",{onClick:r=>se(s.id,r),className:a("p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",t?"hover:bg-white/10 text-slate-400":"hover:bg-slate-200 text-slate-500"),children:e.jsx(K,{className:"w-3 h-3"})})]})},s.id))})})})]})]}),e.jsxs(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2 space-y-6",children:[e.jsxs(b,{className:a("overflow-hidden border backdrop-blur-xl",t?"bg-white/5 border-white/10":"bg-white/80 border-white/50"),children:[e.jsxs(N,{className:a("border-b flex flex-row items-center justify-between",t?"border-white/10 bg-white/5":"border-slate-200 bg-slate-50/50"),children:[e.jsxs(y,{className:a("flex items-center gap-2",t?"text-white":"text-slate-900"),children:[e.jsx(we,{className:"w-5 h-5 text-green-500"}),"实时预览",l&&e.jsx(he,{variant:"secondary",className:"ml-2",children:l.name})]}),l&&e.jsxs(I,{variant:"ghost",size:"sm",onClick:f,children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"重播"]})]}),e.jsx(v,{className:"p-0",children:e.jsx("div",{className:a("h-64 flex items-center justify-center",t?"bg-gradient-to-br from-slate-900 to-slate-800":"bg-gradient-to-br from-slate-100 to-slate-200"),children:ae()})})]}),e.jsx(oe,{children:S&&$&&e.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:a("rounded-xl p-4 border backdrop-blur-xl",t?"bg-white/5 border-white/10":"bg-white/80 border-white/50"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ge,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:a("text-sm font-medium",t?"text-white":"text-slate-900"),children:"AI 正在生成代码..."})]}),e.jsxs("pre",{className:a("text-xs overflow-x-auto p-3 rounded-lg",t?"bg-slate-950 text-slate-300":"bg-slate-100 text-slate-700"),children:[$.slice(-500),"..."]})]})}),J&&e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-xl p-4 border border-red-500/30 bg-red-500/10 text-red-400",children:J}),l&&e.jsxs(b,{className:a("border backdrop-blur-xl",t?"bg-white/5 border-white/10":"bg-white/80 border-white/50"),children:[e.jsx(N,{children:e.jsxs(y,{className:a("flex items-center gap-2",t?"text-white":"text-slate-900"),children:[e.jsx(ye,{className:"w-5 h-5 text-blue-500"}),"参数微调"]})}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:a("text-sm font-medium",t?"text-white":"text-slate-900"),children:"持续时间"}),e.jsxs("span",{className:a("text-sm",t?"text-slate-400":"text-slate-600"),children:[i.duration,"s"]})]}),e.jsx(W,{value:[i.duration],onValueChange:([s])=>{g(r=>({...r,duration:s})),f()},min:.1,max:3,step:.1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("label",{className:a("text-sm font-medium",t?"text-white":"text-slate-900"),children:"延迟"}),e.jsxs("span",{className:a("text-sm",t?"text-slate-400":"text-slate-600"),children:[i.delay,"s"]})]}),e.jsx(W,{value:[i.delay],onValueChange:([s])=>{g(r=>({...r,delay:s})),f()},min:0,max:2,step:.1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:a("text-sm font-medium",t?"text-white":"text-slate-900"),children:"缓动函数"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["linear","easeIn","easeOut","easeInOut","circIn","circOut","backIn","backOut","elastic","bounce"].map(s=>e.jsx("button",{onClick:()=>{g(r=>({...r,ease:s})),f()},className:a("px-3 py-1 text-xs rounded-full transition-colors",i.ease===s?"bg-blue-500 text-white":t?"bg-white/5 text-slate-300 hover:bg-white/10":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:s},s))})]})]})]}),l&&e.jsxs(b,{className:a("border backdrop-blur-xl",t?"bg-white/5 border-white/10":"bg-white/80 border-white/50"),children:[e.jsx(N,{children:e.jsxs(y,{className:a("flex items-center gap-2",t?"text-white":"text-slate-900"),children:[e.jsx(_,{className:"w-5 h-5 text-orange-500"}),"生成的代码"]})}),e.jsx(v,{children:e.jsxs(pe,{defaultValue:"framer",className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-2",children:[e.jsx(Y,{value:"framer",children:"Framer Motion"}),e.jsx(Y,{value:"css",children:"CSS"})]}),e.jsx(Z,{value:"framer",className:"mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"h-64 rounded-md bg-slate-950",children:e.jsx("pre",{className:"p-4 text-sm text-slate-50 font-mono whitespace-pre-wrap",children:l.framerCode})}),e.jsx(I,{size:"sm",variant:"secondary",className:"absolute top-2 right-2",onClick:()=>L("framer"),children:R==="framer"?e.jsx(V,{className:"w-4 h-4"}):e.jsx(X,{className:"w-4 h-4"})})]})}),e.jsx(Z,{value:"css",className:"mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"h-64 rounded-md bg-slate-950",children:e.jsx("pre",{className:"p-4 text-sm text-slate-50 font-mono whitespace-pre-wrap",children:l.cssCode})}),e.jsx(I,{size:"sm",variant:"secondary",className:"absolute top-2 right-2",onClick:()=>L("css"),children:R==="css"?e.jsx(V,{className:"w-4 h-4"}):e.jsx(X,{className:"w-4 h-4"})})]})})]})})]})]})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-16 grid sm:grid-cols-3 gap-6",children:[{icon:z,title:"DeepSeek AI 驱动",desc:"基于 DeepSeek 大模型，智能理解你的需求",color:"purple"},{icon:_,title:"双格式输出",desc:"同时生成 Framer Motion 和 CSS 两种代码格式",color:"blue"},{icon:ve,title:"实时预览",desc:"即时预览动画效果，支持参数微调",color:"green"}].map(s=>e.jsxs(b,{className:a("text-center p-6 border backdrop-blur-xl",t?"bg-white/5 border-white/10":"bg-white/80 border-white/50"),children:[e.jsx("div",{className:a("w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center",t?`bg-${s.color}-500/20`:`bg-${s.color}-100`),children:e.jsx(s.icon,{className:a("w-6 h-6",t?`text-${s.color}-400`:`text-${s.color}-600`)})}),e.jsx("h3",{className:a("font-semibold mb-2",t?"text-white":"text-slate-900"),children:s.title}),e.jsx("p",{className:a("text-sm",t?"text-slate-400":"text-slate-600"),children:s.desc})]},s.title))})]})})]})}export{Xe as AIAnimationPage};
//# sourceMappingURL=AIAnimationPage-CtoweAjy.js.map
