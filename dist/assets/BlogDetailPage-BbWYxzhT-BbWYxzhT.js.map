{"version":3,"file":"BlogDetailPage-BbWYxzhT-BbWYxzhT.js","sources":["../../node_modules/lucide-react/dist/esm/icons/bookmark.js","../../node_modules/lucide-react/dist/esm/icons/link.js","../../node_modules/lucide-react/dist/esm/icons/tag.js","../../node_modules/lucide-react/dist/esm/icons/thumbs-up.js","../../src/hooks/useAIChat.ts","../../src/components/ai/AIChatWidget.tsx","../../src/components/ai/ArticleSummary.tsx","../../src/services/summaryService.ts","../../src/hooks/useArticleSummary.ts","../../src/components/tools/ToolboxDropdown.tsx","../../src/stores/interactionStore.ts","../../src/components/interaction/ShareButton.tsx","../../src/components/interaction/InteractionButtons.tsx","../../src/components/interaction/GiscusComments.tsx","../../src/pages/BlogDetailPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z\",\n      key: \"oz39mx\"\n    }\n  ]\n];\nconst Bookmark = createLucideIcon(\"bookmark\", __iconNode);\n\nexport { __iconNode, Bookmark as default };\n//# sourceMappingURL=bookmark.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\", key: \"1cjeqo\" }],\n  [\"path\", { d: \"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\", key: \"19qd67\" }]\n];\nconst Link = createLucideIcon(\"link\", __iconNode);\n\nexport { __iconNode, Link as default };\n//# sourceMappingURL=link.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\",\n      key: \"vktsd0\"\n    }\n  ],\n  [\"circle\", { cx: \"7.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"kqv944\" }]\n];\nconst Tag = createLucideIcon(\"tag\", __iconNode);\n\nexport { __iconNode, Tag as default };\n//# sourceMappingURL=tag.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z\",\n      key: \"emmmcr\"\n    }\n  ],\n  [\"path\", { d: \"M7 10v12\", key: \"1qc93n\" }]\n];\nconst ThumbsUp = createLucideIcon(\"thumbs-up\", __iconNode);\n\nexport { __iconNode, ThumbsUp as default };\n//# sourceMappingURL=thumbs-up.js.map\n","import { useState, useCallback, useRef } from 'react'\nimport { chatStream, getArticleSystemPrompt, type ChatMessage } from '@/services/aiService'\n\nexport interface Message {\n  id: string\n  role: 'user' | 'assistant'\n  content: string\n  timestamp: number\n}\n\ninterface UseAIChatOptions {\n  articleTitle: string\n  articleContent: string\n}\n\nexport function useAIChat({ articleTitle, articleContent }: UseAIChatOptions) {\n  const [messages, setMessages] = useState<Message[]>([])\n  const [inputValue, setInputValue] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const abortControllerRef = useRef<AbortController | null>(null)\n\n  // ç”Ÿæˆå”¯ä¸€ID\n  const generateId = () => Math.random().toString(36).substr(2, 9)\n\n  // å‘é€æ¶ˆæ¯\n  const sendMessage = useCallback(async (content: string) => {\n    if (!content.trim()) return\n\n    const userMessage: Message = {\n      id: generateId(),\n      role: 'user',\n      content: content.trim(),\n      timestamp: Date.now(),\n    }\n\n    // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯\n    setMessages(prev => [...prev, userMessage])\n    setInputValue('')\n    setIsLoading(true)\n    setError(null)\n\n    // å‡†å¤‡AIæ¶ˆæ¯\n    const aiMessageId = generateId()\n    const aiMessage: Message = {\n      id: aiMessageId,\n      role: 'assistant',\n      content: '',\n      timestamp: Date.now(),\n    }\n    setMessages(prev => [...prev, aiMessage])\n\n    try {\n      // æ„å»ºæ¶ˆæ¯å†å²\n      const historyMessages: ChatMessage[] = [\n        {\n          role: 'system',\n          content: getArticleSystemPrompt(articleTitle, articleContent),\n        },\n        ...messages.map(m => ({\n          role: m.role,\n          content: m.content,\n        })),\n        { role: 'user', content: content.trim() },\n      ]\n\n      // æµå¼æ¥æ”¶å“åº”\n      await chatStream({\n        messages: historyMessages,\n        temperature: 0.7,\n        maxTokens: 1500,\n        onStream: (chunk) => {\n          setMessages(prev =>\n            prev.map(m =>\n              m.id === aiMessageId\n                ? { ...m, content: m.content + chunk }\n                : m\n            )\n          )\n        },\n      })\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'è¯·æ±‚å¤±è´¥'\n      setError(errorMessage)\n      \n      // æ›´æ–°AIæ¶ˆæ¯æ˜¾ç¤ºé”™è¯¯\n      setMessages(prev =>\n        prev.map(m =>\n          m.id === aiMessageId\n            ? { ...m, content: `æŠ±æ­‰ï¼Œå‘ç”Ÿäº†é”™è¯¯ï¼š${errorMessage}` }\n            : m\n        )\n      )\n    } finally {\n      setIsLoading(false)\n    }\n  }, [articleTitle, articleContent, messages])\n\n  // é‡æ–°ç”Ÿæˆæœ€åä¸€æ¡å›å¤\n  const regenerate = useCallback(async () => {\n    const lastUserMessage = messages.filter(m => m.role === 'user').pop()\n    if (!lastUserMessage) return\n\n    // ç§»é™¤æœ€åä¸€æ¡AIå›å¤\n    setMessages(prev => {\n      const lastAiIndex = prev.findLastIndex(m => m.role === 'assistant')\n      if (lastAiIndex > -1) {\n        return prev.slice(0, lastAiIndex)\n      }\n      return prev\n    })\n\n    // é‡æ–°å‘é€\n    await sendMessage(lastUserMessage.content)\n  }, [messages, sendMessage])\n\n  // æ¸…ç©ºå¯¹è¯\n  const clearMessages = useCallback(() => {\n    setMessages([])\n    setError(null)\n  }, [])\n\n  // åœæ­¢ç”Ÿæˆ\n  const stopGeneration = useCallback(() => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort()\n      abortControllerRef.current = null\n    }\n    setIsLoading(false)\n  }, [])\n\n  return {\n    messages,\n    inputValue,\n    setInputValue,\n    isLoading,\n    error,\n    sendMessage,\n    regenerate,\n    clearMessages,\n    stopGeneration,\n  }\n}\n","import { useState, useRef, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport {\n  MessageCircle,\n  Send,\n  Sparkles,\n  Trash2,\n  ChevronDown,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Textarea } from '@/components/ui/textarea'\nimport { ChatMessage } from './ChatMessage'\nimport { useAIChat } from '@/hooks/useAIChat'\nimport { isAIConfigured } from '@/services/aiService'\n\ninterface AIChatWidgetProps {\n  articleTitle: string\n  articleContent: string\n}\n\nexport function AIChatWidget({\n  articleTitle,\n  articleContent,\n}: AIChatWidgetProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const [isConfigured, setIsConfigured] = useState(false)\n  const [isDark, setIsDark] = useState(false)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const textareaRef = useRef<HTMLTextAreaElement>(null)\n\n  const {\n    messages,\n    inputValue,\n    setInputValue,\n    isLoading,\n    error,\n    sendMessage,\n    regenerate,\n    clearMessages,\n  } = useAIChat({ articleTitle, articleContent })\n\n  // æ£€æŸ¥ API é…ç½®\n  useEffect(() => {\n    setIsConfigured(isAIConfigured())\n  }, [])\n\n  // æ£€æµ‹ä¸»é¢˜\n  useEffect(() => {\n    const checkTheme = () => {\n      setIsDark(document.documentElement.classList.contains('dark'))\n    }\n    checkTheme()\n    \n    const observer = new MutationObserver(checkTheme)\n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: ['class'],\n    })\n    \n    return () => observer.disconnect()\n  }, [])\n\n  // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨\n  useEffect(() => {\n    if (isOpen && messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n    }\n  }, [messages, isOpen])\n\n  // è‡ªåŠ¨è°ƒæ•´ textarea é«˜åº¦\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto'\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 120)}px`\n    }\n  }, [inputValue])\n\n  const handleSend = () => {\n    if (inputValue.trim() && !isLoading) {\n      sendMessage(inputValue)\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  // å¿«æ·é—®é¢˜\n  const quickQuestions = [\n    'è¿™ç¯‡æ–‡ç« ä¸»è¦è®²äº†ä»€ä¹ˆï¼Ÿ',\n    'èƒ½è§£é‡Šä¸€ä¸‹æ–‡ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå—ï¼Ÿ',\n    'è¿™ç¯‡æ–‡ç« é€‚åˆä»€ä¹ˆæ°´å¹³çš„è¯»è€…ï¼Ÿ',\n  ]\n\n  if (!isConfigured) {\n    return null // å¦‚æœæœªé…ç½® API Keyï¼Œä¸æ˜¾ç¤ºç»„ä»¶\n  }\n\n  return (\n    <>\n      {/* Floating Button */}\n      <AnimatePresence>\n        {!isOpen && (\n          <motion.button\n            initial={{ scale: 0, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0, opacity: 0 }}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={() => setIsOpen(true)}\n            className=\"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/30 flex items-center justify-center hover:shadow-xl hover:shadow-blue-500/40 transition-shadow\"\n          >\n            <MessageCircle className=\"w-6 h-6\" />\n          </motion.button>\n        )}\n      </AnimatePresence>\n\n      {/* Chat Window */}\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\n            className=\"fixed bottom-6 right-6 z-50 w-[380px] max-w-[calc(100vw-48px)] bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden\"\n          >\n            {/* Header */}\n            <div className=\"flex items-center justify-between px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white\">\n              <div className=\"flex items-center gap-2\">\n                <Sparkles className=\"w-5 h-5\" />\n                <div>\n                  <h3 className=\"font-semibold text-sm\">AI åŠ©æ‰‹</h3>\n                  <p className=\"text-xs text-white/80\">åŸºäº DeepSeek å¤§æ¨¡å‹</p>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                {messages.length > 0 && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-8 w-8 text-white/80 hover:text-white hover:bg-white/20\"\n                    onClick={clearMessages}\n                    title=\"æ¸…ç©ºå¯¹è¯\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </Button>\n                )}\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-8 w-8 text-white/80 hover:text-white hover:bg-white/20\"\n                  onClick={() => setIsOpen(false)}\n                >\n                  <ChevronDown className=\"w-5 h-5\" />\n                </Button>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div className=\"h-[400px] overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-950\">\n              {messages.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500/20 to-purple-600/20 flex items-center justify-center mx-auto mb-4\">\n                    <Sparkles className=\"w-8 h-8 text-blue-500\" />\n                  </div>\n                  <h4 className=\"font-medium text-slate-700 dark:text-slate-300 mb-2\">\n                    æœ‰ä»€ä¹ˆå¯ä»¥å¸®ä½ çš„ï¼Ÿ\n                  </h4>\n                  <p className=\"text-sm text-slate-500 dark:text-slate-400 mb-4\">\n                    æˆ‘å¯ä»¥å¸®ä½ ç†è§£è¿™ç¯‡æ–‡ç« çš„å†…å®¹\n                  </p>\n                  <div className=\"space-y-2\">\n                    {quickQuestions.map(question => (\n                      <button\n                        key={question}\n                        onClick={() => sendMessage(question)}\n                        className=\"block w-full text-left px-3 py-2 text-sm text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\n                      >\n                        {question}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                <>\n                  {messages.map((message, index) => (\n                    <ChatMessage\n                      key={message.id}\n                      message={{\n                        id: message.id,\n                        role: message.role,\n                        content: message.content,\n                        timestamp: Date.now(),\n                        isStreaming: isLoading && message.content === '' && index === messages.length - 1,\n                      }}\n                      isDark={isDark}\n                      onRegenerate={\n                        message.role === 'assistant' ? regenerate : undefined\n                      }\n                      isLastMessage={index === messages.length - 1}\n                    />\n                  ))}\n                  <div ref={messagesEndRef} />\n                </>\n              )}\n\n              {error && (\n                <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-sm text-red-600 dark:text-red-400\">\n                  {error}\n                </div>\n              )}\n            </div>\n\n            {/* Input */}\n            <div className=\"p-3 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-700\">\n              <div className=\"flex gap-2\">\n                <Textarea\n                  ref={textareaRef}\n                  value={inputValue}\n                  onChange={e => setInputValue(e.target.value)}\n                  onKeyDown={handleKeyDown}\n                  placeholder=\"è¾“å…¥é—®é¢˜ï¼ŒæŒ‰ Enter å‘é€...\"\n                  className=\"min-h-[44px] max-h-[120px] resize-none bg-slate-100 dark:bg-slate-800 border-0 focus-visible:ring-2 focus-visible:ring-blue-500\"\n                  rows={1}\n                />\n                <Button\n                  onClick={handleSend}\n                  disabled={!inputValue.trim() || isLoading}\n                  className=\"h-[44px] w-[44px] p-0 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:opacity-50\"\n                >\n                  <Send className=\"w-4 h-4\" />\n                </Button>\n              </div>\n              <p className=\"text-xs text-slate-400 dark:text-slate-500 mt-2 text-center\">\n                AI ç”Ÿæˆå†…å®¹ä»…ä¾›å‚è€ƒ\n              </p>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  )\n}\n","import { motion } from 'framer-motion'\nimport { Sparkles, RefreshCw, FileText, Users, Clock, Lightbulb, AlertCircle } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport type { ArticleSummary as ArticleSummaryType } from '@/services/summaryService'\n\ninterface ArticleSummaryProps {\n  summary: ArticleSummaryType | null\n  isLoading: boolean\n  error: string | null\n  isConfigured: boolean\n  onGenerate: () => void\n}\n\nexport function ArticleSummary({\n  summary,\n  isLoading,\n  error,\n  isConfigured,\n  onGenerate,\n}: ArticleSummaryProps) {\n  // æœªé…ç½® API Key\n  if (!isConfigured) {\n    return (\n      <Card className=\"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm border-slate-200 dark:border-slate-700\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5\" />\n            <div>\n              <h3 className=\"font-semibold text-slate-900 dark:text-white mb-1\">\n                AI æ€»ç»“æœªå¯ç”¨\n              </h3>\n              <p className=\"text-sm text-slate-600 dark:text-slate-400\">\n                è¯·åœ¨ .env.local ä¸­é…ç½® DeepSeek API Key ä»¥å¯ç”¨æ–‡ç« æ€»ç»“åŠŸèƒ½\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // åŠ è½½ä¸­\n  if (isLoading) {\n    return (\n      <Card className=\"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm border-slate-200 dark:border-slate-700\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Sparkles className=\"w-5 h-5 text-blue-500 animate-pulse\" />\n            <h3 className=\"font-semibold text-slate-900 dark:text-white\">AI æ­£åœ¨æ€»ç»“...</h3>\n          </div>\n          <div className=\"space-y-3\">\n            <Skeleton className=\"h-4 w-full\" />\n            <Skeleton className=\"h-4 w-[90%]\" />\n            <Skeleton className=\"h-4 w-[80%]\" />\n          </div>\n          <div className=\"mt-4 space-y-2\">\n            <Skeleton className=\"h-3 w-full\" />\n            <Skeleton className=\"h-3 w-[95%]\" />\n            <Skeleton className=\"h-3 w-[85%]\" />\n            <Skeleton className=\"h-3 w-[90%]\" />\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // é”™è¯¯çŠ¶æ€\n  if (error) {\n    return (\n      <Card className=\"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm border-red-200 dark:border-red-800\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5\" />\n            <div className=\"flex-1\">\n              <h3 className=\"font-semibold text-slate-900 dark:text-white mb-1\">\n                ç”Ÿæˆæ€»ç»“å¤±è´¥\n              </h3>\n              <p className=\"text-sm text-slate-600 dark:text-slate-400 mb-3\">\n                {error}\n              </p>\n              <Button size=\"sm\" variant=\"outline\" onClick={onGenerate}>\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n                é‡è¯•\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // æœªç”Ÿæˆæ€»ç»“\n  if (!summary) {\n    return (\n      <Card className=\"bg-gradient-to-br from-blue-50/80 to-purple-50/80 dark:from-blue-900/20 dark:to-purple-900/20 backdrop-blur-sm border-blue-200 dark:border-blue-800\">\n        <CardContent className=\"p-6 text-center\">\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mx-auto mb-4\">\n            <Sparkles className=\"w-6 h-6 text-white\" />\n          </div>\n          <h3 className=\"font-semibold text-slate-900 dark:text-white mb-2\">\n            AI æ–‡ç« æ€»ç»“\n          </h3>\n          <p className=\"text-sm text-slate-600 dark:text-slate-400 mb-4\">\n            ä½¿ç”¨ DeepSeek å¤§æ¨¡å‹å¿«é€Ÿäº†è§£æ–‡ç« æ ¸å¿ƒå†…å®¹\n          </p>\n          <Button onClick={onGenerate} className=\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700\">\n            <Sparkles className=\"w-4 h-4 mr-2\" />\n            ç”Ÿæˆæ€»ç»“\n          </Button>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // æ˜¾ç¤ºæ€»ç»“å†…å®¹\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      <Card className=\"bg-gradient-to-br from-blue-50/80 to-purple-50/80 dark:from-blue-900/20 dark:to-purple-900/20 backdrop-blur-sm border-blue-200 dark:border-blue-800 overflow-hidden\">\n        <CardContent className=\"p-6\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\n                <Sparkles className=\"w-4 h-4 text-white\" />\n              </div>\n              <h3 className=\"font-semibold text-slate-900 dark:text-white\">AI æ–‡ç« æ€»ç»“</h3>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"h-8 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200\"\n              onClick={onGenerate}\n            >\n              <RefreshCw className=\"w-4 h-4 mr-1\" />\n              é‡æ–°ç”Ÿæˆ\n            </Button>\n          </div>\n\n          {/* Overview */}\n          <div className=\"mb-5\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <FileText className=\"w-4 h-4 text-blue-500\" />\n              <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">æ–‡ç« æ¦‚è¦</span>\n            </div>\n            <p className=\"text-sm text-slate-600 dark:text-slate-400 leading-relaxed pl-6\">\n              {summary.overview}\n            </p>\n          </div>\n\n          {/* Key Points */}\n          <div className=\"mb-5\">\n            <div className=\"flex items-center gap-2 mb-3\">\n              <Lightbulb className=\"w-4 h-4 text-amber-500\" />\n              <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">å…³é”®è¦ç‚¹</span>\n            </div>\n            <ul className=\"space-y-2 pl-6\">\n              {summary.keyPoints.map((point, index) => (\n                <motion.li\n                  key={index}\n                  initial={{ opacity: 0, x: -10 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400\"\n                >\n                  <span className=\"w-1.5 h-1.5 rounded-full bg-blue-500 mt-2 flex-shrink-0\" />\n                  <span className=\"leading-relaxed\">{point}</span>\n                </motion.li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Meta Info */}\n          <div className=\"flex flex-wrap gap-4 pt-4 border-t border-blue-200/50 dark:border-blue-800/50\">\n            <div className=\"flex items-center gap-2\">\n              <Users className=\"w-4 h-4 text-emerald-500\" />\n              <span className=\"text-xs text-slate-600 dark:text-slate-400\">\n                é€‚åˆï¼š{summary.targetAudience}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4 text-purple-500\" />\n              <span className=\"text-xs text-slate-600 dark:text-slate-400\">\n                {summary.readingTime}\n              </span>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </motion.div>\n  )\n}\n","/**\n * æ–‡ç« æ€»ç»“æœåŠ¡\n */\nimport { chat, getSummarySystemPrompt } from './aiService'\n\nexport interface ArticleSummary {\n  /** ä¸€å¥è¯æ¦‚æ‹¬ */\n  overview: string\n  /** å…³é”®è¦ç‚¹ */\n  keyPoints: string[]\n  /** é€‚åˆè¯»è€…æ°´å¹³ */\n  targetAudience: string\n  /** é˜…è¯»æ—¶é•¿ä¼°è®¡ */\n  readingTime: string\n}\n\n/**\n * è§£æ AI è¿”å›çš„æ€»ç»“æ–‡æœ¬\n */\nfunction parseSummary(content: string): ArticleSummary {\n  const lines = content.split('\\n').filter(line => line.trim())\n\n  let overview = ''\n  const keyPoints: string[] = []\n  let targetAudience = ''\n  let readingTime = ''\n\n  let inKeyPoints = false\n\n  for (const line of lines) {\n    const trimmedLine = line.trim()\n\n    // æ£€æµ‹æ¦‚è§ˆï¼ˆé€šå¸¸æ˜¯ç¬¬ä¸€æ®µæˆ–åŒ…å«\"æ¦‚æ‹¬\"ã€\"æ€»ç»“\"çš„è¡Œï¼‰\n    if (\n      !overview &&\n      (trimmedLine.includes('æ¦‚æ‹¬') ||\n        trimmedLine.includes('æ€»ç»“') ||\n        lines.indexOf(line) === 0)\n    ) {\n      overview = trimmedLine.replace(/^[^ï¼š:]+[ï¼š:]\\s*/, '').trim()\n      continue\n    }\n\n    // æ£€æµ‹å…³é”®è¦ç‚¹éƒ¨åˆ†\n    if (\n      trimmedLine.includes('å…³é”®') ||\n      trimmedLine.includes('è¦ç‚¹') ||\n      trimmedLine.includes('æ ¸å¿ƒ')\n    ) {\n      inKeyPoints = true\n      continue\n    }\n\n    // æ”¶é›†å…³é”®è¦ç‚¹ï¼ˆä»¥ - æˆ–æ•°å­—å¼€å¤´çš„è¡Œï¼‰\n    if (\n      inKeyPoints &&\n      (trimmedLine.startsWith('-') ||\n        trimmedLine.startsWith('â€¢') ||\n        /^\\d+[.ã€]/.test(trimmedLine))\n    ) {\n      const point = trimmedLine.replace(/^[-â€¢\\d.ã€\\s]+/, '').trim()\n      if (point && keyPoints.length < 5) {\n        keyPoints.push(point)\n      }\n      continue\n    }\n\n    // æ£€æµ‹é€‚åˆè¯»è€…\n    if (\n      trimmedLine.includes('è¯»è€…') ||\n      trimmedLine.includes('é€‚åˆ') ||\n      trimmedLine.includes('æ°´å¹³')\n    ) {\n      targetAudience = trimmedLine.replace(/^[^ï¼š:]+[ï¼š:]\\s*/, '').trim()\n      inKeyPoints = false\n      continue\n    }\n\n    // æ£€æµ‹é˜…è¯»æ—¶é•¿\n    if (\n      trimmedLine.includes('é˜…è¯»') ||\n      trimmedLine.includes('æ—¶é•¿') ||\n      trimmedLine.includes('æ—¶é—´')\n    ) {\n      readingTime = trimmedLine.replace(/^[^ï¼š:]+[ï¼š:]\\s*/, '').trim()\n      continue\n    }\n  }\n\n  // å¦‚æœæ²¡æœ‰è§£æå‡ºæ¦‚è§ˆï¼Œä½¿ç”¨ç¬¬ä¸€è¡Œéç©ºå†…å®¹\n  if (!overview && lines.length > 0) {\n    overview = lines[0].replace(/^[^ï¼š:]+[ï¼š:]\\s*/, '').trim()\n  }\n\n  // å¦‚æœæ²¡æœ‰è§£æå‡ºé€‚åˆè¯»è€…ï¼Œä½¿ç”¨é»˜è®¤å€¼\n  if (!targetAudience) {\n    targetAudience = 'å¯¹æœ¬æ–‡ä¸»é¢˜æ„Ÿå…´è¶£çš„å¼€å‘è€…'\n  }\n\n  // å¦‚æœæ²¡æœ‰è§£æå‡ºé˜…è¯»æ—¶é•¿ï¼Œä½¿ç”¨é»˜è®¤å€¼\n  if (!readingTime) {\n    readingTime = 'å»ºè®®ä»”ç»†é˜…è¯»'\n  }\n\n  return {\n    overview,\n    keyPoints: keyPoints.length > 0 ? keyPoints : ['æ–‡ç« åŒ…å«è¯¦ç»†çš„æŠ€æœ¯å†…å®¹'],\n    targetAudience,\n    readingTime,\n  }\n}\n\n/**\n * ç”Ÿæˆæ–‡ç« æ€»ç»“\n */\nexport async function generateSummary(\n  articleTitle: string,\n  articleContent: string\n): Promise<ArticleSummary> {\n  const systemPrompt = getSummarySystemPrompt()\n\n  // æˆªå–æ–‡ç« å‰3000å­—ç¬¦ä½œä¸ºåˆ†æå†…å®¹\n  const contentToAnalyze = articleContent.slice(0, 3000)\n\n  const userPrompt = `è¯·å¯¹ä»¥ä¸‹æŠ€æœ¯æ–‡ç« è¿›è¡Œæ€»ç»“ï¼š\n\næ–‡ç« æ ‡é¢˜ï¼š${articleTitle}\n\næ–‡ç« å†…å®¹ï¼š\n${contentToAnalyze}\n\nè¯·æŒ‰ç…§ç³»ç»Ÿæç¤ºçš„æ ¼å¼è¾“å‡ºæ€»ç»“ã€‚`\n\n  try {\n    const response = await chat({\n      messages: [\n        { role: 'system', content: systemPrompt },\n        { role: 'user', content: userPrompt },\n      ],\n      temperature: 0.3,\n      maxTokens: 1000,\n    })\n\n    return parseSummary(response.content)\n  } catch (error) {\n    console.error('ç”Ÿæˆæ–‡ç« æ€»ç»“å¤±è´¥:', error)\n    throw error\n  }\n}\n\n/**\n * ç”Ÿæˆæ–‡ç« æ ‡ç­¾å»ºè®®\n */\nexport async function generateTagSuggestions(\n  articleTitle: string,\n  articleContent: string,\n  existingTags: string[]\n): Promise<string[]> {\n  const prompt = `åŸºäºä»¥ä¸‹æ–‡ç« æ ‡é¢˜å’Œå†…å®¹ï¼Œè¯·æ¨è 3-5 ä¸ªç›¸å…³çš„æŠ€æœ¯æ ‡ç­¾ã€‚\n\næ–‡ç« æ ‡é¢˜ï¼š${articleTitle}\n\næ–‡ç« å†…å®¹æ¦‚è¦ï¼š\n${articleContent.slice(0, 1500)}\n\nå·²æœ‰æ ‡ç­¾ï¼š${existingTags.join(', ')}\n\nè¦æ±‚ï¼š\n1. æ¯ä¸ªæ ‡ç­¾ç®€æ´ï¼Œä¸è¶…è¿‡10ä¸ªå­—ç¬¦\n2. æ ‡ç­¾åº”è¯¥æ˜¯æŠ€æœ¯é¢†åŸŸç›¸å…³çš„å…³é”®è¯\n3. é¿å…ä¸å·²æœ‰æ ‡ç­¾é‡å¤\n4. åªè¾“å‡ºæ ‡ç­¾åˆ—è¡¨ï¼Œç”¨é€—å·åˆ†éš”\n\nè¾“å‡ºæ ¼å¼ç¤ºä¾‹ï¼šReact, TypeScript, æ€§èƒ½ä¼˜åŒ–`\n\n  try {\n    const response = await chat({\n      messages: [{ role: 'user', content: prompt }],\n      temperature: 0.5,\n      maxTokens: 100,\n    })\n\n    const tags = response.content\n      .split(/[,ï¼Œã€]/)\n      .map(tag => tag.trim())\n      .filter(tag => tag && tag.length <= 10)\n      .slice(0, 5)\n\n    return tags\n  } catch (error) {\n    console.error('ç”Ÿæˆæ ‡ç­¾å»ºè®®å¤±è´¥:', error)\n    return []\n  }\n}\n\n/**\n * ç”Ÿæˆç›¸å…³é—®é¢˜\n */\nexport async function generateRelatedQuestions(\n  articleTitle: string,\n  articleContent: string\n): Promise<string[]> {\n  const prompt = `åŸºäºä»¥ä¸‹æ–‡ç« ï¼Œè¯·ç”Ÿæˆ 3 ä¸ªè¯»è€…å¯èƒ½ä¼šé—®çš„ç›¸å…³é—®é¢˜ã€‚\n\næ–‡ç« æ ‡é¢˜ï¼š${articleTitle}\n\næ–‡ç« å†…å®¹æ¦‚è¦ï¼š\n${articleContent.slice(0, 1500)}\n\nè¦æ±‚ï¼š\n1. é—®é¢˜åº”è¯¥ä¸æ–‡ç« ä¸»é¢˜ç´§å¯†ç›¸å…³\n2. é—®é¢˜è¦æœ‰ä¸€å®šçš„æ·±åº¦ï¼Œä¸æ˜¯ç®€å•çš„\"æ˜¯ä»€ä¹ˆ\"\n3. æ¯ä¸ªé—®é¢˜ä¸€è¡Œï¼Œä¸è¦ç¼–å·\n4. åªè¾“å‡ºé—®é¢˜ï¼Œä¸è¦å…¶ä»–å†…å®¹`\n\n  try {\n    const response = await chat({\n      messages: [{ role: 'user', content: prompt }],\n      temperature: 0.7,\n      maxTokens: 200,\n    })\n\n    const questions = response.content\n      .split('\\n')\n      .map(q => q.trim())\n      .filter(q => q && q.endsWith('?'))\n      .slice(0, 3)\n\n    return questions\n  } catch (error) {\n    console.error('ç”Ÿæˆç›¸å…³é—®é¢˜å¤±è´¥:', error)\n    return []\n  }\n}\n","import { useState, useCallback, useEffect } from 'react'\nimport { generateSummary, type ArticleSummary } from '@/services/summaryService'\nimport { isAIConfigured } from '@/services/aiService'\n\ninterface UseArticleSummaryOptions {\n  articleTitle: string\n  articleContent: string\n  autoGenerate?: boolean\n}\n\nconst STORAGE_KEY = 'article_summaries'\n\n// ä» localStorage è¯»å–ç¼“å­˜çš„æ€»ç»“\nfunction getCachedSummary(articleTitle: string): ArticleSummary | null {\n  try {\n    const cached = localStorage.getItem(STORAGE_KEY)\n    if (!cached) return null\n    \n    const summaries = JSON.parse(cached)\n    return summaries[articleTitle] || null\n  } catch {\n    return null\n  }\n}\n\n// ç¼“å­˜æ€»ç»“åˆ° localStorage\nfunction cacheSummary(articleTitle: string, summary: ArticleSummary) {\n  try {\n    const cached = localStorage.getItem(STORAGE_KEY)\n    const summaries = cached ? JSON.parse(cached) : {}\n    \n    // åªä¿ç•™æœ€è¿‘20ç¯‡æ–‡ç« çš„æ€»ç»“\n    const keys = Object.keys(summaries)\n    if (keys.length >= 20) {\n      delete summaries[keys[0]]\n    }\n    \n    summaries[articleTitle] = summary\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(summaries))\n  } catch (error) {\n    console.error('ç¼“å­˜æ€»ç»“å¤±è´¥:', error)\n  }\n}\n\nexport function useArticleSummary({\n  articleTitle,\n  articleContent,\n  autoGenerate = false,\n}: UseArticleSummaryOptions) {\n  const [summary, setSummary] = useState<ArticleSummary | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [isConfigured, setIsConfigured] = useState(false)\n\n  // æ£€æŸ¥ API é…ç½®\n  useEffect(() => {\n    setIsConfigured(isAIConfigured())\n  }, [])\n\n  // ç”Ÿæˆæ€»ç»“\n  const generate = useCallback(async () => {\n    if (!articleTitle || !articleContent) return\n\n    // æ£€æŸ¥ç¼“å­˜\n    const cached = getCachedSummary(articleTitle)\n    if (cached) {\n      setSummary(cached)\n      return\n    }\n\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const result = await generateSummary(articleTitle, articleContent)\n      setSummary(result)\n      cacheSummary(articleTitle, result)\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'ç”Ÿæˆæ€»ç»“å¤±è´¥'\n      setError(errorMessage)\n      console.error('ç”Ÿæˆæ€»ç»“å¤±è´¥:', err)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [articleTitle, articleContent])\n\n  // è‡ªåŠ¨ç”Ÿæˆï¼ˆå¦‚æœé…ç½®äº† API Keyï¼‰\n  useEffect(() => {\n    if (autoGenerate && isConfigured && !summary && !isLoading) {\n      generate()\n    }\n  }, [autoGenerate, isConfigured, summary, isLoading, generate])\n\n  // æ¸…é™¤æ€»ç»“\n  const clear = useCallback(() => {\n    setSummary(null)\n    setError(null)\n  }, [])\n\n  return {\n    summary,\n    isLoading,\n    error,\n    isConfigured,\n    generate,\n    clear,\n  }\n}\n","import { useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Link } from 'react-router-dom'\nimport { Button } from '@/components/ui/button'\nimport {\n  Sparkles,\n  Terminal,\n  ChevronDown,\n  Code2,\n  Palette,\n  MousePointer2,\n  PenTool,\n} from 'lucide-react'\n\ninterface ToolItem {\n  name: string\n  path: string\n  icon: React.ComponentType<{ className?: string }>\n  description: string\n  color: string\n}\n\nconst tools: ToolItem[] = [\n  {\n    name: 'CSS åŠ¨ç”»åº“',\n    path: '/tools/css-animation',\n    icon: Palette,\n    description: '30+ ç§åŠ¨ç”»æ•ˆæœ',\n    color: 'from-pink-500 to-rose-500',\n  },\n  {\n    name: 'AI åŠ¨ç”»ç”Ÿæˆå™¨',\n    path: '/tools/ai-animation',\n    icon: Sparkles,\n    description: 'è‡ªç„¶è¯­è¨€ç”ŸæˆåŠ¨ç”»',\n    color: 'from-violet-500 to-purple-500',\n  },\n  {\n    name: 'SVG åŠ¨ç”»ç¼–è¾‘å™¨',\n    path: '/tools/svg-animation',\n    icon: PenTool,\n    description: 'å¯è§†åŒ– SVG è·¯å¾„ç¼–è¾‘',\n    color: 'from-pink-500 to-purple-500',\n  },\n  {\n    name: 'æ»šåŠ¨åŠ¨ç”»è®¾è®¡å™¨',\n    path: '/tools/scroll-animation',\n    icon: MousePointer2,\n    description: 'æ»šåŠ¨è§¦å‘åŠ¨ç”»',\n    color: 'from-indigo-500 to-purple-500',\n  },\n  {\n    name: 'ä»£ç æ¸¸ä¹åœº',\n    path: '/tools/code-playground',\n    icon: Terminal,\n    description: 'åœ¨çº¿ç¼–å†™ React ä»£ç ',\n    color: 'from-emerald-500 to-teal-500',\n  },\n]\n\nexport function ToolboxDropdown() {\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <div className=\"relative inline-block\">\n      <Button\n        variant=\"outline\"\n        className=\"group flex items-center gap-2 bg-linear-to-r from-purple-500/10 to-blue-500/10 border-purple-500/30 hover:border-purple-500/60\"\n        onMouseEnter={() => setIsOpen(true)}\n        onMouseLeave={() => setIsOpen(false)}\n      >\n        <Code2 className=\"w-4 h-4 text-purple-500\" />\n        <span className=\"bg-linear-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent font-medium\">\n          å·¥å…·ç®±\n        </span>\n        <ChevronDown\n          className={`w-4 h-4 text-purple-500 transition-transform duration-200 ${\n            isOpen ? 'rotate-180' : ''\n          }`}\n        />\n      </Button>\n\n      <AnimatePresence>\n        {isOpen && (\n          <motion.div\n            initial={{ opacity: 0, y: 10, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 10, scale: 0.95 }}\n            transition={{ duration: 0.2 }}\n            className=\"absolute top-full left-0 mt-2 w-72 z-50\"\n            onMouseEnter={() => setIsOpen(true)}\n            onMouseLeave={() => setIsOpen(false)}\n          >\n            <div className=\"bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden\">\n              <div className=\"p-3 bg-linear-to-r from-purple-500/10 to-blue-500/10 border-b border-slate-200 dark:border-slate-700\">\n                <p className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n                  å¼€å‘å·¥å…·é›†åˆ\n                </p>\n              </div>\n              <div className=\"p-2 space-y-1\">\n                {tools.map(tool => {\n                  const ToolIcon = tool.icon\n                  return (\n                    <Link\n                      key={tool.name}\n                      to={tool.path}\n                      className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-all group\"\n                    >\n                      <div\n                        className={`w-10 h-10 rounded-lg bg-linear-to-r ${tool.color} flex items-center justify-center shadow-md group-hover:scale-110 transition-transform`}\n                      >\n                        <ToolIcon className=\"w-5 h-5 text-white\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"font-medium text-sm text-slate-900 dark:text-slate-100\">\n                          {tool.name}\n                        </p>\n                        <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n                          {tool.description}\n                        </p>\n                      </div>\n                    </Link>\n                  )\n                })}\n              </div>\n              <div className=\"p-2 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50\">\n                <Link\n                  to=\"/tools\"\n                  className=\"flex items-center justify-center gap-2 p-2 text-sm text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors\"\n                >\n                  <span>æŸ¥çœ‹å…¨éƒ¨å·¥å…·</span>\n                  <ChevronDown className=\"w-4 h-4 -rotate-90\" />\n                </Link>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  )\n}\n","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\ninterface InteractionState {\n  likes: Record<string, number>\n  favorites: string[]\n  likedPosts: string[]\n  likePost: (postId: string) => void\n  favoritePost: (postId: string) => void\n  isFavorited: (postId: string) => boolean\n  isLiked: (postId: string) => boolean\n  getLikeCount: (postId: string) => number\n}\n\nexport const useInteractionStore = create<InteractionState>()(\n  persist(\n    (set, get) => ({\n      likes: {},\n      favorites: [],\n      likedPosts: [],\n\n      likePost: (postId: string) => {\n        const { likedPosts, likes } = get()\n        if (!likedPosts.includes(postId)) {\n          set({\n            likedPosts: [...likedPosts, postId],\n            likes: { ...likes, [postId]: (likes[postId] || 0) + 1 },\n          })\n        }\n      },\n\n      favoritePost: (postId: string) => {\n        const { favorites } = get()\n        if (favorites.includes(postId)) {\n          set({ favorites: favorites.filter(id => id !== postId) })\n        } else {\n          set({ favorites: [...favorites, postId] })\n        }\n      },\n\n      isFavorited: (postId: string) => get().favorites.includes(postId),\n\n      isLiked: (postId: string) => get().likedPosts.includes(postId),\n\n      getLikeCount: (postId: string) => get().likes[postId] || 0,\n    }),\n    { name: 'interaction-storage' }\n  )\n)\n","import { useState } from 'react'\nimport { Share2, Twitter, Linkedin, Link as LinkIcon, Check } from 'lucide-react'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\n\ninterface ShareButtonProps {\n  postId: string\n}\n\nexport function ShareButton({ postId }: ShareButtonProps) {\n  const [copied, setCopied] = useState(false)\n  const shareUrl = typeof window !== 'undefined' \n    ? `${window.location.origin}/blog/${postId}`\n    : `/blog/${postId}`\n\n  const shareToTwitter = () => {\n    const text = 'å‘ç°äº†ä¸€ç¯‡ä¸é”™çš„æŠ€æœ¯æ–‡ç« ï¼Œåˆ†äº«ç»™å¤§å®¶ï¼'\n    window.open(\n      `https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}&text=${encodeURIComponent(text)}`,\n      '_blank'\n    )\n  }\n\n  const shareToLinkedIn = () => {\n    window.open(\n      `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`,\n      '_blank'\n    )\n  }\n\n  const copyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(shareUrl)\n      setCopied(true)\n      setTimeout(() => setCopied(false), 2000)\n    } catch (err) {\n      console.error('Failed to copy:', err)\n    }\n  }\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <button className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-muted hover:bg-muted/80 text-foreground transition-colors\">\n          <Share2 className=\"w-4 h-4\" />\n          <span className=\"font-medium\">åˆ†äº«</span>\n        </button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"w-48\">\n        <DropdownMenuItem onClick={shareToTwitter} className=\"cursor-pointer\">\n          <Twitter className=\"w-4 h-4 mr-2 text-blue-400\" />\n          åˆ†äº«åˆ° Twitter\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={shareToLinkedIn} className=\"cursor-pointer\">\n          <Linkedin className=\"w-4 h-4 mr-2 text-blue-600\" />\n          åˆ†äº«åˆ° LinkedIn\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={copyLink} className=\"cursor-pointer\">\n          {copied ? (\n            <>\n              <Check className=\"w-4 h-4 mr-2 text-green-500\" />\n              å·²å¤åˆ¶\n            </>\n          ) : (\n            <>\n              <LinkIcon className=\"w-4 h-4 mr-2\" />\n              å¤åˆ¶é“¾æ¥\n            </>\n          )}\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n","import { ThumbsUp, Bookmark } from 'lucide-react'\nimport { useInteractionStore } from '@/stores/interactionStore'\nimport { ShareButton } from './ShareButton'\n\ninterface InteractionButtonsProps {\n  postId: string\n  initialLikes?: number\n}\n\nexport function InteractionButtons({ postId, initialLikes = 0 }: InteractionButtonsProps) {\n  const { likePost, favoritePost, isLiked, isFavorited, getLikeCount } = useInteractionStore()\n  const currentLikes = getLikeCount(postId) + initialLikes\n  const liked = isLiked(postId)\n  const favorited = isFavorited(postId)\n\n  return (\n    <div className=\"flex items-center gap-3\">\n      {/* ç‚¹èµæŒ‰é’® */}\n      <button\n        onClick={() => likePost(postId)}\n        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${\n          liked\n            ? 'bg-red-500 text-white'\n            : 'bg-muted hover:bg-muted/80 text-foreground'\n        }`}\n      >\n        <ThumbsUp className={`w-4 h-4 ${liked ? 'fill-current' : ''}`} />\n        <span className=\"font-medium\">{currentLikes}</span>\n      </button>\n\n      {/* æ”¶è—æŒ‰é’® */}\n      <button\n        onClick={() => favoritePost(postId)}\n        className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${\n          favorited\n            ? 'bg-yellow-500 text-white'\n            : 'bg-muted hover:bg-muted/80 text-foreground'\n        }`}\n        title={favorited ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—æ–‡ç« '}\n      >\n        <Bookmark className={`w-4 h-4 ${favorited ? 'fill-current' : ''}`} />\n      </button>\n\n      {/* åˆ†äº«æŒ‰é’® */}\n      <ShareButton postId={postId} />\n    </div>\n  )\n}\n","import Giscus from '@giscus/react'\n\ninterface GiscusCommentsProps {\n  postSlug: string\n}\n\n// æ³¨æ„ï¼šä½¿ç”¨ Giscus éœ€è¦å…ˆåœ¨ GitHub ä¸Šé…ç½® Discussion ä»“åº“\n// è¯·æ›¿æ¢ä»¥ä¸‹é…ç½®ä¸ºä½ è‡ªå·±çš„ Giscus é…ç½®\nconst GISCUS_CONFIG = {\n  repo: 'linchwei/levy-react-blog' as `${string}/${string}`,\n  repoId: 'YOUR_REPO_ID', // éœ€è¦ä» Giscus é…ç½®é¡µé¢è·å–\n  category: 'Announcements',\n  categoryId: 'YOUR_CATEGORY_ID', // éœ€è¦ä» Giscus é…ç½®é¡µé¢è·å–\n}\n\nexport function GiscusComments({ postSlug }: GiscusCommentsProps) {\n  // å¦‚æœé…ç½®æœªè®¾ç½®ï¼Œæ˜¾ç¤ºæç¤ºä¿¡æ¯\n  if (GISCUS_CONFIG.repoId === 'YOUR_REPO_ID') {\n    return (\n      <div className=\"mt-12 p-6 bg-muted rounded-xl border border-border\">\n        <p className=\"text-muted-foreground text-center\">\n          ğŸ’¬ è¯„è®ºåŠŸèƒ½éœ€è¦é…ç½® Giscus\n          <br />\n          <span className=\"text-sm\">\n            è¯·è®¿é—®{' '}\n            <a\n              href=\"https://giscus.app\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-purple-500 hover:underline\"\n            >\n              giscus.app\n            </a>{' '}\n            è·å–é…ç½®ä¿¡æ¯\n          </span>\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"mt-12\">\n      <h3 className=\"text-xl font-semibold text-foreground mb-6\">è¯„è®º</h3>\n      <Giscus\n        repo={GISCUS_CONFIG.repo}\n        repoId={GISCUS_CONFIG.repoId}\n        category={GISCUS_CONFIG.category}\n        categoryId={GISCUS_CONFIG.categoryId}\n        mapping=\"specific\"\n        term={postSlug}\n        reactionsEnabled=\"1\"\n        emitMetadata=\"0\"\n        inputPosition=\"top\"\n        theme=\"preferred_color_scheme\"\n        lang=\"zh-CN\"\n        loading=\"lazy\"\n      />\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { motion } from 'framer-motion'\nimport {\n  ArrowLeft,\n  Calendar,\n  Clock,\n  Eye,\n  Heart,\n  Tag,\n  ChevronRight,\n  Copy,\n  Check,\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { useBlogStore } from '@/stores/blogStore'\nimport { Navigation } from '@/components/home/Navigation'\nimport { Footer } from '@/components/home/Footer'\nimport ReactMarkdown from 'react-markdown'\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter'\nimport {\n  vscDarkPlus,\n  prism,\n} from 'react-syntax-highlighter/dist/esm/styles/prism'\nimport { AIChatWidget } from '@/components/ai/AIChatWidget'\nimport { ArticleSummary } from '@/components/ai/ArticleSummary'\nimport { useArticleSummary } from '@/hooks/useArticleSummary'\nimport { ToolboxDropdown } from '@/components/tools/ToolboxDropdown'\nimport { InteractionButtons } from '@/components/interaction/InteractionButtons'\nimport { GiscusComments } from '@/components/interaction/GiscusComments'\n\nexport default function BlogDetailPage() {\n  const { slug } = useParams<{ slug: string }>()\n  const navigate = useNavigate()\n  const { getPostBySlug, incrementViews, posts } =\n    useBlogStore()\n  const [copiedCode, setCopiedCode] = useState<string | null>(null)\n  const [isDarkMode, setIsDarkMode] = useState(false)\n\n  const post = slug ? getPostBySlug(slug) : undefined\n\n  // AI æ–‡ç« æ€»ç»“\n  const {\n    summary,\n    isLoading: isSummaryLoading,\n    error: summaryError,\n    isConfigured: isAIConfigured,\n    generate: generateSummary,\n  } = useArticleSummary({\n    articleTitle: post?.title || '',\n    articleContent: post?.content || '',\n    autoGenerate: false,\n  })\n\n  // è·å–ç›¸å…³æ–‡ç« \n  const relatedPosts = post\n    ? posts\n        .filter(p => p.category === post.category && p.id !== post.id)\n        .slice(0, 3)\n    : []\n\n  // æ£€æµ‹æ·±è‰²æ¨¡å¼\n  useEffect(() => {\n    const checkDarkMode = () => {\n      setIsDarkMode(document.documentElement.classList.contains('dark'))\n    }\n    checkDarkMode()\n\n    // ç›‘å¬ä¸»é¢˜å˜åŒ–\n    const observer = new MutationObserver(checkDarkMode)\n    observer.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: ['class'],\n    })\n\n    return () => observer.disconnect()\n  }, [])\n\n  useEffect(() => {\n    if (post) {\n      incrementViews(post.id)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [post?.id])\n\n  // å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿\n  const handleCopyCode = async (code: string, codeId: string) => {\n    try {\n      await navigator.clipboard.writeText(code)\n      setCopiedCode(codeId)\n      setTimeout(() => setCopiedCode(null), 2000)\n    } catch (err) {\n      console.error('å¤åˆ¶å¤±è´¥:', err)\n    }\n  }\n\n  if (!post) {\n    return (\n      <div className=\"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800\">\n        <Navigation />\n        <div className=\"pt-32 pb-20 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-3xl mx-auto text-center\">\n            <h1 className=\"text-4xl font-bold text-slate-900 dark:text-white mb-4\">\n              æ–‡ç« æœªæ‰¾åˆ°\n            </h1>\n            <p className=\"text-slate-600 dark:text-slate-400 mb-8\">\n              æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„æ–‡ç« ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤ã€‚\n            </p>\n            <Button onClick={() => navigate('/blog')}>\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              è¿”å›æ–‡ç« åˆ—è¡¨\n            </Button>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-linear-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800\">\n      <Navigation />\n\n      {/* Hero Section */}\n      <section className=\"relative pt-32 pb-16 px-4 sm:px-6 lg:px-8 overflow-hidden\">\n        {/* Background Image */}\n        <div className=\"absolute inset-0 z-0\">\n          <img\n            src={post.coverImage}\n            alt={post.title}\n            className=\"w-full h-full object-cover opacity-20\"\n          />\n          <div className=\"absolute inset-0 bg-linear-to-b from-slate-50/80 via-slate-50/60 to-slate-50 dark:from-slate-900/80 dark:via-slate-900/60 dark:to-slate-900\" />\n        </div>\n\n        <div className=\"relative z-10 max-w-4xl mx-auto\">\n          {/* Back Button */}\n          <motion.button\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            onClick={() => navigate('/blog')}\n            className=\"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors mb-8\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            è¿”å›æ–‡ç« åˆ—è¡¨\n          </motion.button>\n\n          {/* Category Badge */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.1 }}\n          >\n            <Badge\n              variant=\"secondary\"\n              className=\"mb-4 bg-blue-100/80 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300\"\n            >\n              {post.category === 'Frontend' && 'å‰ç«¯å¼€å‘'}\n              {post.category === 'Design' && 'UI/UXè®¾è®¡'}\n              {post.category === 'AI' && 'äººå·¥æ™ºèƒ½'}\n            </Badge>\n          </motion.div>\n\n          {/* Title */}\n          <motion.h1\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.2 }}\n            className=\"text-3xl sm:text-4xl lg:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight\"\n          >\n            {post.title}\n          </motion.h1>\n\n          {/* Excerpt */}\n          <motion.p\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.3 }}\n            className=\"text-lg sm:text-xl text-slate-600 dark:text-slate-400 mb-8 leading-relaxed\"\n          >\n            {post.excerpt}\n          </motion.p>\n\n          {/* Meta Info */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.4 }}\n            className=\"flex flex-wrap items-center gap-4 sm:gap-6 text-sm text-slate-500 dark:text-slate-400\"\n          >\n            <div className=\"flex items-center gap-2\">\n              <Calendar className=\"w-4 h-4\" />\n              <span>\n                {new Date(post.publishedAt).toLocaleDateString('zh-CN')}\n              </span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"w-4 h-4\" />\n              <span>{post.readingTime} åˆ†é’Ÿé˜…è¯»</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Eye className=\"w-4 h-4\" />\n              <span>{post.views.toLocaleString()} é˜…è¯»</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Heart className=\"w-4 h-4\" />\n              <span>{post.likes} å–œæ¬¢</span>\n            </div>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Content Section */}\n      <section className=\"relative pb-20 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-[1fr_280px] gap-12\">\n            {/* Main Content */}\n            <motion.article\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.5 }}\n              className=\"prose prose-slate dark:prose-invert prose-lg max-w-none\"\n            >\n              <ReactMarkdown\n                components={{\n                  h2: ({ children }) => (\n                    <h2 className=\"text-2xl font-bold text-slate-900 dark:text-white mt-12 mb-6\">\n                      {children}\n                    </h2>\n                  ),\n                  h3: ({ children }) => (\n                    <h3 className=\"text-xl font-semibold text-slate-900 dark:text-white mt-8 mb-4\">\n                      {children}\n                    </h3>\n                  ),\n                  p: ({ children }) => (\n                    <p className=\"text-slate-600 dark:text-slate-400 leading-relaxed mb-6\">\n                      {children}\n                    </p>\n                  ),\n                  ul: ({ children }) => (\n                    <ul className=\"list-disc list-inside space-y-2 text-slate-600 dark:text-slate-400 mb-6\">\n                      {children}\n                    </ul>\n                  ),\n                  ol: ({ children }) => (\n                    <ol className=\"list-decimal list-inside space-y-2 text-slate-600 dark:text-slate-400 mb-6\">\n                      {children}\n                    </ol>\n                  ),\n                  blockquote: ({ children }) => (\n                    <blockquote className=\"border-l-4 border-blue-500 pl-4 italic text-slate-700 dark:text-slate-300 my-6\">\n                      {children}\n                    </blockquote>\n                  ),\n                  code({ node, inline, className, children, ...props }: any) {\n                    const match = /language-(\\w+)/.exec(className || '')\n                    const code = String(children).replace(/\\n$/, '')\n                    const codeId = Math.random().toString(36).substr(2, 9)\n\n                    if (!inline && match) {\n                      return (\n                        <div className=\"relative group my-6\">\n                          {/* è¯­è¨€æ ‡ç­¾ */}\n                          <div className=\"absolute top-0 left-4 -translate-y-1/2 z-10\">\n                            <span className=\"px-3 py-1 text-xs font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-full\">\n                              {match[1]}\n                            </span>\n                          </div>\n\n                          {/* å¤åˆ¶æŒ‰é’® */}\n                          <button\n                            onClick={() => handleCopyCode(code, codeId)}\n                            className=\"absolute top-2 right-2 z-10 p-2 rounded-lg bg-slate-700/80 hover:bg-slate-600 text-white opacity-0 group-hover:opacity-100 transition-opacity\"\n                            title=\"å¤åˆ¶ä»£ç \"\n                          >\n                            {copiedCode === codeId ? (\n                              <Check className=\"w-4 h-4 text-green-400\" />\n                            ) : (\n                              <Copy className=\"w-4 h-4\" />\n                            )}\n                          </button>\n\n                          {/* ä»£ç é«˜äº® */}\n                          <SyntaxHighlighter\n                            style={isDarkMode ? vscDarkPlus : prism}\n                            language={match[1]}\n                            PreTag=\"div\"\n                            customStyle={{\n                              margin: 0,\n                              borderRadius: '0.75rem',\n                              padding: '2rem 1.5rem 1.5rem',\n                              fontSize: '0.875rem',\n                              lineHeight: '1.7',\n                            }}\n                            showLineNumbers={true}\n                            lineNumberStyle={{\n                              minWidth: '2.5em',\n                              paddingRight: '1em',\n                              color: isDarkMode ? '#6e7681' : '#a0aec0',\n                            }}\n                            {...props}\n                          >\n                            {code}\n                          </SyntaxHighlighter>\n                        </div>\n                      )\n                    }\n\n                    return (\n                      <code\n                        className=\"px-1.5 py-0.5 text-sm bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded\"\n                        {...props}\n                      >\n                        {children}\n                      </code>\n                    )\n                  },\n                }}\n              >\n                {post.content}\n              </ReactMarkdown>\n\n              {/* Tags */}\n              <div className=\"mt-12 pt-8 border-t border-slate-200 dark:border-slate-700\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <Tag className=\"w-4 h-4 text-slate-500\" />\n                  <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n                    æ ‡ç­¾\n                  </span>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {post.tags.map(tag => (\n                    <Badge\n                      key={tag}\n                      variant=\"outline\"\n                      className=\"cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800\"\n                      onClick={() =>\n                        navigate(`/blog?tag=${encodeURIComponent(tag)}`)\n                      }\n                    >\n                      {tag}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n\n              {/* Actions - äº’åŠ¨æŒ‰é’® */}\n              <div className=\"mt-8 pt-8 border-t border-slate-200 dark:border-slate-700\">\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n                  <div>\n                    <h3 className=\"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n                      å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿ\n                    </h3>\n                    <InteractionButtons\n                      postId={post.slug}\n                      initialLikes={post.likes}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* è¯„è®ºåŒº */}\n              <GiscusComments postSlug={post.slug} />\n            </motion.article>\n\n            {/* Sidebar */}\n            <motion.aside\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.6 }}\n              className=\"space-y-8\"\n            >\n              {/* AI Article Summary */}\n              {post && (\n                <ArticleSummary\n                  summary={summary}\n                  isLoading={isSummaryLoading}\n                  error={summaryError}\n                  isConfigured={isAIConfigured}\n                  onGenerate={generateSummary}\n                />\n              )}\n\n              {/* Author Card */}\n              <div className=\"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700\">\n                <h3 className=\"font-semibold text-slate-900 dark:text-white mb-4\">\n                  å…³äºä½œè€…\n                </h3>\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-16 h-16 rounded-full bg-linear-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold\">\n                    L\n                  </div>\n                  <div>\n                    <p className=\"font-medium text-slate-900 dark:text-white\">\n                      Levy\n                    </p>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n                      å‰ç«¯å·¥ç¨‹å¸ˆ / æŠ€æœ¯åšä¸»\n                    </p>\n                  </div>\n                </div>\n                <p className=\"mt-4 text-sm text-slate-600 dark:text-slate-400\">\n                  çƒ­çˆ±å‰ç«¯å¼€å‘å’ŒUIè®¾è®¡ï¼Œä¸“æ³¨äºReactç”Ÿæ€å’ŒAIæŠ€æœ¯åº”ç”¨ã€‚\n                </p>\n              </div>\n\n              {/* Related Posts */}\n              {relatedPosts.length > 0 && (\n                <div className=\"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700\">\n                  <h3 className=\"font-semibold text-slate-900 dark:text-white mb-4\">\n                    ç›¸å…³æ–‡ç« \n                  </h3>\n                  <div className=\"space-y-4\">\n                    {relatedPosts.map(relatedPost => (\n                      <button\n                        key={relatedPost.id}\n                        onClick={() => navigate(`/blog/${relatedPost.slug}`)}\n                        className=\"w-full text-left group\"\n                      >\n                        <h4 className=\"text-sm font-medium text-slate-700 dark:text-slate-300 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2\">\n                          {relatedPost.title}\n                        </h4>\n                        <p className=\"text-xs text-slate-500 dark:text-slate-500 mt-1\">\n                          {new Date(relatedPost.publishedAt).toLocaleDateString(\n                            'zh-CN'\n                          )}\n                        </p>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Categories */}\n              <div className=\"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700\">\n                <h3 className=\"font-semibold text-slate-900 dark:text-white mb-4\">\n                  æ–‡ç« åˆ†ç±»\n                </h3>\n                <div className=\"space-y-2\">\n                  {['Frontend', 'Design', 'AI'].map(category => (\n                    <button\n                      key={category}\n                      onClick={() => navigate(`/blog?category=${category}`)}\n                      className=\"w-full flex items-center justify-between p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors\"\n                    >\n                      <span className=\"text-sm text-slate-700 dark:text-slate-300\">\n                        {category === 'Frontend' && 'å‰ç«¯å¼€å‘'}\n                        {category === 'Design' && 'UI/UXè®¾è®¡'}\n                        {category === 'AI' && 'äººå·¥æ™ºèƒ½'}\n                      </span>\n                      <ChevronRight className=\"w-4 h-4 text-slate-400\" />\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Toolbox */}\n              <div className=\"bg-white/80 dark:bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-200 dark:border-slate-700\">\n                <h3 className=\"font-semibold text-slate-900 dark:text-white mb-4\">\n                  å¼€å‘å·¥å…·\n                </h3>\n                <p className=\"text-sm text-slate-600 dark:text-slate-400 mb-4\">\n                  æ¢ç´¢æˆ‘å¼€å‘çš„äº¤äº’å¼å·¥å…·é›†åˆ\n                </p>\n                <ToolboxDropdown />\n              </div>\n            </motion.aside>\n          </div>\n        </div>\n      </section>\n\n      {/* AI Chat Widget */}\n      {post && (\n        <AIChatWidget articleTitle={post.title} articleContent={post.content} />\n      )}\n\n      <Footer />\n    </div>\n  )\n}\n"],"names":["__iconNode","Bookmark","createLucideIcon","Link","Tag","ThumbsUp","useAIChat","articleTitle","articleContent","messages","setMessages","useState","inputValue","setInputValue","isLoading","setIsLoading","error","setError","abortControllerRef","useRef","generateId","sendMessage","useCallback","content","userMessage","prev","aiMessageId","aiMessage","historyMessages","getArticleSystemPrompt","m","chatStream","chunk","err","errorMessage","regenerate","lastUserMessage","lastAiIndex","clearMessages","stopGeneration","AIChatWidget","isOpen","setIsOpen","isConfigured","setIsConfigured","isDark","setIsDark","messagesEndRef","textareaRef","useEffect","isAIConfigured","checkTheme","observer","handleSend","handleKeyDown","e","quickQuestions","jsxs","Fragment","jsx","AnimatePresence","motion","MessageCircle","Sparkles","Button","Trash2","ChevronDown","question","message","index","ChatMessage","Textarea","Send","ArticleSummary","summary","onGenerate","Card","CardContent","Skeleton","AlertCircle","RefreshCw","FileText","Lightbulb","point","Users","Clock","parseSummary","lines","line","overview","keyPoints","targetAudience","readingTime","inKeyPoints","trimmedLine","generateSummary","systemPrompt","getSummarySystemPrompt","contentToAnalyze","userPrompt","response","chat","STORAGE_KEY","getCachedSummary","cached","cacheSummary","summaries","keys","useArticleSummary","autoGenerate","setSummary","generate","result","clear","tools","Palette","PenTool","MousePointer2","Terminal","ToolboxDropdown","Code2","tool","ToolIcon","useInteractionStore","create","persist","set","get","postId","likedPosts","likes","favorites","id","ShareButton","copied","setCopied","shareUrl","shareToTwitter","shareToLinkedIn","copyLink","DropdownMenu","DropdownMenuTrigger","Share2","DropdownMenuContent","DropdownMenuItem","Twitter","Linkedin","Check","LinkIcon","InteractionButtons","initialLikes","likePost","favoritePost","isLiked","isFavorited","getLikeCount","currentLikes","liked","favorited","GiscusComments","postSlug","BlogDetailPage","slug","useParams","navigate","useNavigate","getPostBySlug","incrementViews","posts","useBlogStore","copiedCode","setCopiedCode","isDarkMode","setIsDarkMode","post","isSummaryLoading","summaryError","relatedPosts","p","checkDarkMode","handleCopyCode","code","codeId","Navigation","ArrowLeft","Badge","Calendar","Eye","Heart","ReactMarkdown","children","node","inline","className","props","match","Copy","SyntaxHighlighter","vscDarkPlus","prism","tag","relatedPost","category","ChevronRight","Footer"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}