import{j as r,m as h,A as M}from"./ui-DMLkXmeO-DMLkXmeO.js";import{r as N}from"./vendor-QyoG3HE1-QyoG3HE1.js";import{f as B,C as H,b as L,h as T,a as _,B as j,U as K,g as R}from"./index-BpIHfUOh-BpIHfUOh.js";import{B as D}from"./badge-D0Abl3GT-D0Abl3GT.js";import{T as G}from"./trophy-YNNFdYRL-YNNFdYRL.js";import{R as V}from"./rotate-ccw-DPybPW4P-DPybPW4P.js";import{N as U}from"./Navigation-DQqdpwUP-DQqdpwUP.js";import{F as Y}from"./Footer-T5q_NybG-T5q_NybG.js";import{G as F}from"./gamepad-2-D2_s5KJ2-D2_s5KJ2.js";import{U as $}from"./users-BBWU_rJV-BBWU_rJV.js";import{B as z}from"./brain-ByqJu501-ByqJu501.js";import"./animation-CTLyM_LX-CTLyM_LX.js";import"./input-BdOFr_dr-BdOFr_dr.js";import"./middleware-BDn-In8F-BDn-In8F.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Z=B("undo-2",O),E=15;function q(e=E){return Array(e).fill(null).map(()=>Array(e).fill(null))}function y(e="PVP",t="MEDIUM"){return{board:q(),currentPlayer:"BLACK",status:"IDLE",winner:null,lastMove:null,moveHistory:[],mode:e,difficulty:t,blackScore:parseInt(localStorage.getItem("gomokuBlackScore")||"0"),whiteScore:parseInt(localStorage.getItem("gomokuWhiteScore")||"0")}}function p(e,t,s){return t>=0&&t<e.length&&s>=0&&s<e[0].length}function J(e,t,s){return p(e,t,s)&&e[t][s]===null}function A(e,t,s){if(e.status==="BLACK_WIN"||e.status==="WHITE_WIN"||e.status==="DRAW"||!J(e.board,t,s))return e;const n=e.board.map(m=>[...m]);n[t][s]=e.currentPlayer;const a=[...e.moveHistory,{row:t,col:s}];if(W(n,t,s,e.currentPlayer)){const m=e.currentPlayer==="BLACK"?"BLACK_WIN":"WHITE_WIN",u=e.currentPlayer==="BLACK"?e.blackScore+1:e.blackScore,o=e.currentPlayer==="WHITE"?e.whiteScore+1:e.whiteScore;return localStorage.setItem("gomokuBlackScore",u.toString()),localStorage.setItem("gomokuWhiteScore",o.toString()),{...e,board:n,status:m,winner:e.currentPlayer,lastMove:{row:t,col:s},moveHistory:a,blackScore:u,whiteScore:o}}if(Q(n))return{...e,board:n,status:"DRAW",lastMove:{row:t,col:s},moveHistory:a};const c=e.currentPlayer==="BLACK"?"WHITE":"BLACK";return{...e,board:n,currentPlayer:c,status:"PLAYING",lastMove:{row:t,col:s},moveHistory:a}}function W(e,t,s,n){const a=[[0,1],[1,0],[1,1],[1,-1]];for(const[c,m]of a){let u=1;for(let o=1;o<5;o++){const i=t+c*o,d=s+m*o;if(p(e,i,d)&&e[i][d]===n)u++;else break}for(let o=1;o<5;o++){const i=t-c*o,d=s-m*o;if(p(e,i,d)&&e[i][d]===n)u++;else break}if(u>=5)return!0}return!1}function Q(e){for(const t of e)for(const s of t)if(s===null)return!1;return!0}function v(e){if(e.moveHistory.length===0||e.status==="BLACK_WIN"||e.status==="WHITE_WIN")return e;const t=[...e.moveHistory],s=t.pop(),n=e.board.map(c=>[...c]);n[s.row][s.col]=null;const a=e.currentPlayer==="BLACK"?"WHITE":"BLACK";return{...e,board:n,currentPlayer:a,status:"PLAYING",lastMove:t.length>0?t[t.length-1]:null,moveHistory:t}}function X(e){return{...y(e.mode,e.difficulty),blackScore:e.blackScore,whiteScore:e.whiteScore,mode:e.mode,difficulty:e.difficulty}}function ee(e,t){return y(t,e.difficulty)}function te(e,t){return y(e.mode,t)}function re(e){if(e.mode!=="PVE"||e.currentPlayer!=="WHITE")return null;switch(e.difficulty){case"EASY":return w(e.board);case"MEDIUM":return S(e.board,"WHITE");case"HARD":return se(e.board,"WHITE");default:return w(e.board)}}function w(e){const t=[];for(let s=0;s<e.length;s++)for(let n=0;n<e[0].length;n++)e[s][n]===null&&t.push({row:s,col:n});return t.length===0?null:t[Math.floor(Math.random()*t.length)]}function S(e,t){const s="BLACK",n=C(e,t);if(n)return n;const a=C(e,s);if(a)return a;const c=P(e,t);if(c)return c;const m=P(e,s);if(m)return m;const u=ne(e);return u||w(e)}function se(e,t){return S(e,t)}function C(e,t){for(let s=0;s<e.length;s++)for(let n=0;n<e[0].length;n++)if(e[s][n]===null){const a=e.map(c=>[...c]);if(a[s][n]=t,W(a,s,n,t))return{row:s,col:n}}return null}function P(e,t){const s=[[0,1],[1,0],[1,1],[1,-1]];for(let n=0;n<e.length;n++)for(let a=0;a<e[0].length;a++)if(e[n][a]===null)for(const[c,m]of s){let u=0,o=0;for(let i=1;i<5;i++){const d=n+c*i,f=a+m*i;if(!p(e,d,f))break;if(e[d][f]===t)u++;else if(e[d][f]===null){o++;break}else break}for(let i=1;i<5;i++){const d=n-c*i,f=a-m*i;if(!p(e,d,f))break;if(e[d][f]===t)u++;else if(e[d][f]===null){o++;break}else break}if(u===4&&o===2)return{row:n,col:a}}return null}function ne(e){const t=Math.floor(e.length/2),s=[{row:t,col:t},{row:t-1,col:t},{row:t,col:t-1},{row:t+1,col:t},{row:t,col:t+1}];for(const n of s)if(p(e,n.row,n.col)&&e[n.row][n.col]===null)return n;return null}function le({onWin:e}){const[t,s]=N.useState(()=>y()),[n,a]=N.useState(!1);N.useEffect(()=>{if(t.mode==="PVE"&&t.currentPlayer==="WHITE"&&t.status==="PLAYING"){a(!0);const l=setTimeout(()=>{const x=re(t);x&&s(g=>A(g,x.row,x.col)),a(!1)},500);return()=>clearTimeout(l)}},[t.currentPlayer,t.status,t.mode]),N.useEffect(()=>{(t.status==="BLACK_WIN"||t.status==="WHITE_WIN")&&(e==null||e(t.winner))},[t.status,t.winner,e]);const c=N.useCallback((l,x)=>{n||t.mode==="PVE"&&t.currentPlayer==="WHITE"||s(g=>A(g,l,x))},[n,t.mode,t.currentPlayer]),m=()=>{t.mode==="PVE"&&t.moveHistory.length>=2?s(l=>v(v(l))):s(l=>v(l))},u=()=>{s(l=>X(l))},o=l=>{s(x=>ee(x,l))},i=l=>{s(x=>te(x,l))},d=l=>l==="BLACK"?r.jsx("div",{className:"w-6 h-6 rounded-full bg-black border-2 border-gray-600"}):l==="WHITE"?r.jsx("div",{className:"w-6 h-6 rounded-full bg-white border-2 border-gray-300"}):null,f=()=>{switch(t.status){case"BLACK_WIN":return"âš« é»‘æ–¹è·èƒœï¼";case"WHITE_WIN":return"âšª ç™½æ–¹è·èƒœï¼";case"DRAW":return"ğŸ¤ å¹³å±€ï¼";default:return t.currentPlayer==="BLACK"?"âš« é»‘æ–¹å›åˆ":"âšª ç™½æ–¹å›åˆ"}};return r.jsxs(H,{className:"w-full max-w-2xl mx-auto",children:[r.jsxs(L,{className:"flex flex-row items-center justify-between",children:[r.jsxs(T,{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:"âš«âšª"}),"äº”å­æ£‹"]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(D,{variant:"secondary",className:"flex items-center gap-1",children:[r.jsx(G,{className:"w-3 h-3"}),t.blackScore,":",t.whiteScore]})})]}),r.jsxs(_,{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-center items-center gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"çŠ¶æ€"}),r.jsx("p",{className:`text-lg font-bold ${t.status==="BLACK_WIN"?"text-black dark:text-white":t.status==="WHITE_WIN"?"text-gray-500":t.currentPlayer==="BLACK"?"text-black dark:text-white":"text-gray-500"}`,children:f()})]}),n&&r.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-muted-foreground",children:"AIæ€è€ƒä¸­..."})]}),r.jsxs("div",{className:"flex justify-center gap-2",children:[r.jsxs(j,{variant:t.mode==="PVP"?"default":"outline",size:"sm",onClick:()=>o("PVP"),disabled:t.status==="PLAYING",children:[r.jsx(K,{className:"w-4 h-4 mr-1"}),"äººäººå¯¹æˆ˜"]}),r.jsxs(j,{variant:t.mode==="PVE"?"default":"outline",size:"sm",onClick:()=>o("PVE"),disabled:t.status==="PLAYING",children:[r.jsx(R,{className:"w-4 h-4 mr-1"}),"äººæœºå¯¹æˆ˜"]})]}),t.mode==="PVE"&&r.jsx("div",{className:"flex justify-center gap-2",children:["EASY","MEDIUM","HARD"].map(l=>r.jsx(j,{variant:t.difficulty===l?"default":"outline",size:"sm",onClick:()=>i(l),disabled:t.status==="PLAYING",children:l==="EASY"?"ç®€å•":l==="MEDIUM"?"ä¸­ç­‰":"å›°éš¾"},l))}),r.jsx("div",{className:"flex justify-center",children:r.jsx(h.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"inline-block p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:r.jsx("div",{className:"grid gap-0.5",style:{gridTemplateColumns:`repeat(${E}, minmax(0, 1fr))`},children:t.board.map((l,x)=>l.map((g,b)=>{var I,k;return r.jsxs(h.div,{initial:g?{scale:0}:!1,animate:{scale:1},transition:{duration:.2},onClick:()=>c(x,b),className:`
                      w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center
                      bg-amber-200 dark:bg-amber-800/50
                      cursor-pointer hover:bg-amber-300 dark:hover:bg-amber-700/50
                      transition-colors relative
                    `,children:[d(g),((I=t.lastMove)==null?void 0:I.row)===x&&((k=t.lastMove)==null?void 0:k.col)===b&&r.jsx(h.div,{initial:{scale:1.5,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 border-2 border-red-500 rounded-sm"})]},`${x}-${b}`)}))})})}),r.jsxs("div",{className:"flex justify-center gap-2",children:[r.jsxs(j,{variant:"outline",onClick:m,disabled:t.moveHistory.length===0||t.status==="BLACK_WIN"||t.status==="WHITE_WIN",children:[r.jsx(Z,{className:"w-4 h-4 mr-2"}),"æ‚”æ£‹"]}),r.jsxs(j,{variant:"outline",onClick:u,children:[r.jsx(V,{className:"w-4 h-4 mr-2"}),"æ–°æ¸¸æˆ"]})]}),r.jsx(M,{children:(t.status==="BLACK_WIN"||t.status==="WHITE_WIN"||t.status==="DRAW")&&r.jsxs(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-center p-4 bg-muted rounded-lg",children:[r.jsxs("p",{className:"text-lg font-bold",children:[t.status==="BLACK_WIN"&&"ğŸ‰ é»‘æ–¹è·èƒœï¼",t.status==="WHITE_WIN"&&"ğŸ‰ ç™½æ–¹è·èƒœï¼",t.status==="DRAW"&&"ğŸ¤ å¹³å±€ï¼"]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["æ€»æ¯”åˆ†: âš« ",t.blackScore," : ",t.whiteScore," âšª"]})]})}),r.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:[r.jsx("p",{children:t.mode==="PVE"?"ä½ æ˜¯é»‘æ–¹ï¼ŒAIæ˜¯ç™½æ–¹":"é»‘æ–¹å…ˆæ‰‹ï¼Œè½®æµè½å­"}),r.jsx("p",{className:"mt-1",children:"äº”å­è¿ç å³å¯è·èƒœ"})]})]})]})}function ye(){return r.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[r.jsx(U,{}),r.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex-1 pt-16",children:[r.jsxs("section",{className:"relative py-12 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:r.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-to-b from-amber-500/5 to-transparent rounded-full blur-3xl"})}),r.jsxs("div",{className:"relative max-w-7xl mx-auto text-center",children:[r.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/10 mb-6",children:r.jsx(F,{className:"w-8 h-8 text-amber-500"})}),r.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight mb-4",children:r.jsx("span",{className:"bg-gradient-to-r from-amber-500 to-yellow-500 bg-clip-text text-transparent",children:"äº”å­æ£‹"})}),r.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"ç»å…¸åŒäººå¯¹å¼ˆæ¸¸æˆï¼Œå…ˆè¿æˆäº”å­è€…è·èƒœï¼æ”¯æŒäººæœºå¯¹æˆ˜å’ŒåŒäººå¯¹æˆ˜ã€‚"})]}),r.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-8 flex justify-center gap-8",children:[r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx($,{className:"w-5 h-5"}),r.jsx("span",{children:"äººäººå¯¹æˆ˜/äººæœºå¯¹æˆ˜"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[r.jsx(z,{className:"w-5 h-5"}),r.jsx("span",{children:"ä¸‰ç§AIéš¾åº¦"})]})]})]})]}),r.jsx("section",{className:"py-8 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(le,{})})}),r.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-muted/30",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"æ¸¸æˆæŠ€å·§"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"p-6 rounded-xl bg-background border border-border/50",children:[r.jsx("div",{className:"text-3xl mb-3",children:"ğŸ¯"}),r.jsx("h3",{className:"font-semibold mb-2",children:"æ§åˆ¶ä¸­å¿ƒ"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"ä¼˜å…ˆå æ®æ£‹ç›˜ä¸­å¿ƒä½ç½®ï¼Œæ‹¥æœ‰æ›´å¤šçš„è¿›æ”»å’Œé˜²å®ˆé€‰æ‹©"})]}),r.jsxs("div",{className:"p-6 rounded-xl bg-background border border-border/50",children:[r.jsx("div",{className:"text-3xl mb-3",children:"âš¡"}),r.jsx("h3",{className:"font-semibold mb-2",children:"æ´»ä¸‰æ´»å››"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"åˆ›é€ ä¸¤ç«¯éƒ½å¼€æ”¾çš„è¿ç»­æ£‹å­ï¼Œå¢åŠ è·èƒœæœºä¼š"})]}),r.jsxs("div",{className:"p-6 rounded-xl bg-background border border-border/50",children:[r.jsx("div",{className:"text-3xl mb-3",children:"ğŸ›¡ï¸"}),r.jsx("h3",{className:"font-semibold mb-2",children:"æ”»å®ˆå…¼å¤‡"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"æ—¢è¦ç§¯æè¿›æ”»ï¼Œä¹Ÿè¦æ³¨æ„é˜²å®ˆå¯¹æ‰‹çš„å¨èƒ"})]})]})]})})]}),r.jsx(Y,{})]})}export{ye as GomokuPage};
//# sourceMappingURL=GomokuPage-DIgV39g0-DIgV39g0.js.map
