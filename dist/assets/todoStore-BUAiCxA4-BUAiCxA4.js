import{c as n,p as c}from"./middleware-BDn-In8F-BDn-In8F.js";import{e as a}from"./index-BpIHfUOh-BpIHfUOh.js";const p=t=>({total:t.length,completed:t.filter(o=>o.completed).length,active:t.filter(o=>!o.completed).length}),u=(t,o)=>{switch(o){case"active":return t.filter(e=>!e.completed);case"completed":return t.filter(e=>e.completed);default:return t}},s=n()(c(t=>({todos:[],filter:"all",addTodo:o=>{const e=new Date,r={id:crypto.randomUUID(),title:o.title,description:o.description||"",priority:o.priority,completed:!1,createdAt:e,updatedAt:e};t(d=>({todos:[r,...d.todos]}))},deleteTodo:o=>{t(e=>({todos:e.todos.filter(r=>r.id!==o)}))},toggleTodo:o=>{t(e=>({todos:e.todos.map(r=>r.id===o?{...r,completed:!r.completed,updatedAt:new Date}:r)}))},updateTodo:(o,e)=>{t(r=>({todos:r.todos.map(d=>d.id===o?{...d,...e,updatedAt:new Date}:d)}))},setFilter:o=>{t({filter:o})},reorderTodos:(o,e)=>{t(r=>{const d=[...r.todos],[l]=d.splice(o,1);return d.splice(e,0,l),{todos:d}})},clearCompleted:()=>{t(o=>({todos:o.todos.filter(e=>!e.completed)}))}}),{name:a,version:1,partialize:t=>({todos:t.todos,filter:t.filter})})),i=t=>t.todos,m=t=>t.filter;function h(){const t=s(i);return p(t)}function g(){const t=s(i),o=s(m);return u(t,o)}function w(t){return s(i).find(e=>e.id===t)}function y(){const t=s(i);return{high:t.filter(o=>o.priority==="high").length,medium:t.filter(o=>o.priority==="medium").length,low:t.filter(o=>o.priority==="low").length}}function A(){const t=s(e=>e.todos.length),o=s(e=>e.todos.filter(r=>r.completed).length);return t>0?Math.round(o/t*100):0}export{s as a,h as b,g as c,y as d,A as e,w as u};
//# sourceMappingURL=todoStore-BUAiCxA4-BUAiCxA4.js.map
