{"version":3,"file":"TetrisPage-DGZdcr6C-DGZdcr6C.js","sources":["../../src/components/games/tetris/tetrisLogic.ts","../../src/components/games/tetris/TetrisGame.tsx","../../src/pages/TetrisPage.tsx"],"sourcesContent":["/**\n * ‰øÑÁΩóÊñØÊñπÂùóÊ∏∏ÊàèÈÄªËæë\n */\n\nexport type GameStatus = 'IDLE' | 'PLAYING' | 'PAUSED' | 'GAME_OVER'\nexport type TetrominoType = 'I' | 'O' | 'T' | 'S' | 'Z' | 'J' | 'L'\n\nexport interface Position {\n  x: number\n  y: number\n}\n\nexport type TetrominoShape = number[][]\n\nexport interface Tetromino {\n  type: TetrominoType\n  shape: TetrominoShape\n  x: number\n  y: number\n  color: string\n}\n\nexport interface Cell {\n  filled: boolean\n  color?: string\n  type?: TetrominoType\n}\n\nexport type GameBoard = Cell[][]\n\nexport interface TetrisGameState {\n  board: GameBoard\n  currentPiece: Tetromino\n  nextPiece: TetrominoType\n  score: number\n  level: number\n  lines: number\n  status: GameStatus\n  highScore: number\n}\n\nexport interface TetrisGameConfig {\n  boardWidth: number\n  boardHeight: number\n  initialSpeed: number\n  speedIncrement: number\n  minSpeed: number\n}\n\n// Ê∏∏ÊàèÈÖçÁΩÆ\nexport const defaultConfig: TetrisGameConfig = {\n  boardWidth: 10,\n  boardHeight: 20,\n  initialSpeed: 1000,\n  speedIncrement: 50,\n  minSpeed: 100,\n}\n\n// ÊñπÂùóÂΩ¢Áä∂ÂÆö‰πâ\nexport const TETROMINOES: Record<TetrominoType, { shape: TetrominoShape; color: string }> = {\n  I: {\n    shape: [\n      [0, 0, 0, 0],\n      [1, 1, 1, 1],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ],\n    color: '#06b6d4', // cyan\n  },\n  O: {\n    shape: [\n      [1, 1],\n      [1, 1],\n    ],\n    color: '#eab308', // yellow\n  },\n  T: {\n    shape: [\n      [0, 1, 0],\n      [1, 1, 1],\n      [0, 0, 0],\n    ],\n    color: '#a855f7', // purple\n  },\n  S: {\n    shape: [\n      [0, 1, 1],\n      [1, 1, 0],\n      [0, 0, 0],\n    ],\n    color: '#22c55e', // green\n  },\n  Z: {\n    shape: [\n      [1, 1, 0],\n      [0, 1, 1],\n      [0, 0, 0],\n    ],\n    color: '#ef4444', // red\n  },\n  J: {\n    shape: [\n      [1, 0, 0],\n      [1, 1, 1],\n      [0, 0, 0],\n    ],\n    color: '#3b82f6', // blue\n  },\n  L: {\n    shape: [\n      [0, 0, 1],\n      [1, 1, 1],\n      [0, 0, 0],\n    ],\n    color: '#f97316', // orange\n  },\n}\n\n// ÁîüÊàêÈöèÊú∫ÊñπÂùóÁ±ªÂûã\nexport function randomTetrominoType(): TetrominoType {\n  const types: TetrominoType[] = ['I', 'O', 'T', 'S', 'Z', 'J', 'L']\n  return types[Math.floor(Math.random() * types.length)]\n}\n\n// ÂàõÂª∫Êñ∞ÊñπÂùó\nexport function createTetromino(type: TetrominoType, x?: number, y?: number): Tetromino {\n  const tetromino = TETROMINOES[type]\n  return {\n    type,\n    shape: tetromino.shape,\n    x: x ?? Math.floor((defaultConfig.boardWidth - tetromino.shape[0].length) / 2),\n    y: y ?? 0,\n    color: tetromino.color,\n  }\n}\n\n// ÂàùÂßãÂåñÊ∏∏ÊàèÊùø\nexport function createBoard(width: number = defaultConfig.boardWidth, height: number = defaultConfig.boardHeight): GameBoard {\n  return Array(height).fill(null).map(() =>\n    Array(width).fill(null).map(() => ({ filled: false }))\n  )\n}\n\n// ÂàùÂßãÂåñÊ∏∏ÊàèÁä∂ÊÄÅ\nexport function initializeGame(config: TetrisGameConfig = defaultConfig): TetrisGameState {\n  const currentType = randomTetrominoType()\n  const nextType = randomTetrominoType()\n\n  return {\n    board: createBoard(config.boardWidth, config.boardHeight),\n    currentPiece: createTetromino(currentType),\n    nextPiece: nextType,\n    score: 0,\n    level: 1,\n    lines: 0,\n    status: 'IDLE',\n    highScore: parseInt(localStorage.getItem('tetrisHighScore') || '0'),\n  }\n}\n\n// ÊóãËΩ¨ÊñπÂùóÂΩ¢Áä∂\nexport function rotateShape(shape: TetrominoShape): TetrominoShape {\n  const rows = shape.length\n  const cols = shape[0].length\n  const rotated: TetrominoShape = Array(cols).fill(null).map(() => Array(rows).fill(0))\n\n  for (let y = 0; y < rows; y++) {\n    for (let x = 0; x < cols; x++) {\n      rotated[x][rows - 1 - y] = shape[y][x]\n    }\n  }\n\n  return rotated\n}\n\n// Ê£ÄÊü•ÊñπÂùó‰ΩçÁΩÆÊòØÂê¶ÊúâÊïà\nexport function isValidPosition(\n  piece: Tetromino,\n  board: GameBoard,\n  newX?: number,\n  newY?: number,\n  newShape?: TetrominoShape\n): boolean {\n  const x = newX ?? piece.x\n  const y = newY ?? piece.y\n  const shape = newShape ?? piece.shape\n\n  for (let row = 0; row < shape.length; row++) {\n    for (let col = 0; col < shape[row].length; col++) {\n      if (shape[row][col]) {\n        const boardX = x + col\n        const boardY = y + row\n\n        // Ê£ÄÊü•ËæπÁïå\n        if (boardX < 0 || boardX >= board[0].length || boardY >= board.length) {\n          return false\n        }\n\n        // Ê£ÄÊü•Á¢∞ÊíûÔºàÂè™Ê£ÄÊü•Â∑≤ÁªèÂú®ÊùøÂ≠ê‰∏äÁöÑÔºâ\n        if (boardY >= 0 && board[boardY][boardX].filled) {\n          return false\n        }\n      }\n    }\n  }\n\n  return true\n}\n\n// ÈîÅÂÆöÊñπÂùóÂà∞Ê∏∏ÊàèÊùø\nexport function lockPiece(piece: Tetromino, board: GameBoard): GameBoard {\n  const newBoard = board.map(row => [...row])\n\n  for (let row = 0; row < piece.shape.length; row++) {\n    for (let col = 0; col < piece.shape[row].length; col++) {\n      if (piece.shape[row][col]) {\n        const boardY = piece.y + row\n        const boardX = piece.x + col\n        if (boardY >= 0) {\n          newBoard[boardY][boardX] = {\n            filled: true,\n            color: piece.color,\n            type: piece.type,\n          }\n        }\n      }\n    }\n  }\n\n  return newBoard\n}\n\n// Ê∏ÖÈô§ÂÆåÊï¥ÁöÑË°å\nexport function clearLines(board: GameBoard): { newBoard: GameBoard; linesCleared: number } {\n  const newBoard: GameBoard = []\n  let linesCleared = 0\n\n  for (let row = 0; row < board.length; row++) {\n    if (board[row].every(cell => cell.filled)) {\n      linesCleared++\n    } else {\n      newBoard.push([...board[row]])\n    }\n  }\n\n  // Ê∑ªÂä†Êñ∞ÁöÑÁ©∫Ë°åÂà∞È°∂ÈÉ®\n  while (newBoard.length < board.length) {\n    newBoard.unshift(\n      Array(board[0].length).fill(null).map(() => ({ filled: false }))\n    )\n  }\n\n  return { newBoard, linesCleared }\n}\n\n// ËÆ°ÁÆóÂàÜÊï∞\nexport function calculateScore(linesCleared: number, level: number): number {\n  const lineScores = [0, 100, 300, 600, 1000]\n  return (lineScores[linesCleared] || 0) * level\n}\n\n// ËÆ°ÁÆóÊ∏∏ÊàèÈÄüÂ∫¶\nexport function calculateSpeed(level: number, config: TetrisGameConfig = defaultConfig): number {\n  const speed = config.initialSpeed - (level - 1) * config.speedIncrement\n  return Math.max(speed, config.minSpeed)\n}\n\n// ÁßªÂä®ÊñπÂùó\nexport function movePiece(\n  state: TetrisGameState,\n  dx: number,\n  dy: number\n): TetrisGameState {\n  if (state.status !== 'PLAYING') {\n    return state\n  }\n\n  const newX = state.currentPiece.x + dx\n  const newY = state.currentPiece.y + dy\n\n  if (isValidPosition(state.currentPiece, state.board, newX, newY)) {\n    return {\n      ...state,\n      currentPiece: { ...state.currentPiece, x: newX, y: newY },\n    }\n  }\n\n  // Â¶ÇÊûúÂêë‰∏ãÁßªÂä®Â§±Ë¥•ÔºåÈîÅÂÆöÊñπÂùó\n  if (dy > 0) {\n    return lockCurrentPiece(state)\n  }\n\n  return state\n}\n\n// ÊóãËΩ¨ÊñπÂùó\nexport function rotatePiece(state: TetrisGameState): TetrisGameState {\n  if (state.status !== 'PLAYING') {\n    return state\n  }\n\n  const rotatedShape = rotateShape(state.currentPiece.shape)\n\n  // Â∞ùËØïÊóãËΩ¨\n  if (isValidPosition(state.currentPiece, state.board, undefined, undefined, rotatedShape)) {\n    return {\n      ...state,\n      currentPiece: { ...state.currentPiece, shape: rotatedShape },\n    }\n  }\n\n  // Â∞ùËØïÂ¢ôË∏¢ÔºàÂ∑¶Âè≥ÁßªÂä®Ôºâ\n  const kicks = [-1, 1, -2, 2]\n  for (const kick of kicks) {\n    if (isValidPosition(state.currentPiece, state.board, state.currentPiece.x + kick, undefined, rotatedShape)) {\n      return {\n        ...state,\n        currentPiece: {\n          ...state.currentPiece,\n          x: state.currentPiece.x + kick,\n          shape: rotatedShape,\n        },\n      }\n    }\n  }\n\n  return state\n}\n\n// Á°¨ÈôçÔºàÁõ¥Êé•ËêΩÂà∞Â∫ïÈÉ®Ôºâ\nexport function hardDrop(state: TetrisGameState): TetrisGameState {\n  if (state.status !== 'PLAYING') {\n    return state\n  }\n\n  let newY = state.currentPiece.y\n  while (isValidPosition(state.currentPiece, state.board, state.currentPiece.x, newY + 1)) {\n    newY++\n  }\n\n  return lockCurrentPiece({\n    ...state,\n    currentPiece: { ...state.currentPiece, y: newY },\n  })\n}\n\n// ÈîÅÂÆöÂΩìÂâçÊñπÂùó\nexport function lockCurrentPiece(state: TetrisGameState): TetrisGameState {\n  const newBoard = lockPiece(state.currentPiece, state.board)\n  const { newBoard: clearedBoard, linesCleared } = clearLines(newBoard)\n\n  const newScore = state.score + calculateScore(linesCleared, state.level)\n  const newLines = state.lines + linesCleared\n  const newLevel = Math.floor(newLines / 10) + 1\n\n  // ÂàõÂª∫Êñ∞ÊñπÂùó\n  const newPiece = createTetromino(state.nextPiece)\n  const nextType = randomTetrominoType()\n\n  // Ê£ÄÊü•Ê∏∏ÊàèÁªìÊùü\n  if (!isValidPosition(newPiece, clearedBoard)) {\n    const newHighScore = Math.max(newScore, state.highScore)\n    localStorage.setItem('tetrisHighScore', newHighScore.toString())\n    return {\n      ...state,\n      board: clearedBoard,\n      score: newScore,\n      lines: newLines,\n      level: newLevel,\n      status: 'GAME_OVER',\n      highScore: newHighScore,\n    }\n  }\n\n  return {\n    ...state,\n    board: clearedBoard,\n    currentPiece: newPiece,\n    nextPiece: nextType,\n    score: newScore,\n    lines: newLines,\n    level: newLevel,\n  }\n}\n\n// Ê∏∏ÊàèÊ≠•ËøõÔºàËá™Âä®‰∏ãËêΩÔºâ\nexport function gameStep(state: TetrisGameState): TetrisGameState {\n  if (state.status !== 'PLAYING') {\n    return state\n  }\n\n  return movePiece(state, 0, 1)\n}\n\n// ÂºÄÂßãÊ∏∏Êàè\nexport function startGame(state: TetrisGameState): TetrisGameState {\n  if (state.status === 'PLAYING') {\n    return state\n  }\n\n  if (state.status === 'GAME_OVER') {\n    return {\n      ...initializeGame(),\n      status: 'PLAYING',\n      highScore: state.highScore,\n    }\n  }\n\n  return {\n    ...state,\n    status: 'PLAYING',\n  }\n}\n\n// ÊöÇÂÅúÊ∏∏Êàè\nexport function pauseGame(state: TetrisGameState): TetrisGameState {\n  if (state.status !== 'PLAYING') {\n    return state\n  }\n\n  return {\n    ...state,\n    status: 'PAUSED',\n  }\n}\n\n// ÁªßÁª≠Ê∏∏Êàè\nexport function resumeGame(state: TetrisGameState): TetrisGameState {\n  if (state.status !== 'PAUSED') {\n    return state\n  }\n\n  return {\n    ...state,\n    status: 'PLAYING',\n  }\n}\n\n// ÈáçÁΩÆÊ∏∏Êàè\nexport function resetGame(state: TetrisGameState): TetrisGameState {\n  return {\n    ...initializeGame(),\n    highScore: state.highScore,\n  }\n}\n\n// ÂàáÊç¢ÊöÇÂÅú/ÁªßÁª≠\nexport function togglePause(state: TetrisGameState): TetrisGameState {\n  if (state.status === 'PLAYING') {\n    return pauseGame(state)\n  } else if (state.status === 'PAUSED') {\n    return resumeGame(state)\n  }\n  return state\n}\n","import { useEffect, useRef, useCallback, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { Play, Pause, RotateCcw, Trophy, ChevronDown, ChevronLeft, ChevronRight, RotateCw } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport {\n  initializeGame,\n  gameStep,\n  movePiece,\n  rotatePiece,\n  hardDrop,\n  startGame,\n  resetGame,\n  togglePause,\n  TETROMINOES,\n  type TetrisGameState,\n  defaultConfig,\n  calculateSpeed,\n} from './tetrisLogic'\n\ninterface TetrisGameProps {\n  onScoreChange?: (score: number) => void\n  onGameOver?: (score: number) => void\n}\n\nexport function TetrisGame({ onScoreChange, onGameOver }: TetrisGameProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const nextPieceRef = useRef<HTMLCanvasElement>(null)\n  const [state, setState] = useState<TetrisGameState>(() => initializeGame())\n  const gameLoopRef = useRef<ReturnType<typeof setInterval> | null>(null)\n\n  const cellSize = 25\n  const canvasWidth = defaultConfig.boardWidth * cellSize\n  const canvasHeight = defaultConfig.boardHeight * cellSize\n\n  // ÁªòÂà∂Ê∏∏ÊàèÁîªÈù¢\n  const draw = useCallback(() => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n\n    // Ê∏ÖÁ©∫ÁîªÂ∏É\n    ctx.fillStyle = '#1a1a2e'\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight)\n\n    // ÁªòÂà∂ÁΩëÊ†º\n    ctx.strokeStyle = '#2d2d44'\n    ctx.lineWidth = 1\n    for (let i = 0; i <= defaultConfig.boardWidth; i++) {\n      ctx.beginPath()\n      ctx.moveTo(i * cellSize, 0)\n      ctx.lineTo(i * cellSize, canvasHeight)\n      ctx.stroke()\n    }\n    for (let i = 0; i <= defaultConfig.boardHeight; i++) {\n      ctx.beginPath()\n      ctx.moveTo(0, i * cellSize)\n      ctx.lineTo(canvasWidth, i * cellSize)\n      ctx.stroke()\n    }\n\n    // ÁªòÂà∂Â∑≤ÈîÅÂÆöÁöÑÊñπÂùó\n    state.board.forEach((row, y) => {\n      row.forEach((cell, x) => {\n        if (cell.filled && cell.color) {\n          ctx.fillStyle = cell.color\n          ctx.shadowColor = cell.color\n          ctx.shadowBlur = 5\n          ctx.fillRect(x * cellSize + 1, y * cellSize + 1, cellSize - 2, cellSize - 2)\n          ctx.shadowBlur = 0\n        }\n      })\n    })\n\n    // ÁªòÂà∂ÂΩìÂâçÊñπÂùó\n    state.currentPiece.shape.forEach((row, y) => {\n      row.forEach((cell, x) => {\n        if (cell) {\n          const boardX = state.currentPiece.x + x\n          const boardY = state.currentPiece.y + y\n          if (boardY >= 0) {\n            ctx.fillStyle = state.currentPiece.color\n            ctx.shadowColor = state.currentPiece.color\n            ctx.shadowBlur = 8\n            ctx.fillRect(boardX * cellSize + 1, boardY * cellSize + 1, cellSize - 2, cellSize - 2)\n            ctx.shadowBlur = 0\n          }\n        }\n      })\n    })\n  }, [state, canvasWidth, canvasHeight])\n\n  // ÁªòÂà∂‰∏ã‰∏Ä‰∏™ÊñπÂùó\n  const drawNextPiece = useCallback(() => {\n    const canvas = nextPieceRef.current\n    if (!canvas) return\n\n    const ctx = canvas.getContext('2d')\n    if (!ctx) return\n\n    // Ê∏ÖÁ©∫ÁîªÂ∏É\n    ctx.fillStyle = '#1a1a2e'\n    ctx.fillRect(0, 0, 100, 100)\n\n    const nextTetromino = TETROMINOES[state.nextPiece]\n    const shape = nextTetromino.shape\n    const color = nextTetromino.color\n\n    const blockSize = 20\n    const offsetX = (100 - shape[0].length * blockSize) / 2\n    const offsetY = (100 - shape.length * blockSize) / 2\n\n    shape.forEach((row, y) => {\n      row.forEach((cell, x) => {\n        if (cell) {\n          ctx.fillStyle = color\n          ctx.shadowColor = color\n          ctx.shadowBlur = 5\n          ctx.fillRect(\n            offsetX + x * blockSize,\n            offsetY + y * blockSize,\n            blockSize - 2,\n            blockSize - 2\n          )\n          ctx.shadowBlur = 0\n        }\n      })\n    })\n  }, [state.nextPiece])\n\n  // Ê∏∏ÊàèÂæ™ÁéØ\n  useEffect(() => {\n    if (state.status === 'PLAYING') {\n      const speed = calculateSpeed(state.level)\n      gameLoopRef.current = setInterval(() => {\n        setState(prevState => {\n          const newState = gameStep(prevState)\n          if (newState.status === 'GAME_OVER' && prevState.status !== 'GAME_OVER') {\n            onGameOver?.(newState.score)\n          }\n          if (newState.score !== prevState.score) {\n            onScoreChange?.(newState.score)\n          }\n          return newState\n        })\n      }, speed)\n    } else {\n      if (gameLoopRef.current) {\n        clearInterval(gameLoopRef.current)\n        gameLoopRef.current = null\n      }\n    }\n\n    return () => {\n      if (gameLoopRef.current) {\n        clearInterval(gameLoopRef.current)\n      }\n    }\n  }, [state.status, state.level, onScoreChange, onGameOver])\n\n  // ÁªòÂà∂ÁîªÈù¢\n  useEffect(() => {\n    draw()\n    drawNextPiece()\n  }, [draw, drawNextPiece])\n\n  // ÈîÆÁõòÊéßÂà∂\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Èò≤Ê≠¢ÊñπÂêëÈîÆÊªöÂä®È°µÈù¢\n      if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', ' '].includes(e.key)) {\n        e.preventDefault()\n      }\n\n      switch (e.key) {\n        case 'ArrowLeft':\n        case 'a':\n        case 'A':\n          setState(prev => movePiece(prev, -1, 0))\n          break\n        case 'ArrowRight':\n        case 'd':\n        case 'D':\n          setState(prev => movePiece(prev, 1, 0))\n          break\n        case 'ArrowDown':\n        case 's':\n        case 'S':\n          setState(prev => movePiece(prev, 0, 1))\n          break\n        case 'ArrowUp':\n        case 'w':\n        case 'W':\n          setState(prev => rotatePiece(prev))\n          break\n        case ' ':\n          setState(prev => hardDrop(prev))\n          break\n        case 'p':\n        case 'P':\n          setState(prev => togglePause(prev))\n          break\n        case 'r':\n        case 'R':\n          setState(prev => resetGame(prev))\n          break\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n    return () => window.removeEventListener('keydown', handleKeyDown)\n  }, [])\n\n  const handleStart = () => {\n    setState(prev => startGame(prev))\n  }\n\n  const handleReset = () => {\n    setState(prev => resetGame(prev))\n  }\n\n  const handlePauseToggle = () => {\n    setState(prev => togglePause(prev))\n  }\n\n  return (\n    <Card className=\"w-full max-w-3xl mx-auto\">\n      <CardHeader className=\"flex flex-row items-center justify-between\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <span className=\"text-2xl\">üß±</span>\n          ‰øÑÁΩóÊñØÊñπÂùó\n        </CardTitle>\n        <div className=\"flex items-center gap-2\">\n          <Badge variant=\"secondary\" className=\"flex items-center gap-1\">\n            <Trophy className=\"w-3 h-3\" />\n            ÊúÄÈ´òÂàÜ: {state.highScore}\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"flex flex-col md:flex-row gap-4\">\n          {/* Ê∏∏ÊàèÁîªÂ∏É */}\n          <div className=\"relative flex justify-center\">\n            <motion.div\n              initial={{ scale: 0.9, opacity: 0 }}\n              animate={{ scale: 1, opacity: 1 }}\n              transition={{ duration: 0.3 }}\n              className=\"relative\"\n            >\n              <canvas\n                ref={canvasRef}\n                width={canvasWidth}\n                height={canvasHeight}\n                className=\"border-2 border-border rounded-lg\"\n                style={{ imageRendering: 'pixelated' }}\n              />\n\n              {/* Ê∏∏ÊàèÁä∂ÊÄÅË¶ÜÁõñÂ±Ç */}\n              {state.status !== 'PLAYING' && (\n                <motion.div\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  className=\"absolute inset-0 flex flex-col items-center justify-center bg-background/80 rounded-lg\"\n                >\n                  {state.status === 'IDLE' && (\n                    <>\n                      <p className=\"text-lg font-medium mb-4\">ÂáÜÂ§áÂ•Ω‰∫ÜÂêóÔºü</p>\n                      <Button onClick={handleStart} size=\"lg\">\n                        <Play className=\"w-4 h-4 mr-2\" />\n                        ÂºÄÂßãÊ∏∏Êàè\n                      </Button>\n                    </>\n                  )}\n                  {state.status === 'PAUSED' && (\n                    <>\n                      <p className=\"text-lg font-medium mb-4\">Ê∏∏ÊàèÊöÇÂÅú</p>\n                      <Button onClick={handlePauseToggle} size=\"lg\">\n                        <Play className=\"w-4 h-4 mr-2\" />\n                        ÁªßÁª≠Ê∏∏Êàè\n                      </Button>\n                    </>\n                  )}\n                  {state.status === 'GAME_OVER' && (\n                    <>\n                      <p className=\"text-2xl font-bold text-destructive mb-2\">Ê∏∏ÊàèÁªìÊùü</p>\n                      <p className=\"text-lg mb-4\">ÊúÄÁªàÂæóÂàÜ: {state.score}</p>\n                      <Button onClick={handleStart} size=\"lg\">\n                        <RotateCcw className=\"w-4 h-4 mr-2\" />\n                        ÂÜçÊù•‰∏ÄÂ±Ä\n                      </Button>\n                    </>\n                  )}\n                </motion.div>\n              )}\n            </motion.div>\n          </div>\n\n          {/* ‰æßËæπ‰ø°ÊÅØÈù¢Êùø */}\n          <div className=\"flex flex-row md:flex-col gap-4 justify-center\">\n            {/* ‰∏ã‰∏Ä‰∏™ÊñπÂùó */}\n            <div className=\"text-center\">\n              <p className=\"text-sm text-muted-foreground mb-2\">‰∏ã‰∏Ä‰∏™</p>\n              <canvas\n                ref={nextPieceRef}\n                width={100}\n                height={100}\n                className=\"border-2 border-border rounded-lg\"\n              />\n            </div>\n\n            {/* Ê∏∏Êàè‰ø°ÊÅØ */}\n            <div className=\"space-y-3\">\n              <div className=\"text-center\">\n                <p className=\"text-sm text-muted-foreground\">ÂàÜÊï∞</p>\n                <p className=\"text-2xl font-bold\">{state.score}</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-sm text-muted-foreground\">Á≠âÁ∫ß</p>\n                <p className=\"text-2xl font-bold\">{state.level}</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-sm text-muted-foreground\">Ë°åÊï∞</p>\n                <p className=\"text-2xl font-bold\">{state.lines}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ÊéßÂà∂ÊåâÈíÆ */}\n        <div className=\"flex flex-wrap items-center justify-center gap-2\">\n          {state.status === 'PLAYING' ? (\n            <Button variant=\"outline\" onClick={handlePauseToggle}>\n              <Pause className=\"w-4 h-4 mr-2\" />\n              ÊöÇÂÅú\n            </Button>\n          ) : (\n            <Button onClick={handleStart}>\n              <Play className=\"w-4 h-4 mr-2\" />\n              {state.status === 'GAME_OVER' ? 'ÂÜçÊù•‰∏ÄÂ±Ä' : 'ÂºÄÂßã'}\n            </Button>\n          )}\n          <Button variant=\"outline\" onClick={handleReset}>\n            <RotateCcw className=\"w-4 h-4 mr-2\" />\n            ÈáçÁΩÆ\n          </Button>\n        </div>\n\n        {/* ËôöÊãüÊåâÈîÆÔºàÁßªÂä®Á´ØÔºâ */}\n        <div className=\"flex flex-col items-center gap-2 md:hidden\">\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={() => setState(prev => rotatePiece(prev))}\n              disabled={state.status !== 'PLAYING'}\n            >\n              <RotateCw className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={() => setState(prev => hardDrop(prev))}\n              disabled={state.status !== 'PLAYING'}\n            >\n              <ChevronDown className=\"w-4 h-4\" />\n            </Button>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={() => setState(prev => movePiece(prev, -1, 0))}\n              disabled={state.status !== 'PLAYING'}\n            >\n              <ChevronLeft className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={() => setState(prev => movePiece(prev, 0, 1))}\n              disabled={state.status !== 'PLAYING'}\n            >\n              <ChevronDown className=\"w-4 h-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={() => setState(prev => movePiece(prev, 1, 0))}\n              disabled={state.status !== 'PLAYING'}\n            >\n              <ChevronRight className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Êìç‰ΩúËØ¥Êòé */}\n        <div className=\"text-sm text-muted-foreground text-center\">\n          <p>Êìç‰Ωú: ‚Üê‚Üí ÁßªÂä® | ‚Üë ÊóãËΩ¨ | ‚Üì Âä†ÈÄü | Á©∫Ê†º Á°¨Èôç | P ÊöÇÂÅú | R ÈáçÁΩÆ</p>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n","import { motion } from 'framer-motion'\nimport { TetrisGame } from '@/components/games/tetris/TetrisGame'\nimport { Navigation } from '@/components/home/Navigation'\nimport { Footer } from '@/components/home/Footer'\nimport { Gamepad2, Trophy, Target } from 'lucide-react'\n\nexport function TetrisPage() {\n  return (\n    <div className=\"min-h-screen bg-background flex flex-col\">\n      <Navigation />\n\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.3 }}\n        className=\"flex-1 pt-16\"\n      >\n        {/* Hero Section */}\n        <section className=\"relative py-12 px-4 sm:px-6 lg:px-8 overflow-hidden\">\n          <div className=\"absolute inset-0 overflow-hidden\">\n            <div className=\"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-to-b from-blue-500/5 to-transparent rounded-full blur-3xl\" />\n          </div>\n\n          <div className=\"relative max-w-7xl mx-auto text-center\">\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5 }}\n            >\n              <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/10 mb-6\">\n                <Gamepad2 className=\"w-8 h-8 text-blue-500\" />\n              </div>\n              <h1 className=\"text-4xl sm:text-5xl font-bold tracking-tight mb-4\">\n                <span className=\"bg-gradient-to-r from-blue-500 to-cyan-500 bg-clip-text text-transparent\">\n                  ‰øÑÁΩóÊñØÊñπÂùó\n                </span>\n              </h1>\n              <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n                ÁªèÂÖ∏ÁõäÊô∫Ê∏∏ÊàèÔºåÊóãËΩ¨ÂíåÁßªÂä®ÊñπÂùóÔºåÂ°´Êª°Êï¥Ë°åÊ∂àÈô§ÂæóÂàÜÔºÅ\n              </p>\n            </motion.div>\n\n            {/* Stats */}\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.5, delay: 0.2 }}\n              className=\"mt-8 flex justify-center gap-8\"\n            >\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Target className=\"w-5 h-5\" />\n                <span>ÁõÆÊ†áÔºöÊ∂àÈô§Êõ¥Â§öË°å</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Trophy className=\"w-5 h-5\" />\n                <span>ËÆ∞ÂΩï‰øùÂ≠òÂú®Êú¨Âú∞</span>\n              </div>\n            </motion.div>\n          </div>\n        </section>\n\n        {/* Game Section */}\n        <section className=\"py-8 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-4xl mx-auto\">\n            <TetrisGame />\n          </div>\n        </section>\n\n        {/* Tips Section */}\n        <section className=\"py-12 px-4 sm:px-6 lg:px-8 bg-muted/30\">\n          <div className=\"max-w-4xl mx-auto\">\n            <h2 className=\"text-2xl font-bold text-center mb-8\">Ê∏∏ÊàèÊäÄÂ∑ß</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"p-6 rounded-xl bg-background border border-border/50\">\n                <div className=\"text-3xl mb-3\">üéØ</div>\n                <h3 className=\"font-semibold mb-2\">‰øùÊåÅÂπ≥Êï¥</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  Â∞ΩÈáè‰øùÊåÅÈ°∂ÈÉ®Âπ≥Êï¥ÔºåÈÅøÂÖç‰∫ßÁîüÈöæ‰ª•Â°´Ë°•ÁöÑÁ©∫Ê¥û\n                </p>\n              </div>\n              <div className=\"p-6 rounded-xl bg-background border border-border/50\">\n                <div className=\"text-3xl mb-3\">‚ö°</div>\n                <h3 className=\"font-semibold mb-2\">‰ΩøÁî®Á°¨Èôç</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  ÊåâÁ©∫Ê†ºÈîÆÂèØ‰ª•Âø´ÈÄüËêΩÂà∞Â∫ïÈÉ®ÔºåËäÇÁúÅÊó∂Èó¥\n                </p>\n              </div>\n              <div className=\"p-6 rounded-xl bg-background border border-border/50\">\n                <div className=\"text-3xl mb-3\">üß±</div>\n                <h3 className=\"font-semibold mb-2\">È¢ÑÁïô I Âùó</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  ÈïøÊù°ÂùóÂèØ‰ª•Ê∂àÈô§ÂõõË°åÔºåÈ¢ÑÁïô‰ΩçÁΩÆ‰ª•Â§á‰∏çÊó∂‰πãÈúÄ\n                </p>\n              </div>\n            </div>\n          </div>\n        </section>\n      </motion.div>\n\n      <Footer />\n    </div>\n  )\n}\n"],"names":["defaultConfig","TETROMINOES","randomTetrominoType","types","createTetromino","type","x","y","tetromino","createBoard","width","height","initializeGame","config","currentType","nextType","rotateShape","shape","rows","cols","rotated","isValidPosition","piece","board","newX","newY","newShape","row","col","boardX","boardY","lockPiece","newBoard","clearLines","linesCleared","cell","calculateScore","level","calculateSpeed","speed","movePiece","state","dx","dy","lockCurrentPiece","rotatePiece","rotatedShape","kicks","kick","hardDrop","clearedBoard","newScore","newLines","newLevel","newPiece","newHighScore","gameStep","startGame","pauseGame","resumeGame","resetGame","togglePause","TetrisGame","onScoreChange","onGameOver","canvasRef","useRef","nextPieceRef","setState","useState","gameLoopRef","cellSize","canvasWidth","canvasHeight","draw","useCallback","canvas","ctx","i","drawNextPiece","nextTetromino","color","blockSize","offsetX","offsetY","useEffect","prevState","newState","handleKeyDown","e","prev","handleStart","handleReset","handlePauseToggle","jsxs","Card","CardHeader","CardTitle","jsx","Badge","Trophy","CardContent","motion","Fragment","Button","Play","RotateCcw","Pause","RotateCw","ChevronDown","ChevronLeft","ChevronRight","TetrisPage","Navigation","Gamepad2","Target","Footer"],"mappings":"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"}